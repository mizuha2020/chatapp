{"version":3,"sources":["PrivateRoute/index.js","cometchat-pro-react-ui-kit/CometChatWorkspace/src/util/enums.js","cometchat-pro-react-ui-kit/CometChatWorkspace/src/components/Calls/CometChatIncomingCall/controller.js","cometchat-pro-react-ui-kit/CometChatWorkspace/src/resources/theme.js","cometchat-pro-react-ui-kit/CometChatWorkspace/src/components/Shared/CometChatAvatar/index.js","cometchat-pro-react-ui-kit/CometChatWorkspace/src/components/Shared/CometChatAvatar/resources/1px.png","cometchat-pro-react-ui-kit/CometChatWorkspace/src/components/Shared/CometChatAvatar/style.js","cometchat-pro-react-ui-kit/CometChatWorkspace/src/components/Shared/CometChatBackdrop/style.js","cometchat-pro-react-ui-kit/CometChatWorkspace/src/components/Shared/CometChatBackdrop/index.js","cometchat-pro-react-ui-kit/CometChatWorkspace/src/components/Shared/CometChatBadgeCount/style.js","cometchat-pro-react-ui-kit/CometChatWorkspace/src/components/Shared/CometChatBadgeCount/index.js","cometchat-pro-react-ui-kit/CometChatWorkspace/src/components/Shared/CometChatUserPresence/style.js","cometchat-pro-react-ui-kit/CometChatWorkspace/src/components/Shared/CometChatUserPresence/index.js","cometchat-pro-react-ui-kit/CometChatWorkspace/src/resources/localization/translator.js","cometchat-pro-react-ui-kit/CometChatWorkspace/src/components/Shared/CometChatToastNotification/style.js","cometchat-pro-react-ui-kit/CometChatWorkspace/src/components/Shared/CometChatToastNotification/resources/close-circle-filled.svg","cometchat-pro-react-ui-kit/CometChatWorkspace/src/components/Shared/CometChatToastNotification/resources/checkmark-filled.svg","cometchat-pro-react-ui-kit/CometChatWorkspace/src/components/Shared/CometChatToastNotification/resources/warning-filled.svg","cometchat-pro-react-ui-kit/CometChatWorkspace/src/components/Shared/CometChatToastNotification/resources/info-filled.svg","cometchat-pro-react-ui-kit/CometChatWorkspace/src/components/Shared/CometChatToastNotification/index.js","cometchat-pro-react-ui-kit/CometChatWorkspace/src/components/Shared/CometChatConfirmDialog/style.js","cometchat-pro-react-ui-kit/CometChatWorkspace/src/components/Shared/CometChatConfirmDialog/index.js","cometchat-pro-react-ui-kit/CometChatWorkspace/src/util/UIKitSettings.js","cometchat-pro-react-ui-kit/CometChatWorkspace/src/util/FeatureRestriction/index.js","cometchat-pro-react-ui-kit/CometChatWorkspace/src/util/CometChatContext.js","cometchat-pro-react-ui-kit/CometChatWorkspace/src/util/Storage.js","cometchat-pro-react-ui-kit/CometChatWorkspace/src/components/Calls/CometChatCallScreen/strings.js","cometchat-pro-react-ui-kit/CometChatWorkspace/src/components/Calls/CometChatCallScreen/style.js","cometchat-pro-react-ui-kit/CometChatWorkspace/src/components/Calls/CometChatCallScreen/resources/reduce-size.svg","cometchat-pro-react-ui-kit/CometChatWorkspace/src/components/Calls/CometChatCallScreen/resources/increase-size.svg","cometchat-pro-react-ui-kit/CometChatWorkspace/src/components/Calls/CometChatCallScreen/index.js","cometchat-pro-react-ui-kit/CometChatWorkspace/src/util/SoundManager.js","cometchat-pro-react-ui-kit/CometChatWorkspace/src/components/Calls/CometChatIncomingCall/style.js","cometchat-pro-react-ui-kit/CometChatWorkspace/src/components/Calls/CometChatIncomingCall/resources/incoming-call.svg","cometchat-pro-react-ui-kit/CometChatWorkspace/src/components/Calls/CometChatIncomingCall/resources/incoming-video-call.svg","cometchat-pro-react-ui-kit/CometChatWorkspace/src/components/Calls/CometChatIncomingCall/index.js","cometchat-pro-react-ui-kit/CometChatWorkspace/src/components/Calls/CometChatOutgoingCall/controller.js","cometchat-pro-react-ui-kit/CometChatWorkspace/src/components/Calls/CometChatOutgoingCall/style.js","cometchat-pro-react-ui-kit/CometChatWorkspace/src/components/Calls/CometChatOutgoingCall/resources/end-call.svg","cometchat-pro-react-ui-kit/CometChatWorkspace/src/components/Calls/CometChatOutgoingCall/index.js","cometchat-pro-react-ui-kit/CometChatWorkspace/src/components/Calls/CometChatIncomingDirectCall/controller.js","cometchat-pro-react-ui-kit/CometChatWorkspace/src/components/Calls/CometChatIncomingDirectCall/style.js","cometchat-pro-react-ui-kit/CometChatWorkspace/src/components/Calls/CometChatIncomingDirectCall/resources/incoming-video-call.svg","cometchat-pro-react-ui-kit/CometChatWorkspace/src/components/Calls/CometChatIncomingDirectCall/index.js","cometchat-pro-react-ui-kit/CometChatWorkspace/src/util/common.js","cometchat-pro-react-ui-kit/CometChatWorkspace/src/components/Calls/CometChatOutgoingDirectCall/index.js","cometchat-pro-react-ui-kit/CometChatWorkspace/src/components/Chats/CometChatConversationList/controller.js","cometchat-pro-react-ui-kit/CometChatWorkspace/src/util/CometChatEvent.js","cometchat-pro-react-ui-kit/CometChatWorkspace/src/components/Chats/CometChatConversationList/style.js","cometchat-pro-react-ui-kit/CometChatWorkspace/src/components/Chats/CometChatConversationList/resources/back.svg","cometchat-pro-react-ui-kit/CometChatWorkspace/src/components/Chats/CometChatConversationList/index.js","cometchat-pro-react-ui-kit/CometChatWorkspace/src/components/Chats/CometChatConversationListActions/style.js","cometchat-pro-react-ui-kit/CometChatWorkspace/src/components/Chats/CometChatConversationListActions/resources/progress.svg","cometchat-pro-react-ui-kit/CometChatWorkspace/src/components/Chats/CometChatConversationListActions/resources/delete.svg","cometchat-pro-react-ui-kit/CometChatWorkspace/src/components/Chats/CometChatConversationListActions/index.js","cometchat-pro-react-ui-kit/CometChatWorkspace/src/components/Chats/CometChatConversationListItem/style.js","cometchat-pro-react-ui-kit/CometChatWorkspace/src/components/Chats/CometChatConversationListItem/index.js","cometchat-pro-react-ui-kit/CometChatWorkspace/src/components/Messages/Extensions/CometChatSmartReplyPreview/style.js","cometchat-pro-react-ui-kit/CometChatWorkspace/src/components/Messages/Extensions/CometChatSmartReplyPreview/resources/close.svg","cometchat-pro-react-ui-kit/CometChatWorkspace/src/components/Messages/Extensions/CometChatSmartReplyPreview/index.js","cometchat-pro-react-ui-kit/CometChatWorkspace/src/components/Messages/Extensions/CometChatStickerKeyboard/style.js","cometchat-pro-react-ui-kit/CometChatWorkspace/src/components/Messages/Extensions/CometChatStickerKeyboard/resources/close.svg","cometchat-pro-react-ui-kit/CometChatWorkspace/src/components/Messages/Extensions/CometChatStickerKeyboard/index.js","cometchat-pro-react-ui-kit/CometChatWorkspace/src/components/Messages/Extensions/CometChatMessageReactions/style.js","cometchat-pro-react-ui-kit/CometChatWorkspace/src/components/Messages/Extensions/CometChatMessageReactions/resources/reactions.svg","cometchat-pro-react-ui-kit/CometChatWorkspace/src/components/Messages/Extensions/CometChatMessageReactions/index.js","cometchat-pro-react-ui-kit/CometChatWorkspace/src/components/Messages/Extensions/CometChatCreatePoll/style.js","cometchat-pro-react-ui-kit/CometChatWorkspace/src/components/Messages/Extensions/CometChatCreatePoll/resources/creating.svg","cometchat-pro-react-ui-kit/CometChatWorkspace/src/components/Messages/Extensions/CometChatCreatePoll/resources/add-circle-filled.svg","cometchat-pro-react-ui-kit/CometChatWorkspace/src/components/Messages/Extensions/CometChatCreatePoll/resources/close.svg","cometchat-pro-react-ui-kit/CometChatWorkspace/src/components/Messages/Extensions/CometChatCreatePoll/index.js","cometchat-pro-react-ui-kit/CometChatWorkspace/src/components/Messages/Extensions/CometChatCreatePollOptions/style.js","cometchat-pro-react-ui-kit/CometChatWorkspace/src/components/Messages/Extensions/CometChatCreatePollOptions/resources/remove.svg","cometchat-pro-react-ui-kit/CometChatWorkspace/src/components/Messages/Extensions/CometChatCreatePollOptions/index.js","cometchat-pro-react-ui-kit/CometChatWorkspace/src/components/Messages/Extensions/CometChatReceiverDocumentBubble/style.js","cometchat-pro-react-ui-kit/CometChatWorkspace/src/components/Messages/Extensions/CometChatReceiverDocumentBubble/resources/collaborative-document.svg","cometchat-pro-react-ui-kit/CometChatWorkspace/src/components/Messages/Extensions/CometChatReceiverDocumentBubble/index.js","cometchat-pro-react-ui-kit/CometChatWorkspace/src/components/Messages/Extensions/CometChatReceiverPollMessageBubble/style.js","cometchat-pro-react-ui-kit/CometChatWorkspace/src/components/Messages/Extensions/CometChatReceiverPollMessageBubble/resources/checkmark.svg","cometchat-pro-react-ui-kit/CometChatWorkspace/src/components/Messages/Extensions/CometChatReceiverPollMessageBubble/index.js","cometchat-pro-react-ui-kit/CometChatWorkspace/src/components/Messages/Extensions/CometChatReceiverStickerMessageBubble/style.js","cometchat-pro-react-ui-kit/CometChatWorkspace/src/components/Messages/Extensions/CometChatReceiverStickerMessageBubble/index.js","cometchat-pro-react-ui-kit/CometChatWorkspace/src/components/Messages/Extensions/CometChatReceiverWhiteboardBubble/style.js","cometchat-pro-react-ui-kit/CometChatWorkspace/src/components/Messages/Extensions/CometChatReceiverWhiteboardBubble/resources/collaborative-whiteboard.svg","cometchat-pro-react-ui-kit/CometChatWorkspace/src/components/Messages/Extensions/CometChatReceiverWhiteboardBubble/index.js","cometchat-pro-react-ui-kit/CometChatWorkspace/src/components/Messages/Extensions/CometChatSenderDocumentBubble/style.js","cometchat-pro-react-ui-kit/CometChatWorkspace/src/components/Messages/Extensions/CometChatSenderDocumentBubble/resources/collaborative-document.svg","cometchat-pro-react-ui-kit/CometChatWorkspace/src/components/Messages/Extensions/CometChatSenderDocumentBubble/index.js","cometchat-pro-react-ui-kit/CometChatWorkspace/src/components/Messages/Extensions/CometChatSenderPollMessageBubble/style.js","cometchat-pro-react-ui-kit/CometChatWorkspace/src/components/Messages/Extensions/CometChatSenderPollMessageBubble/index.js","cometchat-pro-react-ui-kit/CometChatWorkspace/src/components/Messages/Extensions/CometChatSenderStickerBubble/style.js","cometchat-pro-react-ui-kit/CometChatWorkspace/src/components/Messages/Extensions/CometChatSenderStickerBubble/index.js","cometchat-pro-react-ui-kit/CometChatWorkspace/src/components/Messages/Extensions/CometChatSenderWhiteboardBubble/style.js","cometchat-pro-react-ui-kit/CometChatWorkspace/src/components/Messages/Extensions/CometChatSenderWhiteboardBubble/resources/collaborative-whiteboard.svg","cometchat-pro-react-ui-kit/CometChatWorkspace/src/components/Messages/Extensions/CometChatSenderWhiteboardBubble/index.js","cometchat-pro-react-ui-kit/CometChatWorkspace/src/components/Messages/CometChatActionMessageBubble/style.js","cometchat-pro-react-ui-kit/CometChatWorkspace/src/components/Messages/CometChatActionMessageBubble/index.js","cometchat-pro-react-ui-kit/CometChatWorkspace/src/components/Messages/CometChatDeleteMessageBubble/style.js","cometchat-pro-react-ui-kit/CometChatWorkspace/src/components/Messages/CometChatDeleteMessageBubble/index.js","cometchat-pro-react-ui-kit/CometChatWorkspace/src/components/Messages/CometChatEmojiKeyboard/style.js","cometchat-pro-react-ui-kit/CometChatWorkspace/src/components/Messages/CometChatEmojiKeyboard/index.js","cometchat-pro-react-ui-kit/CometChatWorkspace/src/components/Messages/CometChatImageViewer/style.js","cometchat-pro-react-ui-kit/CometChatWorkspace/src/components/Messages/CometChatImageViewer/resources/ring.svg","cometchat-pro-react-ui-kit/CometChatWorkspace/src/components/Messages/CometChatImageViewer/resources/close.svg","cometchat-pro-react-ui-kit/CometChatWorkspace/src/components/Messages/CometChatImageViewer/index.js","cometchat-pro-react-ui-kit/CometChatWorkspace/src/components/Messages/CometChatLinkPreview/style.js","cometchat-pro-react-ui-kit/CometChatWorkspace/src/components/Messages/CometChatLinkPreview/index.js","cometchat-pro-react-ui-kit/CometChatWorkspace/src/components/Messages/CometChatLiveReactions/index.js","cometchat-pro-react-ui-kit/CometChatWorkspace/src/components/Messages/CometChatLiveReactions/resources/heart.png","cometchat-pro-react-ui-kit/CometChatWorkspace/src/components/Messages/CometChatLiveReactions/style.js","cometchat-pro-react-ui-kit/CometChatWorkspace/src/components/Messages/CometChatMessageActions/style.js","cometchat-pro-react-ui-kit/CometChatWorkspace/src/components/Messages/CometChatMessageActions/resources/threaded-message.svg","cometchat-pro-react-ui-kit/CometChatWorkspace/src/components/Messages/CometChatMessageActions/resources/delete.svg","cometchat-pro-react-ui-kit/CometChatWorkspace/src/components/Messages/CometChatMessageActions/resources/edit.svg","cometchat-pro-react-ui-kit/CometChatWorkspace/src/components/Messages/CometChatMessageActions/resources/reactions.svg","cometchat-pro-react-ui-kit/CometChatWorkspace/src/components/Messages/CometChatMessageActions/resources/message-translate.svg","cometchat-pro-react-ui-kit/CometChatWorkspace/src/components/Messages/CometChatMessageActions/resources/send-message-in-private.svg","cometchat-pro-react-ui-kit/CometChatWorkspace/src/components/Messages/CometChatMessageActions/index.js","cometchat-pro-react-ui-kit/CometChatWorkspace/src/components/Messages/CometChatMessageComposer/style.js","cometchat-pro-react-ui-kit/CometChatWorkspace/src/components/Messages/CometChatMessageComposer/resources/add-circle-filled.svg","cometchat-pro-react-ui-kit/CometChatWorkspace/src/components/Messages/CometChatMessageComposer/resources/video.svg","cometchat-pro-react-ui-kit/CometChatWorkspace/src/components/Messages/CometChatMessageComposer/resources/audio-file.svg","cometchat-pro-react-ui-kit/CometChatWorkspace/src/components/Messages/CometChatMessageComposer/resources/file-upload.svg","cometchat-pro-react-ui-kit/CometChatWorkspace/src/components/Messages/CometChatMessageComposer/resources/image.svg","cometchat-pro-react-ui-kit/CometChatWorkspace/src/components/Messages/CometChatMessageComposer/resources/emoji.svg","cometchat-pro-react-ui-kit/CometChatWorkspace/src/components/Messages/CometChatMessageComposer/resources/send-message.svg","cometchat-pro-react-ui-kit/CometChatWorkspace/src/components/Messages/CometChatMessageComposer/resources/polls.svg","cometchat-pro-react-ui-kit/CometChatWorkspace/src/components/Messages/CometChatMessageComposer/resources/stickers.svg","cometchat-pro-react-ui-kit/CometChatWorkspace/src/components/Messages/CometChatMessageComposer/resources/close.svg","cometchat-pro-react-ui-kit/CometChatWorkspace/src/components/Messages/CometChatMessageComposer/resources/collaborative-document.svg","cometchat-pro-react-ui-kit/CometChatWorkspace/src/components/Messages/CometChatMessageComposer/resources/collaborative-whiteboard.svg","cometchat-pro-react-ui-kit/CometChatWorkspace/src/components/Messages/CometChatMessageComposer/index.js","cometchat-pro-react-ui-kit/CometChatWorkspace/src/components/Messages/CometChatMessageComposer/resources/heart.png","cometchat-pro-react-ui-kit/CometChatWorkspace/src/components/Messages/CometChatMessageHeader/controller.js","cometchat-pro-react-ui-kit/CometChatWorkspace/src/components/Messages/CometChatMessageHeader/style.js","cometchat-pro-react-ui-kit/CometChatWorkspace/src/components/Messages/CometChatMessageHeader/resources/menu.svg","cometchat-pro-react-ui-kit/CometChatWorkspace/src/components/Messages/CometChatMessageHeader/resources/audio-call.svg","cometchat-pro-react-ui-kit/CometChatWorkspace/src/components/Messages/CometChatMessageHeader/resources/video-call.svg","cometchat-pro-react-ui-kit/CometChatWorkspace/src/components/Messages/CometChatMessageHeader/resources/info.svg","cometchat-pro-react-ui-kit/CometChatWorkspace/src/components/Messages/CometChatMessageHeader/index.js","cometchat-pro-react-ui-kit/CometChatWorkspace/src/components/Messages/CometChatMessageList/MessageFilter.js","cometchat-pro-react-ui-kit/CometChatWorkspace/src/components/Messages/CometChatMessageList/controller.js","cometchat-pro-react-ui-kit/CometChatWorkspace/src/components/Messages/CometChatMessageList/style.js","cometchat-pro-react-ui-kit/CometChatWorkspace/src/components/Messages/CometChatMessageList/index.js","cometchat-pro-react-ui-kit/CometChatWorkspace/src/components/Shared/CometChatSharedMediaView/controller.js","cometchat-pro-react-ui-kit/CometChatWorkspace/src/components/Shared/CometChatSharedMediaView/style.js","cometchat-pro-react-ui-kit/CometChatWorkspace/src/components/Shared/CometChatSharedMediaView/resources/file-upload.svg","cometchat-pro-react-ui-kit/CometChatWorkspace/src/components/Shared/CometChatSharedMediaView/index.js","cometchat-pro-react-ui-kit/CometChatWorkspace/src/components/Users/CometChatUserDetails/controller.js","cometchat-pro-react-ui-kit/CometChatWorkspace/src/components/Users/CometChatUserDetails/style.js","cometchat-pro-react-ui-kit/CometChatWorkspace/src/components/Users/CometChatUserDetails/resources/back.svg","cometchat-pro-react-ui-kit/CometChatWorkspace/src/components/Users/CometChatUserDetails/index.js","cometchat-pro-react-ui-kit/CometChatWorkspace/src/components/Users/CometChatUserList/controller.js","cometchat-pro-react-ui-kit/CometChatWorkspace/src/components/Users/CometChatUserList/style.js","cometchat-pro-react-ui-kit/CometChatWorkspace/src/components/Users/CometChatUserList/resources/search.svg","cometchat-pro-react-ui-kit/CometChatWorkspace/src/components/Users/CometChatUserList/resources/back.svg","cometchat-pro-react-ui-kit/CometChatWorkspace/src/components/Users/CometChatUserList/index.js","cometchat-pro-react-ui-kit/CometChatWorkspace/src/components/Users/CometChatUserListItem/style.js","cometchat-pro-react-ui-kit/CometChatWorkspace/src/components/Users/CometChatUserListItem/index.js","cometchat-pro-react-ui-kit/CometChatWorkspace/src/components/Users/CometChatUserListWithMessages/style.js","cometchat-pro-react-ui-kit/CometChatWorkspace/src/components/Users/CometChatUserListWithMessages/index.js","cometchat-pro-react-ui-kit/CometChatWorkspace/src/components/Groups/CometChatCreateGroup/style.js","cometchat-pro-react-ui-kit/CometChatWorkspace/src/components/Groups/CometChatCreateGroup/resources/creating.svg","cometchat-pro-react-ui-kit/CometChatWorkspace/src/components/Groups/CometChatCreateGroup/resources/close.svg","cometchat-pro-react-ui-kit/CometChatWorkspace/src/components/Groups/CometChatCreateGroup/index.js","cometchat-pro-react-ui-kit/CometChatWorkspace/src/components/Groups/CometChatGroupDetails/controller.js","cometchat-pro-react-ui-kit/CometChatWorkspace/src/components/Groups/CometChatGroupDetails/style.js","cometchat-pro-react-ui-kit/CometChatWorkspace/src/components/Groups/CometChatGroupDetails/resources/back.svg","cometchat-pro-react-ui-kit/CometChatWorkspace/src/components/Groups/CometChatGroupDetails/index.js","cometchat-pro-react-ui-kit/CometChatWorkspace/src/components/Groups/CometChatGroupList/controller.js","cometchat-pro-react-ui-kit/CometChatWorkspace/src/components/Groups/CometChatGroupList/style.js","cometchat-pro-react-ui-kit/CometChatWorkspace/src/components/Groups/CometChatGroupList/resources/search.svg","cometchat-pro-react-ui-kit/CometChatWorkspace/src/components/Groups/CometChatGroupList/resources/back.svg","cometchat-pro-react-ui-kit/CometChatWorkspace/src/components/Groups/CometChatGroupList/resources/create.svg","cometchat-pro-react-ui-kit/CometChatWorkspace/src/components/Groups/CometChatGroupList/index.js","cometchat-pro-react-ui-kit/CometChatWorkspace/src/components/Groups/CometChatGroupListItem/style.js","cometchat-pro-react-ui-kit/CometChatWorkspace/src/components/Groups/CometChatGroupListItem/resources/password-protected-group.svg","cometchat-pro-react-ui-kit/CometChatWorkspace/src/components/Groups/CometChatGroupListItem/resources/private-group.svg","cometchat-pro-react-ui-kit/CometChatWorkspace/src/components/Groups/CometChatGroupListItem/index.js","cometchat-pro-react-ui-kit/CometChatWorkspace/src/components/Groups/CometChatViewGroupMemberList/style.js","cometchat-pro-react-ui-kit/CometChatWorkspace/src/components/Groups/CometChatViewGroupMemberList/resources/close.svg","cometchat-pro-react-ui-kit/CometChatWorkspace/src/components/Groups/CometChatViewGroupMemberList/index.js","cometchat-pro-react-ui-kit/CometChatWorkspace/src/components/Groups/CometChatViewGroupMemberListItem/style.js","cometchat-pro-react-ui-kit/CometChatWorkspace/src/components/Groups/CometChatViewGroupMemberListItem/resources/edit.svg","cometchat-pro-react-ui-kit/CometChatWorkspace/src/components/Groups/CometChatViewGroupMemberListItem/resources/done.svg","cometchat-pro-react-ui-kit/CometChatWorkspace/src/components/Groups/CometChatViewGroupMemberListItem/resources/close.svg","cometchat-pro-react-ui-kit/CometChatWorkspace/src/components/Groups/CometChatViewGroupMemberListItem/resources/ban-member.svg","cometchat-pro-react-ui-kit/CometChatWorkspace/src/components/Groups/CometChatViewGroupMemberListItem/resources/delete.svg","cometchat-pro-react-ui-kit/CometChatWorkspace/src/components/Groups/CometChatViewGroupMemberListItem/index.js","cometchat-pro-react-ui-kit/CometChatWorkspace/src/components/Groups/CometChatAddGroupMemberList/controller.js","cometchat-pro-react-ui-kit/CometChatWorkspace/src/components/Groups/CometChatAddGroupMemberList/style.js","cometchat-pro-react-ui-kit/CometChatWorkspace/src/components/Groups/CometChatAddGroupMemberList/resources/adding.svg","cometchat-pro-react-ui-kit/CometChatWorkspace/src/components/Groups/CometChatAddGroupMemberList/resources/search.svg","cometchat-pro-react-ui-kit/CometChatWorkspace/src/components/Groups/CometChatAddGroupMemberList/resources/close.svg","cometchat-pro-react-ui-kit/CometChatWorkspace/src/components/Groups/CometChatAddGroupMemberList/index.js","cometchat-pro-react-ui-kit/CometChatWorkspace/src/components/Groups/CometChatAddGroupMemberListItem/style.js","cometchat-pro-react-ui-kit/CometChatWorkspace/src/components/Groups/CometChatAddGroupMemberListItem/resources/group-member-unselect.svg","cometchat-pro-react-ui-kit/CometChatWorkspace/src/components/Groups/CometChatAddGroupMemberListItem/resources/group-member-select.svg","cometchat-pro-react-ui-kit/CometChatWorkspace/src/components/Groups/CometChatAddGroupMemberListItem/index.js","cometchat-pro-react-ui-kit/CometChatWorkspace/src/components/Groups/CometChatBanGroupMemberList/style.js","cometchat-pro-react-ui-kit/CometChatWorkspace/src/components/Groups/CometChatBanGroupMemberList/resources/close.svg","cometchat-pro-react-ui-kit/CometChatWorkspace/src/components/Groups/CometChatBanGroupMemberList/index.js","cometchat-pro-react-ui-kit/CometChatWorkspace/src/components/Groups/CometChatBanGroupMemberListItem/style.js","cometchat-pro-react-ui-kit/CometChatWorkspace/src/components/Groups/CometChatBanGroupMemberListItem/resources/ban-member.svg","cometchat-pro-react-ui-kit/CometChatWorkspace/src/components/Groups/CometChatBanGroupMemberListItem/index.js","cometchat-pro-react-ui-kit/CometChatWorkspace/src/components/Groups/CometChatGroupListWithMessages/style.js","cometchat-pro-react-ui-kit/CometChatWorkspace/src/components/Groups/CometChatGroupListWithMessages/index.js","cometchat-pro-react-ui-kit/CometChatWorkspace/src/components/Groups/CometChatTransferOwnershipMemberList/style.js","cometchat-pro-react-ui-kit/CometChatWorkspace/src/components/Groups/CometChatTransferOwnershipMemberList/resources/close.svg","cometchat-pro-react-ui-kit/CometChatWorkspace/src/components/Groups/CometChatTransferOwnershipMemberList/resources/transferring.svg","cometchat-pro-react-ui-kit/CometChatWorkspace/src/components/Groups/CometChatTransferOwnershipMemberList/index.js","cometchat-pro-react-ui-kit/CometChatWorkspace/src/components/Groups/CometChatTransferOwnershipMemberListItem/style.js","cometchat-pro-react-ui-kit/CometChatWorkspace/src/components/Groups/CometChatTransferOwnershipMemberListItem/resources/group-member-unselect.svg","cometchat-pro-react-ui-kit/CometChatWorkspace/src/components/Groups/CometChatTransferOwnershipMemberListItem/resources/group-member-select.svg","cometchat-pro-react-ui-kit/CometChatWorkspace/src/components/Groups/CometChatTransferOwnershipMemberListItem/index.js","cometchat-pro-react-ui-kit/CometChatWorkspace/src/components/Messages/CometChatMessages/style.js","cometchat-pro-react-ui-kit/CometChatWorkspace/src/components/Messages/CometChatMessages/index.js","cometchat-pro-react-ui-kit/CometChatWorkspace/src/components/Messages/CometChatMessageThread/style.js","cometchat-pro-react-ui-kit/CometChatWorkspace/src/components/Messages/CometChatMessageThread/resources/close.svg","cometchat-pro-react-ui-kit/CometChatWorkspace/src/components/Messages/CometChatMessageThread/index.js","cometchat-pro-react-ui-kit/CometChatWorkspace/src/components/Messages/CometChatReadReceipt/style.js","cometchat-pro-react-ui-kit/CometChatWorkspace/src/components/Messages/CometChatReadReceipt/resources/message-read.svg","cometchat-pro-react-ui-kit/CometChatWorkspace/src/components/Messages/CometChatReadReceipt/resources/message-delivered.svg","cometchat-pro-react-ui-kit/CometChatWorkspace/src/components/Messages/CometChatReadReceipt/resources/message-sent.svg","cometchat-pro-react-ui-kit/CometChatWorkspace/src/components/Messages/CometChatReadReceipt/resources/wait.svg","cometchat-pro-react-ui-kit/CometChatWorkspace/src/components/Messages/CometChatReadReceipt/resources/warning-small.svg","cometchat-pro-react-ui-kit/CometChatWorkspace/src/components/Messages/CometChatReadReceipt/index.js","cometchat-pro-react-ui-kit/CometChatWorkspace/src/components/Messages/CometChatReceiverAudioMessageBubble/style.js","cometchat-pro-react-ui-kit/CometChatWorkspace/src/components/Messages/CometChatReceiverAudioMessageBubble/index.js","cometchat-pro-react-ui-kit/CometChatWorkspace/src/components/Messages/CometChatReceiverDirectCallBubble/style.js","cometchat-pro-react-ui-kit/CometChatWorkspace/src/components/Messages/CometChatReceiverDirectCallBubble/resources/video-call.svg","cometchat-pro-react-ui-kit/CometChatWorkspace/src/components/Messages/CometChatReceiverDirectCallBubble/index.js","cometchat-pro-react-ui-kit/CometChatWorkspace/src/components/Messages/CometChatReceiverFileMessageBubble/style.js","cometchat-pro-react-ui-kit/CometChatWorkspace/src/components/Messages/CometChatReceiverFileMessageBubble/resources/file-upload.svg","cometchat-pro-react-ui-kit/CometChatWorkspace/src/components/Messages/CometChatReceiverFileMessageBubble/index.js","cometchat-pro-react-ui-kit/CometChatWorkspace/src/components/Messages/CometChatReceiverImageMessageBubble/style.js","cometchat-pro-react-ui-kit/CometChatWorkspace/src/components/Messages/CometChatReceiverImageMessageBubble/index.js","cometchat-pro-react-ui-kit/CometChatWorkspace/src/components/Messages/CometChatReceiverImageMessageBubble/resources/1px.png","cometchat-pro-react-ui-kit/CometChatWorkspace/src/components/Messages/CometChatReceiverTextMessageBubble/style.js","cometchat-pro-react-ui-kit/CometChatWorkspace/src/components/Messages/CometChatReceiverTextMessageBubble/index.js","cometchat-pro-react-ui-kit/CometChatWorkspace/src/components/Messages/CometChatReceiverVideoMessageBubble/style.js","cometchat-pro-react-ui-kit/CometChatWorkspace/src/components/Messages/CometChatReceiverVideoMessageBubble/index.js","cometchat-pro-react-ui-kit/CometChatWorkspace/src/components/Messages/CometChatSenderAudioMessageBubble/style.js","cometchat-pro-react-ui-kit/CometChatWorkspace/src/components/Messages/CometChatSenderAudioMessageBubble/index.js","cometchat-pro-react-ui-kit/CometChatWorkspace/src/components/Messages/CometChatSenderDirectCallBubble/style.js","cometchat-pro-react-ui-kit/CometChatWorkspace/src/components/Messages/CometChatSenderDirectCallBubble/resources/video-call.svg","cometchat-pro-react-ui-kit/CometChatWorkspace/src/components/Messages/CometChatSenderDirectCallBubble/index.js","cometchat-pro-react-ui-kit/CometChatWorkspace/src/components/Messages/CometChatSenderFileMessageBubble/style.js","cometchat-pro-react-ui-kit/CometChatWorkspace/src/components/Messages/CometChatSenderFileMessageBubble/resources/file-upload.svg","cometchat-pro-react-ui-kit/CometChatWorkspace/src/components/Messages/CometChatSenderFileMessageBubble/index.js","cometchat-pro-react-ui-kit/CometChatWorkspace/src/components/Messages/CometChatSenderImageMessageBubble/style.js","cometchat-pro-react-ui-kit/CometChatWorkspace/src/components/Messages/CometChatSenderImageMessageBubble/index.js","cometchat-pro-react-ui-kit/CometChatWorkspace/src/components/Messages/CometChatSenderImageMessageBubble/resources/1px.png","cometchat-pro-react-ui-kit/CometChatWorkspace/src/components/Messages/CometChatSenderTextMessageBubble/style.js","cometchat-pro-react-ui-kit/CometChatWorkspace/src/components/Messages/CometChatSenderTextMessageBubble/index.js","cometchat-pro-react-ui-kit/CometChatWorkspace/src/components/Messages/CometChatSenderVideoMessageBubble/style.js","cometchat-pro-react-ui-kit/CometChatWorkspace/src/components/Messages/CometChatSenderVideoMessageBubble/index.js","cometchat-pro-react-ui-kit/CometChatWorkspace/src/components/Messages/CometChatThreadedMessageReplyCount/style.js","cometchat-pro-react-ui-kit/CometChatWorkspace/src/components/Messages/CometChatThreadedMessageReplyCount/index.js","cometchat-pro-react-ui-kit/CometChatWorkspace/src/components/Messages/CometChatBlockedUser/style.js","cometchat-pro-react-ui-kit/CometChatWorkspace/src/components/Messages/CometChatBlockedUser/index.js","cometchat-pro-react-ui-kit/CometChatWorkspace/src/components/Chats/CometChatConversationListWithMessages/style.js","cometchat-pro-react-ui-kit/CometChatWorkspace/src/components/Chats/CometChatConversationListWithMessages/index.js","cometchat-pro-react-ui-kit/CometChatWorkspace/src/components/UserProfile/CometChatUserProfile/style.js","cometchat-pro-react-ui-kit/CometChatWorkspace/src/components/UserProfile/CometChatUserProfile/resources/notify.svg","cometchat-pro-react-ui-kit/CometChatWorkspace/src/components/UserProfile/CometChatUserProfile/resources/privacy.svg","cometchat-pro-react-ui-kit/CometChatWorkspace/src/components/UserProfile/CometChatUserProfile/resources/chats.svg","cometchat-pro-react-ui-kit/CometChatWorkspace/src/components/UserProfile/CometChatUserProfile/resources/help.svg","cometchat-pro-react-ui-kit/CometChatWorkspace/src/components/UserProfile/CometChatUserProfile/resources/warning.svg","cometchat-pro-react-ui-kit/CometChatWorkspace/src/components/UserProfile/CometChatUserProfile/index.js","cometchat-pro-react-ui-kit/CometChatWorkspace/src/components/CometChatUI/CometChatNavBar/style.js","cometchat-pro-react-ui-kit/CometChatWorkspace/src/components/CometChatUI/CometChatNavBar/resources/chats.svg","cometchat-pro-react-ui-kit/CometChatWorkspace/src/components/CometChatUI/CometChatNavBar/resources/users.svg","cometchat-pro-react-ui-kit/CometChatWorkspace/src/components/CometChatUI/CometChatNavBar/resources/groups.svg","cometchat-pro-react-ui-kit/CometChatWorkspace/src/components/CometChatUI/CometChatNavBar/resources/more.svg","cometchat-pro-react-ui-kit/CometChatWorkspace/src/components/CometChatUI/CometChatNavBar/index.js","cometchat-pro-react-ui-kit/CometChatWorkspace/src/components/CometChatUI/style.js","cometchat-pro-react-ui-kit/CometChatWorkspace/src/components/CometChatUI/index.js","consts.js","store/actionTypes.js","store/action.js","defaultPages/KitchenSinkApp/index.js","defaultPages/KitchenSinkApp/style.js","defaultPages/KitchenSinkApp/loader.js","defaultPages/HomePage/style.js","defaultPages/HomePage/resources/CometChatUI.png","defaultPages/HomePage/resources/components.png","defaultPages/HomePage/resources/wall.png","defaultPages/HomePage/index.js","defaultPages/App/index.js","defaultPages/App/style.js","serviceWorker.js","store/reducer.js","index.js"],"names":["PrivateRoute","this","props","isLoggedIn","path","render","component","to","pathname","state","from","location","React","Component","connect","TEXT_MESSAGE_RECEIVED","MEDIA_MESSAGE_RECEIVED","CUSTOM_MESSAGE_RECEIVED","MESSAGE_DELIVERED","MESSAGE_READ","MESSAGE_DELETED","MESSAGE_EDITED","TRANSIENT_MESSAGE_RECEIVED","INCOMING_CALL_RECEIVED","OUTGOING_CALL_ACCEPTED","OUTGOING_CALL_REJECTED","INCOMING_CALL_CANCELLED","GROUP_MEMBER_SCOPE_CHANGED","GROUP_MEMBER_KICKED","GROUP_MEMBER_BANNED","GROUP_MEMBER_UNBANNED","GROUP_MEMBER_ADDED","GROUP_MEMBER_LEFT","GROUP_MEMBER_JOINED","USER_ONLINE","USER_OFFLINE","TYPING_STARTED","TYPING_ENDED","CUSTOM_TYPE_POLL","CUSTOM_TYPE_STICKER","CUSTOM_TYPE_DOCUMENT","CUSTOM_TYPE_WHITEBOARD","CUSTOM_TYPE_MEETING","CONSTANTS","LOCALE","ACTIVECALL","MAX_MESSAGE_COUNT","METADATA_TYPE_LIVEREACTION","LIVE_REACTIONS","heart","thumbsup","clap","wink","MESSAGES_COMPONENT","EMBEDDED_COMPONENT","OUTGOING_DEFAULT_CALLING","INCOMING_DEFAULT_CALLING","INCOMING_DIRECT_CALLING","OUTGOING_DIRECT_CALLING","AUDIO","INCOMING_MESSAGE","INCOMING_OTHER_MESSAGE","OUTGOING_MESSAGE","INCOMING_CALL","OUTGOING_CALL","ERROR_CODES","ERR_CHAT_API_FAILURE","CALLS","ONGOING_CALL","ONGOING_CALL_SAME_GROUP","ONGOING_CALL_DIFF_GROUP","GROUPS","OWNER","LIVE_REACTION_INTERVAL","FILE_METADATA","ACTIONS","MESSAGE_SENT","MESSAGE_COMPOSED","ERROR_IN_SENDING_MESSAGE","ACCEPT_DIRECT_CALL","JOIN_DIRECT_CALL","START_DIRECT_CALL","DIRECT_CALL_ENDED","POLL_CREATED","GROUP_DELETED","GROUP_LEFT","GROUP_CREATED","VIEW_DETAIL","VIEW_THREADED_MESSAGE","CLOSE_THREADED_MESSAGE","TOGGLE_SIDEBAR","ON_MESSAGE_EDITED","ON_MESSAGE_DELETED","ON_MESSAGE_READ_DELIVERED","DELETE_MESSAGE","EDIT_MESSAGE","CLOSE_GROUP_DETAIL","CLOSE_USER_DETAIL","VIEW_ORIGINAL_IMAGE","FETCH_GROUP_MEMBERS","SCOPECHANGE_GROUPMEMBER_SUCCESS","BAN_GROUP_MEMBER","KICK_GROUP_MEMBER","BAN_GROUPMEMBER_SUCCESS","KICK_GROUPMEMBER_SUCCESS","CHANGE_SCOPE_GROUP_MEMBER","UNBAN_GROUP_MEMBER","ADD_GROUP_MEMBER_SUCCESS","FETCH_BANNED_GROUP_MEMBERS","UNBAN_GROUP_MEMBER_SUCCESS","REACT_TO_MESSAGE","INITIATE_VIDEO_CALL","INITIATE_AUDIO_CALL","CHANGE_TAB","ITEM_CLICKED","THREAD_MESSAGE_COMPOSED","SEND_LIVE_REACTION","STOP_LIVE_REACTION","SHOW_LIVE_REACTION","CLEAR_EDIT_PREVIEW","MESSAGE_RECEIVED","MESSAGES_INITIAL_FETCH","MESSAGES_FETCHED","REFRESHING_MESSAGES","MESSAGES_REFRESHED","NEW_MESSAGES","CLEAR_UNREAD_MESSAGES","START_AUDIO_CALL","START_VIDEO_CALL","OUTGOING_CALL_CANCELLED","INCOMING_CALL_ACCEPTED","INCOMING_CALL_REJECTED","CALL_ENDED","USER_JOINED_CALL","USER_LEFT_CALL","DELETE_CONVERSATION","CONVERSATION_DELETED","SEND_STICKER","CLOSE_STICKER_KEYBOARD","ERROR","INFO","TRANSLATE_MESSAGE","EVENTS","KEYS","CallAlertManager","callListenerId","Date","getTime","callback","CometChat","addCallListener","CallListener","onIncomingCallReceived","call","enums","onIncomingCallCancelled","onOutgoingCallAccepted","removeCallListener","theme","fontFamily","fontSize","primaryColor","secondaryTextColor","color","primary","secondary","darkSecondary","search","tertiary","grey","helpText","blue","white","red","borderColor","backgroundColor","lightGrey","darkGrey","callScreenGrey","silver","breakPoints","CometChatAvatar","setAvatarImage","image","trim","length","getImage","Object","keys","user","hasOwnProperty","avatarImage","avatar","uid","char","name","charAt","toUpperCase","generateAvatar","group","icon","guid","img","Image","src","onload","_isMounted","setState","generator","data","canvas","document","createElement","context","getContext","width","height","fillStyle","str","hash","i","charCodeAt","colour","toString","substr","stringToColour","fillRect","font","textAlign","textBaseline","fillText","toDataURL","imgRef","createRef","prevProps","borderWidth","borderStyle","cornerRadius","css","overflow","display","alt","style","borderRadius","ref","el","defaultProps","backdropStyle","zIndex","opacity","position","top","left","cursor","transition","CometChatBackdrop","show","className","onClick","clicked","badgeStyle","fontWeight","lineHeight","marginLeft","padding","marginRight","CometChatBadgeCount","badgeCount","count","presenceStyle","presenceStatus","status","float","CometChatUserPresence","useContext","CometChatContext","useState","presence","setPresence","useEffect","FeatureRestriction","isUserPresenceEnabled","then","response","catch","error","translations","ar","de","en","es","fr","hi","ms","pt","ru","zh","sv","lt","hu","Translator","language","rtlLanguages","includes","languageDb","defaultLanguage","key","getLanguage","localStorage","getItem","setLanguage","item","setItem","getBrowserLanguage","navigator","languages","userLanguage","getDefaultLanguage","savedLanguage","browserLanguageCode","toLowerCase","browserLanguage","indexOf","split","notificationStyle","backgroundColorProp","type","pointerEvents","marginBottom","minHeight","boxShadow","backgroundPosition","backgroundRepeat","flexDirection","justifyContent","alignItems","boxSizing","iconStyle","mask","CometChatToastNotification","componentWillUnmount","clearAutoDismiss","setInfo","message","infoIcon","setAutoDismiss","setError","errorIcon","setSuccess","successIcon","setWarning","warningIcon","autoDelete","interval","setTimeout","deleteToast","dismissTime","clearTimeout","messageClassName","types","iconClassName","toastIcon","flexShrink","maxWidth","title","translate","lang","keyframes","transform","margin","border","outline","closeIcon","alertButtonStyle","CometChatConfirmDialog","confirmButtonText","cancelButtonText","Fragment","close","right","value","UIKitSettings","setCustomJS","customJS","setCustomCSS","customCSS","setTabs","tabList","tabs","setUserSettings","userSettings","setCalls","calls","setUsers","users","setChats","chats","setGroups","groups","setChatListMode","option","chatListFilterKey","returnMatchedKey","chatListFilterOptions","chatListMode","setUserListMode","userListFilterKey","userListFilterOptions","userListMode","setGroupListMode","setUserVideoCall","userVideoCall","setGroupVideoCall","groupVideoCall","setUserAudioCall","userAudioCall","setGroupAudioCall","groupAudioCall","setEditMessage","editMessage","setSendMessageInOneOnOne","sendMessageInOneOnOne","setSendMessageInGroup","sendMessageInGroup","setJoinOrLeaveGroup","joinOrLeaveGroup","setBlockUser","blockUser","setSendEmojis","sendEmojis","setSendEmojisInLargerSize","sendEmojisInLargerSize","setSendGifs","sendGifs","setShareCopyForwardMessage","shareCopyForwardMessage","setSendFiles","sendFiles","setSendPhotoVideos","sendPhotoVideos","setViewShareMedia","viewShareMedia","setEnableSoundForMessages","enableSoundForMessages","setEnableSoundForCalls","enableSoundForCalls","setSendStickers","sendStickers","setViewGroupMembers","viewGroupMembers","setCallNotifications","callNotifications","setAllowDeleteGroup","allowDeleteGroup","setKickMember","kickMember","setBanMember","banMember","setAllowPromoteDemoteMembers","allowPromoteDemoteMembers","setAllowAddMembers","allowAddMembers","setShareLocation","shareLocation","setJoinLeaveNotifications","joinLeaveNotifications","setSendVoiceNotes","sendVoiceNotes","setMessageTranslation","messageTranslation","setGroupCreation","groupCreation","setSendTypingIndicator","sendTypingIndicator","setShowUserPresence","showUserPresence","setDeleteMessage","deleteMessage","setThreadedChats","threadedChats","setReplyingToMessage","replyingToMessage","setShowReadDeliveryReceipts","showReadDeliveryReceipts","setHideDeletedMessages","hideDeletedMessages","setEmailReplies","emailReplies","setSendMessageReaction","sendMessageReaction","setCollaborativeWhiteboard","collaborativeWhiteboard","setCollaborativeDocument","collaborativeDocument","setPolls","polls","setSendLiveReaction","sendLiveReaction","setPublicGroup","publicGroup","setPrivateGroup","privateGroup","setPasswordGroup","passwordGroup","setAllowModeratorToDeleteMemberMessages","allowModeratorToDeleteMemberMessages","setUnreadCount","unreadCount","setSmartReplies","smartReplies","setSearchUsers","searchUsers","setSearchGroups","searchGroups","setSearchMessages","searchMessages","setCallRecording","callRecording","setCallLiveStreaming","callLiveStreaming","setCallTranscription","callTranscription","setThumbnailGeneration","thumbnailGeneration","setLinkPreview","linkPreview","setSaveMessages","saveMessages","setPinMessages","pinMessages","setRichMediaPreview","richMediaPreview","setVoiceTranscription","voiceTranscription","setMentions","mentions","setXssFilter","xssFilter","setProfanityFilter","profanityFilter","setImageModeration","imageModeration","setDataMasking","dataMasking","setMalwareScanner","malwareScanner","setSentimentAnalysis","sentimentAnalysis","setInflightMessageModeration","inflightMessageModeration","setMessageHistory","messageHistory","setViewProfile","viewProfile","setMessageInPrivate","messageInPrivate","setShowCallRecordingOption","showCallRecordingOption","setChatWindow","chatWindow","matchWith","optionToMatch","entries","foregroundColor","overrideSystemBackgroundColor","window","groupInMode","groupListFilterOptions","values","searchChats","setGroupInQnaModeByModerators","highlightMessageFromModerators","ALL","NONE","FRIENDS","PUBLIC","PASSWORD","PUBLIC_AND_PASSWORD","USERS","USERS_AND_GROUPS","isRecentChatListEnabled","Promise","resolve","isGroupListEnabled","isUserSettingsEnabled","isEditMessageEnabled","isQNAModeEnabled","isHighlightMessagesEnabled","isJoinLeaveGroupsEnabled","isLargerSizeEmojisEnabled","isGifsEnabled","isShareCopyForwardMessageEnabled","isSharedMediaEnabled","isMessagesSoundEnabled","isCallsSoundEnabled","isViewingGroupMembersEnabled","isCallActionMessagesEnabled","isGroupDeletionEnabled","isChangingGroupMemberScopeEnabled","isAddingGroupMembersEnabled","isLocationSharingEnabled","isGroupActionMessagesEnabled","isGroupCreationEnabled","isDeleteMessageEnabled","isHideDeletedMessagesEnabled","isViewProfileEnabled","isMessageInPrivateEnabled","isCallListEnabled","isFeatureEnabled","calls_enabled","isUserListEnabled","chat_users_list_enabled","isOneOnOneVideoCallEnabled","call_one_on_one_video_enabled","isGroupVideoCallEnabled","call_groups_video_enabled","isOneOnOneAudioCallEnabled","call_one_on_one_audio_enabled","isGroupAudioCallEnabled","call_groups_audio_enabled","isOneOnOneChatEnabled","chat_one_on_one_enabled","isGroupChatEnabled","chat_groups_enabled","isDeleteMemberMessageEnabled","moderation_groups_moderators_enabled","isBlockUserEnabled","moderation_users_block_enabled","isEmojisEnabled","emojis_enabled","isFilesEnabled","chat_messages_media_enabled","isPhotosVideosEnabled","isKickingGroupMembersEnabled","moderation_groups_kick_enabled","isBanningGroupMembersEnabled","moderation_groups_ban_enabled","isVoiceNotesEnabled","chat_voice_notes_enabled","isTypingIndicatorsEnabled","chat_typing_indicator_enabled","chat_users_presence_enabled","isThreadedMessagesEnabled","chat_messages_threads_enabled","isMessageRepliesEnabled","chat_messages_replies_enabled","isDeliveryReceiptsEnabled","chat_messages_receipts_enabled","isLiveReactionsEnabled","live_reactions_enabled","isPublicGroupEnabled","chat_groups_public_enabled","isPrivateGroupEnabled","chat_groups_private_enabled","isPasswordGroupEnabled","chat_groups_password_enabled","isUnreadCountEnabled","chat_messages_unread_count_enabled","isUserSearchEnabled","chat_users_search_enabled","isGroupSearchEnabled","chat_groups_search_enabled","isMessageSearchEnabled","chat_messages_search_enabled","isCallRecordingEnabled","call_recording_enabled","isCallLiveStreamingEnabled","call_live_streaming_enabled","isCallTranscriptEnabled","call_transcript_enabled","isMessageHistoryEnabled","chat_messages_history_enabled","isMessageTranslationEnabled","message_translation_enabled","isExtensionEnabled","isReactionsEnabled","reactions_enabled","reactions","isCollaborativeWhiteBoardEnabled","collaboration_whiteboard_enabled","collaborationWhiteboard","isCollaborativeDocumentEnabled","collaboration_document_enabled","collaborationDocument","isStickersEnabled","stickers_enabled","sticker","isEmailRepliesEnabled","email_replies_enabled","isPollsEnabled","polls_enabled","isSmartRepliesEnabled","smart_replies_enabled","isThumbnailGenerationEnabled","thumbnail_generation_enabled","isLinkPreviewEnabled","link_preview_enabled","isSaveMessagesEnabled","messages_saved_enabled","isPinMessagesEnabled","messages_pinned_enabled","isRichMediaPreviewEnabled","rich_media_preview_enabled","isVoiceTranscriptionEnabled","voice_transcription_enabled","isMentionsEnabled","mentions_enabled","isXssFilterEnabled","moderation_xss_filter_enabled","isProfanityFilterEnabled","moderation_profanity_filter_enabled","isImageModerationEnabled","moderation_image_moderation_enabled","isDataMaskingEnabled","moderation_data_masking_enabled","isMalwareScannerEnabled","moderation_malware_scanner_enabled","isSentimentAnalysisEnabled","moderation_sentiment_analysis_enabled","chat_messages_custom_enabled","moderation_inflight_message_moderation_enabled","emojis","extensionKey","createContext","CometChatContextProvider","setRoles","roles","GROUP_MEMBER_SCOPE","ADMIN","MODERATOR","PARTICIPANT","getUser","reject","code","getGroup","hasJoined","groupType","password","GROUP_TYPE","promptMessage","prompt","joinGroup","setToastMessage","getLoggedinUser","timer","loggedInUser","isInitialized","isUserLoggedIn","setInterval","clearInterval","clearGroupMembers","groupMembers","groupAdmins","groupModerators","bannedGroupMembers","setAllGroupMembers","updateGroupMembers","setGroupMembers","setGroupAdmins","setGroupModerators","setBannedGroupMembers","bannedMembers","updateBannedGroupMembers","setCallInProgress","callType","callInProgress","setType","setTypeAndItem","setDeletedGroupId","deletedGroupId","setLeftGroupId","leftGroupId","setLastMessage","lastMessage","setClearedUnreadMessages","flag","clearedUnreadMessages","setDirectCallCustomMessage","event","directCallCustomMessage","directCallCustomMessageAction","checkIfDirectCallIsOngoing","output","customData","sessionID","checkIfCallIsOngoing","getActiveCallSessionID","sessionId","hasKeyValue","undefined","settings","featureRestriction","toastMessage","unreadMessages","toastRef","ACTION_TYPE","TYPE_USER","errorCode","TYPE_GROUP","_component","Provider","toastNotificationPos","children","Storage","attachChangeDetection","addEventListener","detachChangeDetection","removeEventListener","storageKey","storageValue","JSON","stringify","parse","removeItem","clear","LocalizedString","SELECT_VIDEO_SOURCE","SELECT_INPUT_AUDIO_SOURCE","SELECT_OUTPUT_AUDIO_SOURCE","SELECT_MODE","CALL_RECORDING_STARTED_MSG","USER_JOINED_CALL_MSG","CALL_RECORDING_ENDED_MSG","USER_LEFT_CALL_MSG","CAMERA_ERROR_MSG","MIC_ERROR_MSG","CAMERA_MIC_ERROR_MSG","RECORDING_TEXT","TRYING_TO_START_RECORDING_TEXT","JOINING_TEXT","UN_MUTE_AUDIO_TEXT","MUTE_AUDIO_TEXT","END_CALL_TEXT","START_RECORDING_TEXT","STOP_RECORDING_TEXT","START_SCREEN_SHARE_TEXT","STOP_SCREEN_SHARE_TEXT","MUTE_VIDEO_TEXT","UN_MUTE_VIDEO_TEXT","SELECT_LAYOUT_HEADER","NO_OF_USER_IN_TILE_TEXT","CHANGE_AUDIO_SOURCE","CHANGE_AUDIO_SOURCE_DESC","AUDIO_INPUT_DEVICE_LABEL","NO_AUDIO_DEVICE_AVAILABLE","AUDIO_OUTPUT_DEVICE_LABEL","CHANGE_VIDEO_SOURCE","CHANGE_VIDEO_SOURCE_DESC","VIDEO_DEVICES_LABEL","FULL_SCREEN","EXIT_FULL_SCREEN","CHANGE_LAYOUT","AUDIO_SETTING","VIDEO_SETTING","USER_LIST","MORE","MUTE_USER","PIN_USER","UNPIN_USER","UN_MUTE_USER","MUTED","YOU_HAVE_BLOCKED","NOT_POSSIBLE_TO_SEND_MESSAGES","IOS_BROWSER_WARNING","PEOPLE_TEXT","SPOTLIGHT_DETAIL_TEXT1","SPOTLIGHT_DETAIL_TEXT2","SPOTLIGHT_DETAIL_TEXT3","SPOTLIGHT_DETAIL_TEXT4","callScreenWrapperStyle","fadeAnimation","bottom","animation","callScreenHeaderStyle","cursorStyle","maximized","callScreenResizerStyle","backgroundStyle","clipPath","background","CometChatCallScreen","enableDragging","e","preventDefault","checkIfCallScreenIsMaximized","dragging","rel","x","pageX","y","pageY","toggleCallScreenBackground","toggleCallScreenInnerBackground","onmousemove","startDragging","onmouseup","disableDragging","elem","callScreenEl","current","dialogWidth","clientWidth","dialogHeight","clientHeight","windowWidth","innerWidth","windowHeight","innerHeight","checkIfCallScreenIsMinimized","minimumWidth","minWidth","minimumHeight","Math","min","max","stopPropagation","initResize","element","startX","startY","startWidth","parseFloat","getComputedStyle","getPropertyValue","replace","startHeight","parseInt","startResize","stopResize","minHWidth","maxHeight","setDimensionOfCallScreenInnerBackground","callScreenBackgroundEl","callScreenInnerBackgroundEl","setPositionOfCallScreenInnerBackground","minimize","setSizingAndPostionOfCallScreen","maximize","toggle","startDirectCall","showRecordingButton","callSettings","CallSettingsBuilder","enableDefaultLayout","setSessionID","setIsAudioOnlyCall","setLocalizedStringObject","build","callScreenFrame","startCall","OngoingCallListener","onCallEnded","actionGenerated","onError","startDefaultCall","getSessionId","CALL_TYPE","setMode","CALL_MODE","DEFAULT","onUserJoined","callInitiator","callMessage","category","action","callReceiver","receiverId","receiverType","sentAt","onUserLeft","endedCall","resizeText","iconView","minimizeIcon","maximizeIcon","onMouseDown","userSelect","PureComponent","contextType","SoundManager","incomingCallAudio","outgoingCallAudio","incomingMessageAudio","outgoingMessageAudio","incomingOtherMessageAudio","play","onIncomingCall","onOutgoingCall","onIncomingMessage","onIncomingOtherMessage","onOutgoingMessage","pause","pauseIncomingCall","pauseOutgoingCall","Audio","default","playMessageAlert","messageAudio","currentTime","playCallAlert","callAudio","loop","incomingCallWrapperStyle","slideDown","positionValue","leftPos","rightPos","topPos","bottomPos","zIndexValue","widgetsettings","dockedview","launched","alignment","widgetWidth","widgetHeight","ButtonStyle","callIconStyle","CometChatIncomingCall","adjustFontSize","callButtonRef","reduceFontSize","buttonNodeList","querySelectorAll","forEach","buttonNode","scrollWidth","callScreenUpdated","incomingCallReceived","incomingCallCancelled","outgoingCallAccepted","incomingCall","sender","rejectCall","callStatus","isCallActive","CALL_STATUS","BUSY","REJECTED","rejectedCall","acceptCall","checkForActiveCallAndEndCall","success","endCall","actionHandler","logStorageChange","newValue","oldValue","console","attachListeners","callScreen","incomingCallAlert","audioCallIcon","VIDEO","videoCallIcon","textOverflow","whiteSpace","textTransform","CallScreenManager","onOutgoingCallRejected","styles","CometChatOutgoingCall","outgoingCallRejected","outgoingCallScreen","errorScreen","errorMessage","clearCallInProgress","cancelCall","CANCELLED","removeListeners","receiver","callIcon","messageAlertManager","msgListenerId","addMessageListener","MessageListener","onCustomMessageReceived","customMessage","removeMessageListener","CometChatIncomingDirectCall","messageListenerCallback","joinCall","ignoreCall","MessageAlertManager","wordBoundary","emailPattern","RegExp","urlPattern","phoneNumPattern","linkify","outputStr","results","match","url","normalizedURL","startsWith","checkMessageForExtensionsData","injectedObject","metadata","extensionsObject","getMessageFileMetadata","metadataKey","fileMetadata","ID","random","getUnixTimestamp","round","dateDiffInDays","a","b","utc1","UTC","getFullYear","getMonth","getDate","utc2","floor","CometChatOutgoingDirectCall","prepareCustomMessageData","sendCustomMessage","RECEIVER_TYPE","GROUP","conversationId","CustomMessage","setSender","setReceiver","setConversationId","_composedAt","_id","newMessageObj","callScreenRef","ConversationListManager","conversationRequest","conversationListenerId","userListenerId","groupListenerId","ConversationsRequestBuilder","setConversationType","setLimit","fetchNext","addUserListener","UserListener","onUserOnline","onlineUser","onUserOffline","offlineUser","addGroupListener","GroupListener","onGroupMemberScopeChanged","changedUser","newScope","oldScope","changedGroup","onGroupMemberKicked","kickedUser","kickedBy","kickedFrom","onGroupMemberBanned","bannedUser","bannedBy","bannedFrom","onGroupMemberUnbanned","unbannedUser","unbannedBy","unbannedFrom","onMemberAddedToGroup","userAdded","userAddedBy","userAddedIn","onGroupMemberLeft","leavingUser","onGroupMemberJoined","joinedUser","joinedGroup","onTextMessageReceived","textMessage","onMediaMessageReceived","mediaMessage","onMessageDeleted","deletedMessage","onMessageEdited","editedMessage","onMessagesRead","messageReceipt","removeUserListener","removeGroupListener","CometChatEvent","_triggers","push","params","chatsWrapperStyle","_parent","chatsHeaderStyle","borderBottom","chatsHeaderCloseStyle","mq","chatsHeaderTitleStyle","enableCloseMenu","CometChatConversationList","incrementUnreadCount","filterConversation","conversationlist","find","c","conversationType","USER","conversationWith","updateLastMessage","conversationList","conversationKey","findIndex","conversationObj","newConversationObj","splice","unshift","newConversation","Conversation","setConversationWith","setUnreadMessageCount","updateUnreadCount","clearUnreadCount","unreadMessageCount","conversationCallback","options","updateUser","markMessageAsDelivered","conversationUpdated","markAsDelivered","updateConversation","conversationEditedDeleted","updateGroupMemberAdded","updateGroupMemberRemoved","updateGroupMemberScopeChanged","updateGroupMemberChanged","conversationWithObj","getStatus","hideGroupActionMessages","playAudio","CATEGORY_ACTION","TYPE_GROUP_MEMBER","getReceiverType","getSender","getReceiverId","conversation","messageId","id","makeConversation","CometChatHelper","getConversationFromMessage","makeUnreadMessageCount","shouldIncrementCount","incomingMessage","CATEGORY_MESSAGE","makeLastMessage","newMessage","assign","lastMessageObj","newLastMessageObj","membersCount","actionFor","newConversationWithObj","scope","handleScroll","currentTarget","scrollHeight","scrollTop","getConversations","handleClick","onItemClick","handleMenuClose","fetchNextConversation","decoratorMessage","conversations","eachConversation","newUnreadMessageCount","updatedConversation","contextProviderRef","conversationDeleted","deleteConversation","showConfirmDialog","conversationToBeDeleted","onDeleteConfirm","optionSelected","target","deletedConversation","chatListRef","on","args","blockedByMe","convKey","convObj","convWithObj","newConvWithObj","newConvObj","map","messageContainer","wordWrap","closeBtn","navigateIcon","chatList","dir","getDirection","overflowY","onScroll","chatListWrapper","CometChatConversationListActions","toggleTooltip","setAttribute","dataset","removeAttribute","deleteInProgress","actionInProgress","progressIcon","actionIcon","loadingIcon","deleteIcon","data-title","onMouseEnter","onMouseLeave","listStyleType","listItem","selectedState","selectedConversation","itemNameStyle","itemLastMsgStyle","CometChatConversationListItem","getLastMessage","enableHideDeletedMessages","getMessage","CATEGORY_CALL","getCallMessage","getActionMessage","CATEGORY_CUSTOM","getCustomMessage","getLastMessageTimestamp","timestamp","messageTimestamp","currentTimestamp","now","dateDifferenceInDays","dateFormat","getTimeStampForLastMessage","pollMessage","stickerMessage","docMessage","whiteboardMessage","meetingMessage","getTextMessage","messageText","text","xssData","sanitized_text","maskedData","sensitive_data","message_masked","profaneData","profanity","message_clean","MESSAGE_TYPE","TEXT","MEDIA","IMAGE","imageMessage","FILE","fileMessage","videoMessage","audioMessage","CUSTOM","actionMessage","MEMBER_JOINED","MEMBER_LEFT","actionBy","actionOn","MEMBER_SCOPE_CHANGED","extras","byEntity","onEntity","byString","forString","MEMBER_ADDED","MEMBER_KICKED","MEMBER_BANNED","MEMBER_UNBANNED","textContent","enableUnreadCount","handleMouseHover","toggleFlag","isHovering","lastMessageTimestamp","lastMessageTimeStamp","toolTipView","flexGrow","paddingLeft","paddingRight","previewWrapperStyle","slideAnimation","previewCloseStyle","previewOptionStyle","CometChatSmartReplyPreview","alignSelf","stickerWrapperStyle","stickerSectionListStyle","borderTop","overflowX","stickerItemStyle","stickerCloseStyle","CometChatStickerKeyboard","getStickers","callExtension","stickers","activeStickerSet","customStickers","defaultStickers","sort","stickerSetOrder","stickerList","stickerSet","reduce","r","index","stickerSetName","activeStickerList","stickerOrder","sendStickerMessage","stickerItem","onStickerSetClicked","sectionItem","activestickerlist","stickerset","closeStickerKeyboard","stickerlist","activestickerset","sectionItems","stickerSetThumbnail","stickerUrl","stickerName","flexWrap","messageReactionsStyle","reactionData","hoveredBorderStyle","verticalAlign","emojiButtonStyle","reactionCountStyle","CometChatMessageReactions","enableMessageReaction","reactToMessages","emoji","messageObject","colons","msgId","getMessageReactions","reaction","reactionName","replaceAll","reactionCount","userList","reactionTitle","join","concat","reactionClassName","size","native","addMessageReaction","reactIcon","messageReactions","addReactionEmoji","modalWrapperStyle","modalErrorStyle","modalTableStyle","borderCollapse","tr","tableLayout","tableFootStyle","loadingState","textMargin","creatingPoll","disabled","td","button","span","addOptionIconStyle","backgroundSize","CometChatCreatePoll","addPollOption","removePollOption","optionKey","opt","optionChangeHandler","newOption","createPoll","question","questionRef","firstOption","optionOneRef","secondOption","optionTwoRef","optionItems","optionRef","pollOptionView","tabIndex","createText","clearIcon","colSpan","autoFocus","placeholder","addIcon","creatingIcon","removeOptionIconStyle","CometChatCreatePollOptions","autoComplete","onChange","removeIcon","messageThumbnailStyle","nameWrapperStyle","paddingValue","messageTxtWrapperStyle","messageTxtTitleStyle","messageBtnStyle","li","CometChatReceiverDocumentBubble","toggleHoverState","launchCollaborativeDocument","documentUrl","documentData","document_url","open","nextProps","nextState","reactionsData","documentTitle","flex","documentIcon","pollAnswerStyle","pollPercentStyle","curvedBorders","answerWrapperStyle","optionData","widthProp","voters","p","checkIconStyle","CometChatReceiverPollMessageBubble","answerPollQuestion","selectedOption","vote","pollId","pollExtensionData","pollOptions","total","totalText","toLocaleString","checkIcon","checkImg","template","messageImgWrapperStyle","CometChatReceiverStickerMessageBubble","stickerData","stickerImg","sticker_name","sticker_url","CometChatReceiverWhiteboardBubble","launchCollaborativeWhiteboard","whiteboardUrl","whiteboardData","board_url","username","whiteboardIcon","CometChatSenderDocumentBubble","wordBreak","CometChatSenderPollMessageBubble","messageImgWrapper","CometChatSenderStickerBubble","messageTxtIconStyle","CometChatSenderWhiteboardBubble","CometChatActionMessageBubble","getCallActionMessage","INITIATED","ONGOING","UNANSWERED","ENDED","byUser","onUser","messageContainerStyle","messageWrapperStyle","Width","fontStyle","messageTxtStyle","messageInfoWrapperStyle","messageTimeStampStyle","messageDetailStyle","paddingSpace","nameStyle","CometChatDeleteMessageBubble","setLoggedInUser","messageDate","CometChatEmojiKeyboard","categories","people","nature","foods","activity","places","objects","symbols","flags","emojiClicked","showPreview","exclude","i18n","imageWrapperStyle","heightProps","imgStyle","sizeProps","objectFit","CometChatImageViewer","setImage","imageIcon","previewDataStyle","previewTitleStyle","previewDescStyle","previewTextStyle","previewLinkStyle","CometChatLinkPreview","linkObject","linkText","href","CometChatLiveReactions","sendMessage","transientMessage","TransientMessage","sendTransientMessage","setItems","parentElement","offsetWidth","offsetHeight","elements","elementWidth","elementHeight","ySpeed","verticalSpeed","omega","PI","horizontalSpeed","time","sin","items","requestAnimation","animate","transformString","visibility","classList","add","counter","before","reactionImg","Array","fill","messageActionStyle","direction","groupButtonStyle","deleteOption","backgroundProp","CometChatMessageActions","enableThreadedChats","enableDeleteMessage","enableDeleteMessageForModerator","enableEditMessage","enableTranslateMessage","enableMessageInPrivate","sendMessageInPrivate","reactToMessage","viewThread","translateMessage","startThreadIcon","replyCount","editIcon","translateIcon","sendMessageInPrivateIcon","tooltip","chatComposerStyle","order","editPreviewContainerStyle","inputInnerStyle","borderRadiusVal","emojiViewer","stickerViewer","messageInputStyle","disabledState","content","inputStickyStyle","attachments","flexDirectionProp","filePickerStyle","active","showFilePicker","fileItemStyle","stickyAttachButtonStyle","stickyButtonStyle","sendButtonStyle","stickerBtnStyle","CometChatMessageComposer","enableLiveReaction","enablePolls","enableTypingIndicator","enableStickers","enablePhotosVideos","enableFiles","enableEmojis","enableCollaborativeDocument","enableCollaborativeWhiteboard","focusOnMessageComposer","messageInputRef","focus","messageToReact","pasteHtmlAtCaret","messageInput","innerText","messageType","changeHandler","startTyping","toggleFilePicker","currentState","openFileDialogue","fileType","imageUploaderRef","click","fileUploaderRef","audioUploaderRef","videoUploaderRef","onImageChange","files","uploadedFile","reader","FileReader","newFile","File","result","sendMediaMessage","readAsArrayBuffer","onFileChange","onAudioChange","onVideoChange","getReceiverDetails","endTyping","MediaMessage","parentMessageId","setParentMessageId","setMetadata","sendMessageOnEnter","keyCode","shiftKey","sendTextMessage","messageToBeEdited","TextMessage","setText","replyPreview","setId","messageFrom","closeEditPreview","typingInterval","isTyping","typingMetadata","typingNotification","TypingIndicator","persist","toggleStickerPicker","toggleEmojiPicker","toggleCreatePoll","toggleCollaborativeDocument","toggleCollaborativeBoard","closeCreatePoll","sendSticker","sendReplyMessage","clearReplyPreview","startLiveReaction","animationInProgress","timeout","liveReactionInterval","stopLiveReaction","newMessageObject","reactionObject","userObject","emojiObject","reactionExtensionsData","metadatObject","extensions","liveReactionInProgress","shareDocument","shareWhiteboard","prevState","hasXSS","html","selectPastedContent","sel","range","getSelection","getRangeAt","rangeCount","deleteContents","node","lastNode","frag","createDocumentFragment","firstChild","appendChild","firstNode","insertNode","cloneRange","setStartAfter","setStartBefore","collapse","removeAllRanges","addRange","selection","originalRange","createRange","pasteHTML","setEndPoint","select","liveReactionBtn","docs","docIcon","avp","videoIcon","accept","audioIcon","pollText","createPollBtn","pollIcon","collaborativeDocText","collaborativeDocBtn","collaborativeBoardText","collaborativeBoardBtn","emojiBtn","insertEmoticon","stickerBtn","stickerIcon","sendBtn","sendBlue","attach","roundedPlus","editPreview","smartReplyPreview","smartReplyData","contentEditable","onInput","onBlur","onKeyDown","MessageHeaderManager","onTypingStarted","typingIndicator","onTypingEnded","chatSideBarBtnStyle","displayValue","sidebar","chatUserStyle","chatNameStyle","chatStatusStyle","typing","chatOptionStyle","ongoingCall","bgColor","CometChatMessageHeader","setStatusForUser","USER_STATUS","ONLINE","OFFLINE","lastActiveAt","lastActive","setStatusForGroup","membersText","updateHeader","groupUser","enableUserPresence","showTyping","typingText","resetChat","enableGroupVoiceCall","enableGroupVideoCall","enableOneOnOneVoiceCall","combinedResponse","enableOneOnOneVideoCall","enableAddGroupMembers","enableChangeScope","enableKickGroupMembers","enableBanGroupMembers","enableDeleteGroup","enableViewGroupMembers","enableLeaveGroup","enableSharedMedia","enableBlockUser","initiateAudioCall","initiateVideoCall","viewDetail","videoCallClassName","audioCallClassName","viewDetailClassName","chatWithClassName","chatNameClassName","chatStatusClassName","audioCallBtn","audioCallText","videoCallBtn","videoCallText","viewDetailBtn","detailPaneIcon","menuIcon","MessageFilter","getCategories","getTypes","MessageListManager","messageRequest","limit","initializeMessageRequest","messageFilterManager","categoryList","typeList","MessagesRequestBuilder","setUID","setCategories","setTypes","hideReplies","setGUID","fetchPrevious","onMessagesDelivered","onTransientMessageReceived","chatListStyle","messageDateStyle","CometChatMessageList","lastScrollTop","times","scrollToBottom","messagesEnd","messageHandler","fetchMessages","messageList","messageCount","getUid","markAsRead","messages","fetchPreviousMessages","messageUpdated","onMessageReadAndDelivered","onMessageReceived","onGroupUpdated","onCallUpdated","updateEditedMessage","messageKey","m","messageObj","getReceiver","getReceiptType","deliveredAt","getDeliveredAt","readAt","getReadAt","reInitializeMessageBuilder","markMessageAsRead","messageReceivedHandler","customMessageReceivedHandler","getSenderMessageComponent","getReceiverMessageComponent","getSenderCustomMessageComponent","getReceiverCustomMessageComponent","getActionMessageComponent","getComponent","ifChatWindowChanged","cDate","dateSeparator","dateField","messageSentDate","timeStampInMilliSeconds","getMessageDate","paddingTop","SharedMediaManager","messagetype","mediaMessageListenerId","mediaMessageRequest","setCategory","sectionStyle","containerHeightProp","containerHeight","buttonStyle","activeBtn","itemStyle","itemTypeStyle","CometChatSharedMediaView","messageDeleted","messageReceived","filteredMessages","filter","getMessages","mediaClickHandler","fileIcon","data-id","UserDetailManager","userDetailStyle","headerStyle","headerCloseStyle","privacySectionStyle","sectionHeaderStyle","itemLinkStyle","userPresenceStyle","CometChatUserDetails","enableViewProfile","usersList","blockUsers","newType","newItem","unblockUser","unblockUsers","profileLink","link","closeDetailView","blockUserText","UserListManager","searchKey","userRequest","initializeUsersRequest","userListModeOptions","usersRequest","UsersRequestBuilder","setSearchKeyword","friendsOnly","contactWrapperStyle","contactHeaderStyle","contactHeaderCloseStyle","contactHeaderTitleStyle","contactSearchButtonStyle","CometChatUserList","toggleUserSearch","enableSearchUser","userUpdated","userlist","userKey","u","userObj","newUserObj","getUsers","val","fetchNextUsers","userListRef","newUserObject","currentLetter","chr","firstChar","selectedUser","clickHandler","searchUser","searchIcon","userListTemplate","userListWrapper","itemDescStyle","marginTop","CometChatUserListItem","userPresence","userScreenSidebarStyle","sidebarView","sidebarview","borderRight","userScreenMainStyle","CometChatUserListWithMessages","itemClicked","toggleSideBar","chatWithUser","messageScreen","creatingGroup","inputStyle","CometChatCreateGroup","enablePublicGroup","enablePasswordGroup","enablePrivateGroup","passwordChangeHandler","nameChangeHandler","typeChangeHandler","passwordInput","validate","groupName","createGroup","PRIVATE","Group","newGroup","populateGroupType","groupTypes","groupTypeSelect","groupTypeKeys","groupTypeListOptions","groupTypeKey","GroupDetailManager","groupMemberRequest","bannedGroupMemberRequest","GroupMembersRequestBuilder","BannedMembersRequestBuilder","deleteLink","deleteCss","CometChatGroupDetails","groupUpdated","updateGroupMemberPresence","member","updatedMember","addParticipants","removeParticipants","banMembers","unbanMembers","updateParticipants","memberlist","memberKey","k","memberObj","newMemberObj","bannedmemberlist","bannedMemberKey","bannedMemberObj","newBannedMemberObj","getGroupMembers","administratorslist","moderatorslist","fetchNextGroupMembers","getBannedGroupMembers","fetchNextBannedGroupMembers","deleteGroup","showDeleteConfirmDialog","showLeaveGroupConfirmDialog","showTransferOwnershipConfirmDialog","onLeaveConfirm","leaveGroup","onTransferConfirm","transferOwnership","owner","viewMember","addMember","membersActionHandler","members","updateOwnership","unbannedMembers","filteredBannedMembers","bannedmember","found","triggerUpdate","groupmembers","filteredMembers","groupmember","closeGroupDetail","addAdministrator","addModerator","viewMembersBtn","paddingBottom","addMembersBtn","deleteGroupBtn","bannedMembersBtn","leaveGroupBtn","sharedmediaView","viewMembers","loggedinuser","addMembers","GroupListManager","groupRequest","GroupsRequestBuilder","groupWrapperStyle","groupHeaderStyle","groupHeaderCloseStyle","groupHeaderTitleStyle","groupAddStyle","CometChatGroupList","enableSearchGroup","enableCreateGroup","enableJoinGroup","updateMemberChanged","updateMemberRemoved","updateMemberAdded","updateMemberJoined","grouplist","groupKey","g","groupObj","newgroupObj","getGroups","newGroupObj","searchGroup","fetchNextGroups","groupList","createGroupHandler","createGroupActionHandler","groupListRef","selectedGroup","createGroupBtn","groupListTemplate","groupListWrapper","itemIconStyle","CometChatGroupListItem","groupTypeIcon","shieldIcon","lockIcon","modalCaptionStyle","textAlignStyle","listHeaderStyle","nameColumnStyle","editAccess","scopeColumnStyle","actionColumnStyle","CometChatViewGroupMemberList","updateUserColumnTitle","userColumnTitle","matches","updateMembers","changeScope","memberToBan","banGroupMember","memberToKick","kickGroupMember","updateGroupMemberScope","setUserColumnTitle","matchMedia","addListener","modalRowStyle","borderLeft","participantView","avatarStyle","marginProp","displayProp","scopeIconStyle","kickIconStyle","CometChatViewGroupMemberListItem","toggleChangeScope","showChangeScope","scopeChangeHandler","updateMemberScope","contains","changeScopeDropDown","defaultValue","editClassName","changescope","ban","banIcon","kick","kickIcon","doneIcon","scopeIcon","AddMembersManager","membersRequest","initializeMembersRequest","modalCloseStyle","searchButtonStyle","modalListStyle","modalFootStyle","addingMembers","CometChatAddGroupMemberList","membersToAdd","membersToRemove","filteredlist","filteredUserList","foundbanned","membersUpdated","userState","IndexFound","membersList","newmember","newMember","GroupMember","addMembersToGroup","addGroupMemberBtn","addingIcon","firstLetter","changed","selectionBoxStyle","inactiveStateImg","activeStateImg","CometChatAddGroupMemberListItem","checked","setChecked","nameContainer","lastChild","inactiveIcon","activeIcon","htmlFor","roleColumnStyle","CometChatBanGroupMemberList","unbanMember","memberToUnBan","unbanGroupMember","membersToBan","membersToUnBan","userStyle","roleStyle","actionStyle","CometChatBanGroupMemberListItem","unBan","unban","groupScreenSidebarStyle","groupScreenMainStyle","otherProps","newObject","chatWithGroup","btnState","newGroupOwner","transferringOwnership","CometChatTransferOwnershipMemberList","changeOwnership","updateGroupOwner","transferGroupOwnership","memberList","transferBtn","transferText","transferIcon","modalColumnStyle","selectionColumnStyle","CometChatTransferOwnershipMemberListItem","handleCheck","toggleSelectedState","isSelected","chatWrapperStyle","viewdetailscreen","threadmessageview","secondaryViewWidth","chatSecondaryStyle","messagePaneUnreadBannerMessageStyle","textShadow","CometChatMessages","enableGroupActionMessages","enableCallActionMessages","enableSendingOneOnOneMessage","enableSendingGroupMessage","updateReplyCount","appendMessage","messageSent","triggerHandler","updateMessages","updateParentThreadedMessage","removeMessages","prependMessages","prependMessagesAndScrollToBottom","refreshingMessages","messageRefreshed","newMessagesArrived","jumpToMessages","messageEdited","clearEditPreview","appendCallMessage","toggleOriginalImageView","audioCall","videoCall","toggleDetailView","toggleReaction","liveReactionReceived","outgoingDirectCallRef","viewThreadedMessage","threadMessageComposed","closeThreadedMessage","appendMemberAddedMessage","appendMemberUnbannedMessage","appendMemberScopeChangedMessage","appendMemberKickedMessage","appendMemberBannedMessage","errorHandler","infoMessageHandler","infoCode","eachMember","viewOriginalImage","viewdetail","parentMessage","threaditem","threadmessageparent","threadmessageitem","threadmessagetype","Call","initiateCall","outgoingCall","outgoingCallRef","liveReaction","markMessagesAsRead","unreadMessage","messageListRef","messagelist","receivedMessage","composerRef","blockedUser","messageComposer","newMessageIndicator","liveReactionView","incomingCallView","incomingDirectCallView","outgoingDirectCallView","outgoingCallView","detailScreen","threadMessageView","activeTab","threadItem","threadType","originalImageView","messageComponent","messageWrapper","parentMessageStyle","messageSeparatorStyle","hr","CometChatMessageThread","parentMessageEdited","newReplyCount","getParentMessageComponent","seperator","replyText","fontWight","scrollbarWidth","CometChatReadReceipt","toggleReadReceipts","receipts","ticks","receiptText","errorTick","sendingTick","greyTick","blueDoubleTick","greyDoubleTick","receipt","getMessageSentTime","CometChatReceiverAudioMessageBubble","controls","CometChatReceiverDirectCallBubble","messageTitle","joinCallMessage","messageFileWrapperStyle","textDecoration","label","CometChatReceiverFileMessageBubble","CometChatReceiverImageMessageBubble","chooseImage","thumbnailGenerationObject","smallUrl","imageToDownload","thumbnailGenerationData","imageName","imageUrl","downloadImage","setMessageImageUrl","imgUrl","xhr","XMLHttpRequest","responseType","readyState","statusText","onerror","Error","ontimeout","send","parsedMessage","emojiMessage","showVariation","emojiProp","zoom","CometChatReceiverTextMessageBubble","getMessageText","formattedText","emojiParsedMessage","twemoji","folder","ext","ReactHtmlParser","decodeEntities","enableLargerSizeEmojis","translatedMessage","translateToLanguage","browserLanguageArray","linkPreviewData","CometChatReceiverVideoMessageBubble","CometChatSenderAudioMessageBubble","getFileData","Blob","fileName","fileUrl","fileData","CometChatSenderDirectCallBubble","CometChatSenderFileMessageBubble","CometChatSenderImageMessageBubble","readAsDataURL","heightProp","CometChatSenderTextMessageBubble","messageTextRef","CometChatSenderVideoMessageBubble","replyCountStyle","CometChatThreadedMessageReplyCount","reply","setReply","replies","bockedSubTitleStyle","unblockButtonStyle","CometChatBlockedUser","chatWith","chatScreenSidebarStyle","chatScreenMainStyle","tab","userInfoScreenStyle","userStatusStyle","optionTitleStyle","optionStyle","CometChatUserProfile","userProfile","notificationIcon","privacyIcon","chatIcon","helpIcon","reportIcon","isActive","activeStateBg","itemLinkTextStyle","colorProp","CometChatNavBar","tabListKeys","getFilteredTabs","filteredTabs","promises","enableChats","enableUsers","enableGroups","enableSettings","allSettled","eachTabKey","tabKey","tabEnabled","tabChanged","getActiveTab","getTabList","chatsTabActive","userTabActive","groupsTabActive","moreTabActive","chatGreyIcon","contactGreyIcon","groupGreyIcon","moreGreyIcon","tabName","t","unifiedSidebarStyle","unifiedMainStyle","navBarAction","navBarRef","COMETCHAT_CONSTANTS","AUTH_START","AUTH_SUCCESS","AUTH_FAIL","AUTH_LOGOUT","SET_AUTH_REDIRECT_PATH","authSuccess","actionTypes","authFail","logout","dispatch","authRedirectPath","auth","authKey","login","log","KitchenSinkApp","myRef","onLogin","loader","loading","authRedirect","actions","componentStyle","UIComponentStyle","boxStyle","thumbnailWrapperStyle","linkWrapperStyle","HomePage","CometChatUI","listComponent","onLogout","history","createBrowserHistory","App","isLoggedin","exact","Boolean","hostname","initialState","authStart","authLogout","setAuthRedirectPath","reducer","store","createStore","compose","applyMiddleware","thunk","appID","region","appSetting","AppSettingsBuilder","subscribePresenceForAllUsers","setRegion","init","setSource","ReactDOM","getElementById","serviceWorker","ready","registration","unregister"],"mappings":"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","file":"static/js/main.79665cff.chunk.js","sourcesContent":["import React from 'react';\r\nimport { connect } from 'react-redux';\r\n\r\nimport { Route, Redirect } from 'react-router-dom';\r\n\r\nclass PrivateRoute extends React.Component {\r\n\r\n    render() {\r\n\r\n        if(this.props.isLoggedIn) {\r\n            return <Route path={this.props.path} render={props => <this.props.component {...this.props} />} />;\r\n        } else {\r\n            return (<Redirect to={{ pathname: '/login', state: { from: this.props.location } }} />);\r\n        }\r\n    }\r\n}\r\n\r\nconst mapStateToProps = state => {\r\n    return {\r\n        isLoggedIn: state.isLoggedIn\r\n    };\r\n};\r\n  \r\nexport default connect( mapStateToProps, null)(PrivateRoute);","export const TEXT_MESSAGE_RECEIVED = 'onTextMessageReceived';\nexport const MEDIA_MESSAGE_RECEIVED = 'onMediaMessageReceived';\nexport const CUSTOM_MESSAGE_RECEIVED = 'onCustomMessageReceived';\nexport const MESSAGE_DELIVERED = 'onMessagesDelivered';\nexport const MESSAGE_READ = 'onMessagesRead';\nexport const MESSAGE_DELETED = 'onMessageDeleted';\nexport const MESSAGE_EDITED = 'onMessageEdited';\nexport const TRANSIENT_MESSAGE_RECEIVED = \"onTransientMessageReceived\";\n\nexport const INCOMING_CALL_RECEIVED = 'onIncomingCallReceived';\nexport const OUTGOING_CALL_ACCEPTED = 'onOutgoingCallAccepted';\nexport const OUTGOING_CALL_REJECTED = 'onOutgoingCallRejected';\nexport const INCOMING_CALL_CANCELLED = 'onIncomingCallCancelled';\n\nexport const GROUP_MEMBER_SCOPE_CHANGED = \"onGroupMemberScopeChanged\";\nexport const GROUP_MEMBER_KICKED = \"onGroupMemberKicked\";\nexport const GROUP_MEMBER_BANNED = \"onGroupMemberBanned\";\nexport const GROUP_MEMBER_UNBANNED = \"onGroupMemberUnbanned\";\nexport const GROUP_MEMBER_ADDED = \"onMemberAddedToGroup\";\nexport const GROUP_MEMBER_LEFT = \"onGroupMemberLeft\";\nexport const GROUP_MEMBER_JOINED = \"onGroupMemberJoined\";\n\nexport const USER_ONLINE = \"onUserOnline\";\nexport const USER_OFFLINE = \"onUserOffline\";\n\nexport const TYPING_STARTED = \"onTypingStarted\";\nexport const TYPING_ENDED = \"onTypingEnded\";\n\nexport const CUSTOM_TYPE_POLL = \"extension_poll\";\nexport const CUSTOM_TYPE_STICKER = \"extension_sticker\";\nexport const CUSTOM_TYPE_DOCUMENT = \"extension_document\";\nexport const CUSTOM_TYPE_WHITEBOARD = \"extension_whiteboard\";\nexport const CUSTOM_TYPE_MEETING = \"meeting\";\n\nexport const CONSTANTS = {\n\tLOCALE: \"cometchat:locale\",\n\tACTIVECALL: \"cometchat:activecall\",\n\tMAX_MESSAGE_COUNT: 1000,\n\tMETADATA_TYPE_LIVEREACTION: \"live_reaction\",\n\tLIVE_REACTIONS: { heart: \"./resources/heart.png\", thumbsup: \"👍\", clap: \"👏\", wink: \"😉\" },\n\tMESSAGES_COMPONENT: \"messages\",\n\tEMBEDDED_COMPONENT: \"embedded\",\n\tOUTGOING_DEFAULT_CALLING: \"outgoing_default\",\n\tINCOMING_DEFAULT_CALLING: \"incoming_default\",\n\tINCOMING_DIRECT_CALLING: \"incoming_direct\",\n\tOUTGOING_DIRECT_CALLING: \"outgoing_direct\",\n\tAUDIO: {\n\t\tINCOMING_MESSAGE: \"incomingMessage\",\n\t\tINCOMING_OTHER_MESSAGE: \"incomingOtherMessage\",\n\t\tOUTGOING_MESSAGE: \"outgoingMessage\",\n\t\tINCOMING_CALL: \"incomingCall\",\n\t\tOUTGOING_CALL: \"outgoingCall\",\n\t},\n\tERROR_CODES: {\n\t\tERR_CHAT_API_FAILURE: \"ERR_CHAT_API_FAILURE\",\n\t},\n\tCALLS: {\n\t\tONGOING_CALL: \"noOngoingCall\",\n\t\tONGOING_CALL_SAME_GROUP: \"ongoingDirectCallInSameGroup\",\n\t\tONGOING_CALL_DIFF_GROUP: \"ongoingDirectCallInDifferentGroup\",\n\t},\n\tGROUPS: {\n\t\tOWNER: \"owner\",\n\t},\n\tLIVE_REACTION_INTERVAL: 1500,\n\tFILE_METADATA: \"file\",\n};\n\nexport const ACTIONS = {\n\tMESSAGE_SENT: \"messageSent\",\n\tMESSAGE_COMPOSED: \"messageComposed\",\n\tERROR_IN_SENDING_MESSAGE: \"errorInSendingMessage\",\n\tACCEPT_DIRECT_CALL: \"acceptDirectCall\",\n\tJOIN_DIRECT_CALL: \"joinDirectCall\",\n\tSTART_DIRECT_CALL: \"startDirectCall\",\n\tDIRECT_CALL_ENDED: \"directCallEnded\",\n\tPOLL_CREATED: \"pollCreated\",\n\tGROUP_DELETED: \"groupDeleted\",\n\tGROUP_LEFT: \"leftGroup\",\n\tGROUP_CREATED: \"groupCreated\",\n\tVIEW_DETAIL: \"viewDetail\",\n\tVIEW_THREADED_MESSAGE: \"viewThreadedMessage\",\n\tCLOSE_THREADED_MESSAGE: \"closeThreadedMessage\",\n\tTOGGLE_SIDEBAR: \"toggleSidebar\",\n\tON_MESSAGE_EDITED: \"onMessageEdited\",\n\tON_MESSAGE_DELETED: \"onMessageDeleted\",\n\tON_MESSAGE_READ_DELIVERED: \"onMessageReadAndDelivered\",\n\tDELETE_MESSAGE: \"deleteMessage\",\n\tMESSAGE_DELETED: \"messageDeleted\",\n\tEDIT_MESSAGE: \"editMessage\",\n\tMESSAGE_EDITED: \"messageEdited\",\n\tCLOSE_GROUP_DETAIL: \"closeGroupDetail\",\n\tCLOSE_USER_DETAIL: \"closeUserDetail\",\n\tVIEW_ORIGINAL_IMAGE: \"viewOriginalImage\",\n\tFETCH_GROUP_MEMBERS: \"fetchGroupMembers\",\n\tSCOPECHANGE_GROUPMEMBER_SUCCESS: \"updateGroupMember\",\n\tBAN_GROUP_MEMBER: \"ban\",\n\tKICK_GROUP_MEMBER: \"kick\",\n\tBAN_GROUPMEMBER_SUCCESS: \"banGroupMember\",\n\tKICK_GROUPMEMBER_SUCCESS: \"kickGroupMember\",\n\tCHANGE_SCOPE_GROUP_MEMBER: \"changescope\",\n\tUNBAN_GROUP_MEMBER: \"unban\",\n\tADD_GROUP_MEMBER_SUCCESS: \"addGroupMembers\",\n\tFETCH_BANNED_GROUP_MEMBERS: \"fetchBannedGroupMembers\",\n\tUNBAN_GROUP_MEMBER_SUCCESS: \"unbanGroupMembers\",\n\tREACT_TO_MESSAGE: \"reactToMessage\",\n\tINITIATE_VIDEO_CALL: \"initiateVideoCall\",\n\tINITIATE_AUDIO_CALL: \"initiateAudioCall\",\n\tCHANGE_TAB: \"changeTab\",\n\tITEM_CLICKED: \"itemClicked\",\n\tTHREAD_MESSAGE_COMPOSED: \"threadMessageComposed\",\n\tSEND_LIVE_REACTION: \"sendReaction\",\n\tSTOP_LIVE_REACTION: \"stopReaction\",\n\tSHOW_LIVE_REACTION: \"showReaction\",\n\tCLEAR_EDIT_PREVIEW: \"clearEditPreview\",\n\tMESSAGE_RECEIVED: \"messageReceived\",\n\tCUSTOM_MESSAGE_RECEIVED: \"customMessageReceived\",\n\tMESSAGE_READ: \"messageRead\",\n\tMESSAGES_INITIAL_FETCH: \"messageInitialFetch\",\n\tMESSAGES_FETCHED: \"messageFetched\",\n\tREFRESHING_MESSAGES: \"refreshingMessages\",\n\tMESSAGES_REFRESHED: \"messageRefreshed\",\n\tNEW_MESSAGES: \"newMessagesArrived\",\n\tCLEAR_UNREAD_MESSAGES: \"clearUnreadMessages\",\n\tSTART_AUDIO_CALL: \"startAudioCall\",\n\tSTART_VIDEO_CALL: \"startVideoCall\",\n\tOUTGOING_CALL_ACCEPTED: \"outgoingCallAccepted\",\n\tOUTGOING_CALL_REJECTED: \"outgoingCallRejected\",\n\tOUTGOING_CALL_CANCELLED: \"outgoingCallCancelled\",\n\tINCOMING_CALL_ACCEPTED: \"incomingCallAccepted\",\n\tINCOMING_CALL_REJECTED: \"incomingCallRejected\",\n\tCALL_ENDED: \"callEnded\",\n\tUSER_JOINED_CALL: \"userJoinedCall\",\n\tUSER_LEFT_CALL: \"userLeftCall\",\n\tDELETE_CONVERSATION: \"deleteConversation\",\n\tCONVERSATION_DELETED: \"conversationDeleted\",\n\tSEND_STICKER: \"sendSticker\",\n\tCLOSE_STICKER_KEYBOARD: \"closeStickerKeyboard\",\n\tERROR: \"errorOccurred\",\n\tINFO: \"infoMessage\",\n\tTRANSLATE_MESSAGE: \"translateMessage\"\n};\n\nexport const EVENTS = {\n\tNEW_MESSAGES: \"newMessagesArrived\",\n\tCLEAR_UNREAD_MESSAGES: \"clearUnreadMessages\",\n};\n\n\nexport const KEYS = {\n\tMETADATA: \"metadata\",\n\tINCREMENT_UNREAD_COUNT: \"incrementUnreadCount\",\n};","import { CometChat } from \"@cometchat-pro/chat\";\n\nimport * as enums from \"../../../util/enums.js\";\n\nexport class CallAlertManager {\n\n    callListenerId = \"incoming_call_\" + new Date().getTime();\n\n    attachListeners(callback) {\n\n        CometChat.addCallListener(\n            this.callListenerId,\n            new CometChat.CallListener({\n                onIncomingCallReceived: call => {\n                    callback(enums.INCOMING_CALL_RECEIVED, call);\n                },\n                onIncomingCallCancelled: call => {\n                    callback(enums.INCOMING_CALL_CANCELLED, call);\n                },\n                onOutgoingCallAccepted: call => {\n                    callback(enums.OUTGOING_CALL_ACCEPTED, call);\n                },\n            })\n        );\n    }\n\n    removeListeners() {\n        CometChat.removeCallListener(this.callListenerId);\n    }\n}","export const theme = {\n    fontFamily: \"Inter, sans-serif\",\n    fontSize: \"14px\",\n    primaryColor: \"#39f\",\n    secondaryTextColor: \"#808080\",\n    color: {\n        primary: \"#141414\",\n        secondary: \"#cccccc\",\n        darkSecondary: \"#eaeaea\",\n        search: \"rgba(20, 20, 20, 0.4)\",\n        tertiary: \"rgba(20, 20, 20, 0.5)\",\n        grey: \"rgba(20,20,20,0.04)\",\n        helpText: \"rgba(20, 20, 20, 0.6)\",\n        blue: \"#39f\",\n        white: \"#fff\",\n        red: \"#ff3b30\"\n    },\n    borderColor: {\n        primary: \"#eaeaea\",\n        secondary: \"#cccccc\",\n        darkSecondary: \"#eaeaea\",\n        white: \"#fff\",\n        blue: \"#39f\",\n    },\n    backgroundColor: {\n        white: \"#fff\",\n        primary: \"#E6E6E6\",\n        secondary: \"#f6f6f6\",\n        blue: \"#39f\",\n        red: \"#ff3b30\",\n        grey: \"rgba(20,20,20,0.04)\",\n        lightGrey: \"rgba(20, 20, 20, 0.08)\",\n        darkGrey: \"rgba(20,20,20,0.9)\",\n        callScreenGrey: \"#444444\",\n        silver: \"#c4c4c4\"\n    },\n    breakPoints: [\n        \"(min-width: 320px) and (max-width: 767px)\",\n        \"(min-width: 320px) and (max-width: 480px)\",\n        \"(min-width: 481px) and (max-width: 768px)\",\n        \"(min-width: 769px) and (max-width: 1024px)\",\n        \"(min-width: 1025px) and (max-width: 1200px)\",\n    ]\n};\n","import React from \"react\";\n/** @jsxRuntime classic */\n/** @jsx jsx */\nimport { jsx } from \"@emotion/core\";\nimport PropTypes from \"prop-types\";\nimport { CometChat } from \"@cometchat-pro/chat\";\n\nimport { theme } from \"../../../resources/theme\";\n\nimport { imgStyle } from \"./style\";\n\nimport srcIcon from \"./resources/1px.png\";\n\nclass CometChatAvatar extends React.Component {\n\n\tconstructor(props) {\n\t\tsuper(props);\n\n\t\tthis.imgRef = React.createRef();\n\t\tthis._isMounted = false;\n\t\tthis.state = {\n\t\t\tavatarImage: srcIcon\n\t\t}\n\t}\n\n\tcomponentDidMount() {\n\n\t\tthis._isMounted = true;\n\t\tthis.setAvatarImage();\n\t}\n\n\tcomponentDidUpdate(prevProps) {\n\n\t\tif(prevProps !== this.props) {\n\n\t\t\tthis.setAvatarImage();\n\t\t}\n\t}\n\n\tcomponentWillUnmount() {\n\t\tthis._isMounted = false;\n\t}\n\n\tsetAvatarImage = () => {\n\n\t\tif ((this.props.image).trim().length) {\n\n\t\t\tthis.getImage(this.props.image);\n\n\t\t} else if (Object.keys(this.props.user).length) {\n\n\t\t\tif (this.props.user.hasOwnProperty(\"avatar\")) {\n\n\t\t\t\tconst avatarImage = this.props.user.avatar;\n\t\t\t\tthis.getImage(avatarImage);\n\n\t\t\t} else {\n\n\t\t\t\tconst uid = this.props.user.uid;\n\t\t\t\tconst char = this.props.user.name.charAt(0).toUpperCase();\n\n\t\t\t\tconst avatarImage = this.generateAvatar(uid, char);\n\t\t\t\tthis.getImage(avatarImage);\n\t\t\t}\n\n\t\t} else if (Object.keys(this.props.group).length) {\n\n\t\t\tif (this.props.group.hasOwnProperty(\"icon\")) {\n\n\t\t\t\tconst avatarImage = this.props.group.icon;\n\t\t\t\tthis.getImage(avatarImage);\n\n\t\t\t} else {\n\n\t\t\t\tconst guid = this.props.group.guid;\n\t\t\t\tconst char = this.props.group.name.charAt(0).toUpperCase();\n\n\t\t\t\tconst avatarImage = this.generateAvatar(guid, char);\n\t\t\t\tthis.getImage(avatarImage);\n\n\t\t\t}\n\t\t}\n\t}\n\n\tgetImage = (image) => {\n\n\t\tlet img = new Image();\n\t\timg.src = image;\n\t\timg.onload = () => {\n\n\t\t\tif (this._isMounted) {\n\t\t\t\tthis.setState({ avatarImage: image });\n\t\t\t}\n\t\t}\n\t\t\n\t}\n\n\tgenerateAvatar = (generator, data) => {\n\n\t\tconst stringToColour = function (str) {\n\n\t\t\tlet hash = 0;\n\t\t\tfor (let i = 0; i < str.length; i++) {\n\t\t\t\thash = str.charCodeAt(i) + ((hash << 5) - hash);\n\t\t\t}\n\n\t\t\tlet colour = '#';\n\t\t\tfor (let i = 0; i < 3; i++) {\n\t\t\t\tlet value = (hash >> (i * 8)) & 0xFF;\n\t\t\t\tcolour += ('00' + value.toString(16)).substr(-2);\n\t\t\t}\n\t\t\treturn colour;\n\t\t}\n\n\t\tconst canvas = document.createElement(\"canvas\");\n\t\tconst context = canvas.getContext(\"2d\");\n\n\t\tcanvas.width = 200;\n\t\tcanvas.height = 200;\n\n\t\t// Draw background\n\t\tcontext.fillStyle = stringToColour(generator);\n\t\tcontext.fillRect(0, 0, canvas.width, canvas.height);\n\n\t\t// Draw text\n\t\tcontext.font = \"bold 100px 'Inter', sans-serif\";\n\t\tcontext.fillStyle = \"white\";//foregroundColor;\n\t\tcontext.textAlign = \"center\";\n\t\tcontext.textBaseline = \"middle\";\n\t\tcontext.fillText(data, canvas.width / 2, canvas.height / 2);\n\n\t\treturn canvas.toDataURL(\"image/png\");\n\t}\n\n\trender() {\n\n\t\tconst borderWidth = this.props.borderWidth;\n\t\tconst borderStyle = this.props.borderStyle;\n\t\tconst borderColor = this.props.borderColor;\n\t\tconst cornerRadius = this.props.cornerRadius;\n\n\t\tconst getStyle = () => ({ borderWidth: borderWidth, borderStyle: borderStyle, borderColor: borderColor, borderRadius: cornerRadius });\n\n\t\treturn (\n\t\t\t<img src={this.state.avatarImage} css={imgStyle()} alt={this.state.avatarImage} style={getStyle()} ref={el => { this.imgRef = el;}} />\n\t\t);\n\t}\n}\n\n// Specifies the default values for props:\nCometChatAvatar.defaultProps = {\n\tborderWidth: \"1px\",\n\tborderStyle: \"solid\",\n\tborderColor: theme.borderColor.primary,\n\tcornerRadius: \"50%\",\n\ttheme: theme,\n\timage: \"\",\n\tuser: {},\n\tgroup: {},\n};\n\nCometChatAvatar.propTypes = {\n\tborderWidth: PropTypes.string,\n\tborderStyle: PropTypes.string,\n\tborderColor: PropTypes.string,\n\tcornerRadius: PropTypes.string,\n\timage: PropTypes.string,\n\ttheme: PropTypes.object,\n\tuser: PropTypes.oneOfType([PropTypes.object, PropTypes.shape(CometChat.User)]),\n\tgroup: PropTypes.oneOfType([PropTypes.object, PropTypes.shape(CometChat.Group)])\n}\n\nexport { CometChatAvatar };","export default \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABAQMAAAAl21bKAAAAA1BMVEXx7OqhaJO7AAAAAXRSTlPM0jRW/QAAAApJREFUeJxjYgAAAAYAAzY3fKgAAAAASUVORK5CYII=\"","export const imgStyle = () => {\n\n    return {\n        overflow: \"hidden\",\n        display: \"inherit\",\n        width: \"100%\",\n        height: \"100%\"\n    }\n}","export const backdropStyle = (props) => {\n\n    return {\n        zIndex: \"3\",\n        backgroundColor: \"#000\",\n        opacity: \".3\",\n        position: \"fixed\",\n        width: \"100%\",\n        height: \"100%\",\n        top: \"0\",\n        left: \"0\",\n        cursor: \"pointer\",\n        transition: \"background .3s ease-out 0\",\n        ...props.style,\n    }\n}","/** @jsxRuntime classic */\n/** @jsx jsx */\nimport { jsx } from \"@emotion/core\";\nimport PropTypes from \"prop-types\";\n\nimport {\n    backdropStyle\n} from \"./style\";\n\nconst CometChatBackdrop = props => (props.show ? <div css={backdropStyle(props)} className=\"modal__backdrop\" onClick={props.clicked}></div> : null);\n\n// Specifies the default values for props:\nCometChatBackdrop.defaultProps = {\n\tshow: false,\n\tstyle: {},\n\tclicked: () => {},\n};\n\nCometChatBackdrop.propTypes = {\n    show: PropTypes.bool,\n    style: PropTypes.object,\n    clicked: PropTypes.func,\n}\n\nexport { CometChatBackdrop };","export const badgeStyle = (props) => {\n\n    return {\n        display: \"block\",\n        fontSize: \"12px\",\n        width: \"auto\",\n        height: \"18px\",\n        borderRadius: \"16px\",\n        backgroundColor: `${props.theme.primaryColor}`,\n        color: `${props.theme.color.white}`,\n        textAlign: \"center\",\n        fontWeight: \"700\",\n        lineHeight: \"18px\",\n        marginLeft: \"4px\",\n        padding: \"0 9px\",\n        marginRight: \"2px\",\n        opacity: \"1\",\n        transition: \"opacity .1s\",\n    }\n}","/** @jsxRuntime classic */\n/** @jsx jsx */\nimport { jsx } from \"@emotion/core\";\nimport PropTypes from \"prop-types\";\n\nimport { theme } from \"../../../resources/theme\";\nimport { badgeStyle } from \"./style\";\n\nconst CometChatBadgeCount = (props) => {\n\n\tlet badgeCount = null;\n\t\n\tif(props.count) {\n\t\tbadgeCount = (\n\t\t\t<span css={badgeStyle(props)} className=\"unread-count\">{props.count}</span>\n\t\t);\n\t}\n\t\n\treturn badgeCount;\n}\n\n// Specifies the default values for props:\nCometChatBadgeCount.defaultProps = {\n\tcount: 0,\n\ttheme: theme\n};\n\nCometChatBadgeCount.propTypes = {\n\tcount: PropTypes.number,\n\ttheme: PropTypes.object\n}\n\nexport { CometChatBadgeCount };","export const presenceStyle = (props) => {\n\n    let presenceStatus = {\n        backgroundColor: \"#C4C4C4\"\n    }\n\n    if (props.status === \"online\" || props.status === \"available\") {\n        presenceStatus = {\n            backgroundColor: \"#3BDF2F\"\n        }\n    }\n\n    return {\n        width: \"9px\",\n        height: \"9px\",\n        top: \"-12px\",\n        float: \"right\",\n        position: \"relative\",\n        ...presenceStatus\n    }\n}\n","import React from \"react\";\n/** @jsxRuntime classic */\n/** @jsx jsx */\nimport {jsx} from \"@emotion/core\"\nimport PropTypes from \"prop-types\"\n\nimport {CometChatContext} from \"../../../util/CometChatContext\"\n\nimport {presenceStyle} from \"./style\"\n\nconst CometChatUserPresence = props => {\n\n\tconst context = React.useContext(CometChatContext);\n    const [presence, setPresence] = React.useState(false);\n\n    const togglePresence = () => {\n\n        context.FeatureRestriction.isUserPresenceEnabled().then(response => {\n\n            if (response !== presence) {\n                setPresence(response);\n            }\n\n        }).catch(error => {\n\n            if (presence !== false) {\n                setPresence(false);\n            }\n        })\n\n    }\n\n    React.useEffect(togglePresence);\n\n\t//if user presence feature is disabled\n\tif (presence === false) {\n\t\treturn null\n\t}\n\n\tconst borderWidth = props.borderWidth\n\tconst borderColor = props.borderColor\n\tconst cornerRadius = props.cornerRadius\n\n\tconst getStyle = () => ({borderWidth: borderWidth, borderStyle: \"solid\", borderColor: borderColor, borderRadius: cornerRadius})\n\n\treturn <span css={presenceStyle(props)} className=\"presence\" style={getStyle()}></span>\n}\n\n// Specifies the default values for props:\nCometChatUserPresence.defaultProps = {\n\tborderWidth: \"1px\",\n\tborderColor: \"#eaeaea\",\n\tcornerRadius: \"50%\",\n};\n\nCometChatUserPresence.propTypes = {\n\tborderWidth: PropTypes.string,\n\tborderColor: PropTypes.string,\n\tcornerRadius: PropTypes.string,\n}\n\nexport {CometChatUserPresence}","import * as enums from \"../../util/enums.js\";\n\nimport translationAR from \"./locales/ar/translation.json\";\nimport translationDE from \"./locales/de/translation.json\";\nimport translationEN from \"./locales/en/translation.json\";\nimport translationES from \"./locales/es/translation.json\";\nimport translationFR from \"./locales/fr/translation.json\";\nimport translationHI from \"./locales/hi/translation.json\";\nimport translationMS from \"./locales/ms/translation.json\";\nimport translationPT from \"./locales/pt/translation.json\";\nimport translationRU from \"./locales/ru/translation.json\";\nimport translationZH from \"./locales/zh/translation.json\";\nimport translationZHTW from \"./locales/zh-tw/translation.json\";\nimport translationSV from \"./locales/sv/translation.json\";\nimport translationLT from \"./locales/lt/translation.json\";\nimport translationHU from \"./locales/hu/translation.json\";\n\n// the translations\nconst translations = {\n\tar: translationAR,\n\tde: translationDE,\n\ten: translationEN,\n\tes: translationES,\n\tfr: translationFR,\n\thi: translationHI,\n\tms: translationMS,\n\tpt: translationPT,\n\tru: translationRU,\n\tzh: translationZH,\n\t\"zh-tw\": translationZHTW,\n\tsv: translationSV,\n\tlt: translationLT,\n\thu: translationHU,\n};\n\nclass Translator {\n\n    static key = enums.CONSTANTS[\"LOCALE\"];\n    static rtlLanguages = [\"ar\"];\n    static defaultLanguage = \"en\";\n\n    static getLanguage = () => {\n\n        return localStorage.getItem(this.key);\n    }\n\n    static setLanguage = (language) => {\n\n        const item = this.key;\n        localStorage.setItem(item, language);\n    }\n\n    static getBrowserLanguage = () => ((navigator.languages && navigator.languages[0]) || navigator.language || navigator.userLanguage);\n\n    static getDefaultLanguage = () => {\n\n        //get the language from localstorage\n        const savedLanguage = this.getLanguage();\n\n        //get the language set in the browser\n        const browserLanguageCode = Translator.getBrowserLanguage().toLowerCase();\n        let browserLanguage = browserLanguageCode;\n\n        //check if the language set in the browser has hyphen(-), if yes split and take the first element of the array\n        if (browserLanguageCode !== \"zh-tw\" && browserLanguageCode.indexOf(\"-\") !== -1) {\n\n            const browserLanguageArray = browserLanguageCode.split(\"-\");\n            browserLanguage = browserLanguageArray[0];\n        }\n\n        //if there is language set in localstorage and it is different from browser language, update local storage and return the language code\n        if (savedLanguage) {\n\n            if (savedLanguage !== browserLanguage) {\n\n                this.setLanguage(browserLanguage);\n                \n                //if the translations are not available, default to en\n                return (translations.hasOwnProperty(browserLanguage)) ? browserLanguage : this.defaultLanguage;\n                \n            } else {\n\n                //if the translations are not available, default to en\n                return (translations.hasOwnProperty(browserLanguage)) ? browserLanguage : this.defaultLanguage;\n            }\n\n        } else {\n\n            this.setLanguage(browserLanguage);\n\n            //if the translations are not available, default to en\n            return (translations.hasOwnProperty(browserLanguage)) ? browserLanguage : this.defaultLanguage;\n        }\n    }\n\n    static getDirection(language) {\n        return this.rtlLanguages.includes(language) ? \"rtl\" : \"ltr\";\n    }\n\n    static translate(str, language) {\n\n        if (translations.hasOwnProperty(language)) {\n\n            const languageDb = translations[language];\n            if (languageDb.hasOwnProperty(str)) {\n                return languageDb[str];\n            }\n\n            return str;\n\n        } else {\n\n            const languageDb = translations[this.defaultLanguage];\n            if (languageDb.hasOwnProperty(str)) {\n                return languageDb[str];\n            }\n\n            return str;\n        }\n    }\n}\n\nexport default Translator;","export const notificationContainerStyle = (props, keyframes) => {\n\n    // const toastInRight = keyframes`\n    // from {transform: translateX(100%);}\n    // to {transform: translateX(0);}`;\n\n    // const toastInLeft = keyframes`\n    //     from {transform: translateX(-100%); }\n    //     to {transform: translateX(0);}`;\n\n    // let positionProp = {}\n    // if (props.position === \"top-right\") {\n\n    //     positionProp = {\n    //         top: \"12px\",\n    //         right: \"12px\",\n    //         transition: \"transform .6s ease-in\",\n    //         animation: `${toastInRight} .5s`\n    //     };\n\n    // } else if (props.position === \"bottom-right\") {\n\n    //     positionProp = {\n    //         bottom: \"12px\",\n    //         right: \"12px\",\n    //         transition: \"transform .6s ease-in\",\n    //         animation: `${toastInRight} .5s`\n    //     };\n\n    // } else if (props.position === \"top-left\") {\n\n    //     positionProp = {\n    //         top: \"12px\",\n    //         left: \"12px\",\n    //         transition: \"transform .6s ease-in\",\n    //         animation: `${toastInLeft} .5s`\n    //     };\n\n    // } else if (props.position === \"bottom-left\") {\n\n    //     positionProp = {\n    //         bottom: \"12px\",\n    //         left: \"12px\",\n    //         transition: \"transform .6s ease-in\",\n    //         animation: `${toastInLeft} .5s`\n    //     };\n    // }\n\n    return {\n        fontSize: \"14px\",\n        boxSizing: \"border-box\",\n        position: \"absolute\",\n        zIndex: \"5\",\n        width: \"80%\",\n        maxWidth: \"320px\",\n        top: \"70px\",\n        left: \"50%\",\n        transform: \"translate(-50%, 0)\",\n    }\n}\n\nexport const notificationStyle = (props, state) => {\n\n    let backgroundColorProp = {\n        backgroundColor: \"#000\",\n    };\n    if (state.type === \"ERROR\") {\n\n        backgroundColorProp = {\n            backgroundColor: \"#d9534f\",\n        };\n\n    } else if (state.type === \"SUCCESS\") {\n       \n        backgroundColorProp = {\n            backgroundColor: \"#5cb85c\",\n        };\n\n    } else if (state.type === \"INFO\") {\n\n        backgroundColorProp = {\n            backgroundColor: \"#5bc0de\",\n        };\n\n    } else if (state.type === \"WARNING\") {\n\n        backgroundColorProp = {\n            backgroundColor: \"#f0ad4e\",\n        };\n    }\n\n    return {\n        transition: \".3s ease\",\n        position: \"relative\",\n        pointerEvents: \"auto\",\n        overflow: \"hidden\",\n        padding: \"8px\",\n        marginBottom: \"16px\",\n        fontSize: \"13px\",\n        width: \"100%\",\n        minHeight: \"50px\",\n        boxShadow: \"0 0 10px #999\",\n        color: \"#fff\",\n        ...backgroundColorProp,\n        backgroundPosition: \"15px\",\n        backgroundRepeat: \"no-repeat\",\n        display: \"flex\",\n        flexDirection: \"row\",\n        justifyContent: \"flex-start\",\n        alignItems: \"center\",\n        boxSizing: \"border-box\"\n    }\n}\n\nexport const notificationIconStyle = () => {\n\n    return {\n        marginRight: \"16px\",\n        width: \"25px\",\n        height: \"25px\",\n        flexShrink: \"0\",\n        \"img\": {\n            maxWidth: \"100%\",\n        }\n    }\n}\n\nexport const notificationMessageContainerStyle = () => {\n\n    return {\n        width: \"calc(100% - 60px)\"\n    }\n}\n\nexport const notificationMessageStyle = () => {\n\n    return {\n        margin: \"0\",\n        textAlign: \"left\",\n        marginLeft: \"-1px\",\n    }\n}\n\nexport const notificationCloseButtonStyle = () => {\n\n    return {\n        width: \"25px\",\n        height: \"25px\",\n        padding: \"0\",\n        border: \"none\",\n        outline: \"none\",\n        backgroundColor: \"transparent\",\n        cursor:\" pointer\",\n        \"img\": {\n            flexShrink: \"0\",\n            maxWidth: \"100%\"\n        }\n    }\n}\n\nexport const iconStyle = (img, theme) => {\n\n    return {\n        width: \"24px\",\n        height: \"24px\",\n        display: \"inline-block\",\n        mask: `url(${img}) center center no-repeat`,\n        backgroundColor: `${theme.color.white}`,\n    };\n}\n","export default __webpack_public_path__ + \"static/media/close-circle-filled.2b9a0857.svg\";","export default __webpack_public_path__ + \"static/media/checkmark-filled.73f2a848.svg\";","export default __webpack_public_path__ + \"static/media/warning-filled.178b4e9a.svg\";","export default __webpack_public_path__ + \"static/media/info-filled.2fc272ce.svg\";","import React from \"react\";\n/** @jsxRuntime classic */\n/** @jsx jsx */\nimport { jsx, keyframes } from \"@emotion/core\";\nimport PropTypes from \"prop-types\";\n\nimport Translator from \"../../../resources/localization/translator\";\nimport { theme } from \"../../../resources/theme\";\n\nimport {\n    notificationContainerStyle,\n    notificationStyle,\n    notificationIconStyle,\n    notificationMessageContainerStyle,\n    notificationMessageStyle,\n    notificationCloseButtonStyle,\n    iconStyle\n} from \"./style\";\n\nimport closeIcon from \"./resources/close-circle-filled.svg\";\nimport successIcon from \"./resources/checkmark-filled.svg\";\nimport errorIcon from \"./resources/warning-filled.svg\";\nimport infoIcon from \"./resources/info-filled.svg\";\nimport warningIcon from \"./resources/warning-filled.svg\";\n\nexport class CometChatToastNotification extends React.Component {\n\n    interval;\n    static types = {\n        \"INFO\": \"info\",\n        \"WARNING\": \"warning\",\n        \"SUCCESS\": \"success\",\n        \"ERROR\": \"error\",\n    }\n\n    constructor(props) {\n\n        super(props);\n\n        this._isMounted = false;\n        this.state = { \n            type: \"\",\n            message: \"\"\n        };\n    }\n\n    componentDidMount() {\n        this._isMounted = true;\n    }\n\n    componentWillUnmount = () => {\n\n        this._isMounted = false;\n        this.clearAutoDismiss();\n    }\n\n    setInfo = (message) => {\n\n        if (this._isMounted) {\n\n            this.setState({ type: \"INFO\", message: message, icon: infoIcon });\n            this.setAutoDismiss();\n        }\n    }\n\n    setError = (message) => {\n        \n        if (this._isMounted) {\n\n            this.setState({ type: \"ERROR\", message: message, icon: errorIcon });\n            //this.setAutoDismiss();\n        }\n    }\n\n    setSuccess = (message) => {\n\n        if (this._isMounted) {\n\n            this.setState({ type: \"SUCCESS\", message: message, icon: successIcon });\n            this.setAutoDismiss();\n        }\n    }\n\n    setWarning = (message) => {\n\n        if (this._isMounted) {\n\n            this.setState({ type: \"WARNING\", message: message, icon: warningIcon });\n            this.setAutoDismiss();\n        }\n    }\n\n    setAutoDismiss = () => {\n\n        this.clearAutoDismiss();\n        \n        if (this.props.autoDelete) {\n            this.interval = setTimeout(() => this.deleteToast(), this.props.dismissTime);\n        }\n    }\n\n    clearAutoDismiss = () => {\n        clearTimeout(this.interval);\n    }\n\n    deleteToast = () => {\n        this.setState({ type: \"\", message: \"\", icon: \"\" });\n    }\n\n    render() {\n\n        if (!this.state.type.trim().length || !this.state.message.trim().length) {\n            return null;\n        }\n\n        const messageClassName = `toast__message message-${CometChatToastNotification.types[this.state.type]}`;\n        const iconClassName = `toast__icon icon-${CometChatToastNotification.types[this.state.type]}`;\n        let toastIcon = (this.state.icon.trim().length) ? (\n\n            <div css={notificationIconStyle()} className={iconClassName}>\n                <i css={iconStyle(this.state.icon, this.props.theme)} title={Translator.translate(\"CLOSE\", this.props.lang)}></i>\n            </div>\n        ) : null;\n\n        return (\n            <div css={notificationContainerStyle(this.props, keyframes)} className=\"toast__notification\">\n                <div css={notificationStyle(this.props, this.state)} className=\"toast__container\">\n                    {toastIcon}\n                    <div css={notificationMessageContainerStyle()} className={messageClassName}>\n                        <p css={notificationMessageStyle()}>{Translator.translate(this.state.message, this.props.lang)}</p>\n                    </div>\n                    <button css={notificationCloseButtonStyle()} type=\"button\" onClick={this.deleteToast} className=\"toast__close\">\n                        <i css={iconStyle(closeIcon, this.props.theme)} title={Translator.translate(\"CLOSE\", this.props.lang)}></i>\n                    </button>\n                </div>\n            </div>\n        );\n    }\n}\n\nCometChatToastNotification.defaultProps = {\n\ttype: \"\",\n\tmessage: \"\",\n\ticon: \"\",\n\tposition: \"center\",\n\tautoDelete: true,\n\tdismissTime: 3000,\n\tlang: Translator.getDefaultLanguage(),\n\ttheme: theme,\n};\n\nCometChatToastNotification.propTypes = {\n\ttype: PropTypes.oneOf(Object.values(CometChatToastNotification.types).concat(\"\")),\n\tmessage: PropTypes.string.isRequired,\n\ticon: PropTypes.string.isRequired,\n\tposition: PropTypes.oneOf([\"top-right\", \"bottom-right\", \"top-left\", \"bottom-left\", \"center\"]),\n\tautoDelete: PropTypes.bool,\n\tdismissTime: PropTypes.number,\n\tlang: PropTypes.string,\n\ttheme: PropTypes.object,\n};\n","export const alertWrapperStyle = props => {\n\treturn {\n\t\twidth: \"calc(100% - 32px)\",\n\t\theight: \"auto\",\n\t\tbackgroundColor: `${props.theme.backgroundColor.white}`,\n\t\tposition: \"absolute\",\n\t\tmargin: \"0 auto\",\n\t\tpadding: \"16px\",\n\t\tfontSize: \"13px\",\n\t\tborderRadius: \"8px\",\n\t\tborder: \"1px solid #eee\",\n\t\tzIndex: \"4\",\n\t\ttop: \"50%\",\n\t\tleft: \"0\",\n\t\tright: \"0\",\n\t\ttransform: \"translateY(-50%)\",\n\t};\n};\n\nexport const alertMessageStyle = () => {\n\treturn {\n\t\ttextAlign: \"center\"\n\t}\n}\n\nexport const alertButtonStyle = (props) => {\n\treturn {\n\t\tdisplay: \"flex\",\n\t\tflexDirection: \"row\",\n\t\tjustifyContent: \"center\",\n\t\talignItems: \"center\",\n\t\tmargin: \"24px 0 0 0\",\n\t\t\"> button\": {\n\t\t\tpadding: \"5px 24px\",\n\t\t\tmargin: \"0 8px\",\n\t\t\tborderRadius: \"4px\",\n\t\t\tfontSize: \"12px\",\n\t\t\tfontWeight: \"600\",\n\t\t\tborder: `1px solid ${props.theme.primaryColor}`,\n\t\t},\n\t\t\"> button[value=yes]\": {\n\t\t\tbackgroundColor: `${props.theme.primaryColor}`,\n\t\t\tcolor: `${props.theme.color.white}`,\n\t\t},\n\t\t\"> button[value=no]\": {\n\t\t\tbackgroundColor: `${props.theme.backgroundColor.secondary}`,\n\t\t},\n\t};\n}","import React from \"react\";\n/** @jsxRuntime classic */\n/** @jsx jsx */\nimport {jsx} from \"@emotion/core\";\n\nimport { CometChatBackdrop } from \"../\";\nimport Translator from \"../../../resources/localization/translator\";\n\nimport {alertWrapperStyle, alertMessageStyle, alertButtonStyle} from \"./style\";\n\nclass CometChatConfirmDialog extends React.Component {\n\n    render() {\n\n        const confirmButtonText = this.props?.confirmButtonText ? this.props.confirmButtonText : Translator.translate(\"YES\", this.context.language);\n        const cancelButtonText = this.props?.cancelButtonText ? this.props.cancelButtonText : Translator.translate(\"NO\", this.getContext().language);\n\n        return (\n            <React.Fragment>\n                <CometChatBackdrop show={true} style={{position:\"absolute\"}} clicked={this.props.close} />\n                <div className=\"confirm__dialog\" css={alertWrapperStyle(this.props)}>\n                    <div className=\"confirm__message\" css={alertMessageStyle(this.props)}>{this.props?.message}</div>\n                    <div className=\"confirm__buttons\" css={alertButtonStyle(this.props)}>\n                        <button type=\"button\" value=\"no\" onClick={this.props.onClick}>{cancelButtonText}</button>\n                        <button type=\"button\" value=\"yes\" onClick={this.props.onClick}>{confirmButtonText}</button>\n                    </div>\n                </div>\n            </React.Fragment>\n        );\n    }\n}\n\nexport { CometChatConfirmDialog };\n","import tabList from \"../resources/tabs.json\";\n\nexport class UIKitSettings {\n\twidgetSettings;\n\n\tstatic userListFilterOptions = {\n\t\tALL: \"all_users\",\n\t\tNONE: \"none\",\n\t\tFRIENDS: \"friends\",\n\t};\n\n\tstatic groupListFilterOptions = {\n\t\tPUBLIC: \"public_groups\",\n\t\tPASSWORD: \"password_protected_groups\",\n\t\tPUBLIC_AND_PASSWORD: \"public_and_password_protected_groups\",\n\t};\n\n\tstatic chatListFilterOptions = {\n\t\tUSERS: \"users\",\n\t\tGROUPS: \"groups\",\n\t\tUSERS_AND_GROUPS: \"all_chats\",\n\t};\n\n\tconstructor() {\n\t\tthis.customJS = \"\";\n\t\tthis.customCSS = \"\";\n\t\tthis.backgroundColor = \"\";\n\t\tthis.primaryColor = \"\";\n\t\tthis.foregroundColor = \"\";\n\t\tthis.overrideSystemBackgroundColor = \"\";\n\n\t\tthis.chatWindow = window;\n\n\t\tthis.userListMode = UIKitSettings.userListFilterOptions[\"ALL\"];\n\t\tthis.groupInMode = UIKitSettings.groupListFilterOptions[\"PUBLIC_AND_PASSWORD\"];\n\t\tthis.chatListMode = UIKitSettings.chatListFilterOptions[\"USERS_AND_GROUPS\"];\n\n\t\tthis.chats = true;\n\t\tthis.calls = false;\n\t\tthis.users = true;\n\t\tthis.groups = true;\n\t\tthis.userSettings = true;\n\t\tthis.tabs = Object.values(tabList);\n\n\t\tthis.searchUsers = true;\n\t\tthis.searchGroups = true;\n\t\tthis.searchMessages = true;\n\t\tthis.searchChats = true;\n\n\t\tthis.unreadCount = true;\n\n\t\tthis.publicGroup = true;\n\t\tthis.privateGroup = true;\n\t\tthis.passwordGroup = true;\n\n\t\tthis.blockUser = true;\n\t\tthis.viewShareMedia = true;\n\n\t\tthis.groupCreation = true;\n\t\tthis.allowDeleteGroup = true;\n\t\tthis.joinOrLeaveGroup = true;\n\t\tthis.viewGroupMembers = true;\n\t\tthis.kickMember = true;\n\t\tthis.banMember = true;\n\t\tthis.allowPromoteDemoteMembers = true;\n\t\tthis.allowAddMembers = true;\n\n\t\tthis.callNotifications = true;\n\t\tthis.joinLeaveNotifications = true;\n\n\t\tthis.enableSoundForMessages = true;\n\t\tthis.enableSoundForCalls = true;\n\n\t\tthis.userVideoCall = true;\n\t\tthis.groupVideoCall = true;\n\t\tthis.userAudioCall = true;\n\t\tthis.groupAudioCall = true;\n\n\t\tthis.sendTypingIndicator = true;\n\t\tthis.showUserPresence = true;\n\t\tthis.showReadDeliveryReceipts = true;\n\n\t\tthis.threadedChats = true;\n\t\tthis.hideDeletedMessages = false;\n\n\t\tthis.sendMessageInOneOnOne = true;\n\t\tthis.sendMessageInGroup = true;\n\t\tthis.editMessage = true;\n\t\tthis.deleteMessage = true;\n\t\tthis.replyingToMessage = true;\n\n\t\tthis.sendEmojis = true;\n\t\tthis.sendEmojisInLargerSize = true;\n\t\tthis.sendGifs = false;\n\t\tthis.shareCopyForwardMessage = false;\n\t\tthis.sendFiles = true;\n\t\tthis.sendPhotoVideos = true;\n\t\tthis.sendVoiceNotes = true;\n\t\tthis.sendLiveReaction = true;\n\n\t\tthis.sendMessageReaction = true;\n\t\tthis.collaborativeWhiteboard = true;\n\t\tthis.collaborativeDocument = true;\n\t\tthis.sendStickers = true;\n\t\tthis.shareLocation = false;\n\t\tthis.polls = true;\n\t\tthis.messageTranslation = true;\n\n\t\tthis.allowModeratorToDeleteMemberMessages = true;\n\t\tthis.setGroupInQnaModeByModerators = false;\n\t\tthis.highlightMessageFromModerators = false;\n\t\tthis.emailReplies = true;\n\t\tthis.smartReplies = true;\n\t\tthis.callRecording = true;\n\t\tthis.callLiveStreaming = true;\n\t\tthis.callTranscription = true;\n\t\tthis.thumbnailGeneration = true;\n\t\tthis.linkPreview = true;\n\t\tthis.saveMessages = true;\n\t\tthis.pinMessages = true;\n\t\tthis.richMediaPreview = true;\n\t\tthis.voiceTranscription = true;\n\t\tthis.mentions = true;\n\t\tthis.xssFilter = true;\n\t\tthis.profanityFilter = true;\n\t\tthis.imageModeration = true;\n\t\tthis.dataMasking = true;\n\t\tthis.malwareScanner = true;\n\t\tthis.sentimentAnalysis = true;\n\t\tthis.inflightMessageModeration = true;\n\t\tthis.messageHistory = true;\n\n\t\tthis.viewProfile = true;\n\t\tthis.messageInPrivate = true;\n\n\t\tthis.showCallRecordingOption = true;\n\t}\n\n\tsetCustomJS = customJS => {\n\t\tthis.customJS = customJS;\n\t};\n\n\tsetCustomCSS = customCSS => {\n\t\tthis.customCSS = customCSS;\n\t};\n\n\tsetTabs = tabList => {\n\t\tthis.tabs = tabList;\n\t};\n\n\tsetUserSettings = userSettings => {\n\t\tthis.userSettings = userSettings;\n\t};\n\n\tsetCalls = calls => {\n\t\tthis.calls = calls;\n\t};\n\n\tsetUsers = users => {\n\t\tthis.users = users;\n\t};\n\n\tsetChats = chats => {\n\t\tthis.chats = chats;\n\t};\n\n\tsetGroups = groups => {\n\t\tthis.groups = groups;\n\t};\n\n\tsetChatListMode = option => {\n\t\tif (!option.trim().length) {\n\t\t\treturn false;\n\t\t}\n\n\t\tconst chatListFilterKey = this.returnMatchedKey(UIKitSettings.chatListFilterOptions, option);\n\t\tif (chatListFilterKey) {\n\t\t\tthis.chatListMode = UIKitSettings.chatListFilterOptions[chatListFilterKey];\n\t\t}\n\t};\n\n\tsetUserListMode = option => {\n\t\tif (!option.trim().length) {\n\t\t\treturn false;\n\t\t}\n\n\t\tconst userListFilterKey = this.returnMatchedKey(UIKitSettings.userListFilterOptions, option);\n\t\tif (userListFilterKey) {\n\t\t\tthis.userListMode = UIKitSettings.userListFilterOptions[userListFilterKey];\n\t\t}\n\t};\n\n\tsetGroupListMode = () => {};\n\n\tsetUserVideoCall = userVideoCall => {\n\t\tthis.userVideoCall = userVideoCall;\n\t};\n\n\tsetGroupVideoCall = groupVideoCall => {\n\t\tthis.groupVideoCall = groupVideoCall;\n\t};\n\n\tsetUserAudioCall = userAudioCall => {\n\t\tthis.userAudioCall = userAudioCall;\n\t};\n\n\tsetGroupAudioCall = groupAudioCall => {\n\t\tthis.groupAudioCall = groupAudioCall;\n\t};\n\n\tsetEditMessage = editMessage => {\n\t\tthis.editMessage = editMessage;\n\t};\n\n\tsetSendMessageInOneOnOne = sendMessageInOneOnOne => {\n\t\tthis.sendMessageInOneOnOne = sendMessageInOneOnOne;\n\t};\n\n\tsetSendMessageInGroup = sendMessageInGroup => {\n\t\tthis.sendMessageInGroup = sendMessageInGroup;\n\t};\n\n\tsetJoinOrLeaveGroup = joinOrLeaveGroup => {\n\t\tthis.joinOrLeaveGroup = joinOrLeaveGroup;\n\t};\n\n\tsetBlockUser = blockUser => {\n\t\tthis.blockUser = blockUser;\n\t};\n\n\tsetSendEmojis = sendEmojis => {\n\t\tthis.sendEmojis = sendEmojis;\n\t};\n\n\tsetSendEmojisInLargerSize = sendEmojisInLargerSize => {\n\t\tthis.sendEmojisInLargerSize = sendEmojisInLargerSize;\n\t};\n\n\tsetSendGifs = sendGifs => {\n\t\tthis.sendGifs = sendGifs;\n\t};\n\n\tsetShareCopyForwardMessage = shareCopyForwardMessage => {\n\t\tthis.shareCopyForwardMessage = shareCopyForwardMessage;\n\t};\n\n\tsetSendFiles = sendFiles => {\n\t\tthis.sendFiles = sendFiles;\n\t};\n\n\tsetSendPhotoVideos = sendPhotoVideos => {\n\t\tthis.sendPhotoVideos = sendPhotoVideos;\n\t};\n\n\tsetViewShareMedia = viewShareMedia => {\n\t\tthis.viewShareMedia = viewShareMedia;\n\t};\n\n\tsetEnableSoundForMessages = enableSoundForMessages => {\n\t\tthis.enableSoundForMessages = enableSoundForMessages;\n\t};\n\n\tsetEnableSoundForCalls = enableSoundForCalls => {\n\t\tthis.enableSoundForCalls = enableSoundForCalls;\n\t};\n\n\tsetSendStickers = sendStickers => {\n\t\tthis.sendStickers = sendStickers;\n\t};\n\n\tsetViewGroupMembers = viewGroupMembers => {\n\t\tthis.viewGroupMembers = viewGroupMembers;\n\t};\n\n\tsetCallNotifications = callNotifications => {\n\t\tthis.callNotifications = callNotifications;\n\t};\n\n\tsetAllowDeleteGroup = allowDeleteGroup => {\n\t\tthis.allowDeleteGroup = allowDeleteGroup;\n\t};\n\n\tsetKickMember = kickMember => {\n\t\tthis.kickMember = kickMember;\n\t};\n\n\tsetBanMember = banMember => {\n\t\tthis.banMember = banMember;\n\t};\n\n\tsetAllowPromoteDemoteMembers = allowPromoteDemoteMembers => {\n\t\tthis.allowPromoteDemoteMembers = allowPromoteDemoteMembers;\n\t};\n\n\tsetAllowAddMembers = allowAddMembers => {\n\t\tthis.allowAddMembers = allowAddMembers;\n\t};\n\n\tsetShareLocation = shareLocation => {\n\t\tthis.shareLocation = shareLocation;\n\t};\n\n\tsetJoinLeaveNotifications = joinLeaveNotifications => {\n\t\tthis.joinLeaveNotifications = joinLeaveNotifications;\n\t};\n\n\tsetSendVoiceNotes = sendVoiceNotes => {\n\t\tthis.sendVoiceNotes = sendVoiceNotes;\n\t};\n\n\tsetMessageTranslation = messageTranslation => {\n\t\tthis.messageTranslation = messageTranslation;\n\t};\n\n\tsetGroupCreation = groupCreation => {\n\t\tthis.groupCreation = groupCreation;\n\t};\n\n\tsetSendTypingIndicator = sendTypingIndicator => {\n\t\tthis.sendTypingIndicator = sendTypingIndicator;\n\t};\n\n\tsetShowUserPresence = showUserPresence => {\n\t\tthis.showUserPresence = showUserPresence;\n\t};\n\n\tsetDeleteMessage = deleteMessage => {\n\t\tthis.deleteMessage = deleteMessage;\n\t};\n\n\tsetThreadedChats = threadedChats => {\n\t\tthis.threadedChats = threadedChats;\n\t};\n\n\tsetReplyingToMessage = replyingToMessage => {\n\t\tthis.replyingToMessage = replyingToMessage;\n\t};\n\n\tsetShowReadDeliveryReceipts = showReadDeliveryReceipts => {\n\t\tthis.showReadDeliveryReceipts = showReadDeliveryReceipts;\n\t};\n\n\tsetHideDeletedMessages = hideDeletedMessages => {\n\t\tthis.hideDeletedMessages = hideDeletedMessages;\n\t};\n\n\tsetEmailReplies = emailReplies => {\n\t\tthis.emailReplies = emailReplies;\n\t};\n\n\tsetSendMessageReaction = sendMessageReaction => {\n\t\tthis.sendMessageReaction = sendMessageReaction;\n\t};\n\n\tsetCollaborativeWhiteboard = collaborativeWhiteboard => {\n\t\tthis.collaborativeWhiteboard = collaborativeWhiteboard;\n\t};\n\n\tsetCollaborativeDocument = collaborativeDocument => {\n\t\tthis.collaborativeDocument = collaborativeDocument;\n\t};\n\n\tsetPolls = polls => {\n\t\tthis.polls = polls;\n\t};\n\n\tsetSendLiveReaction = sendLiveReaction => {\n\t\tthis.sendLiveReaction = sendLiveReaction;\n\t};\n\n\tsetPublicGroup = publicGroup => {\n\t\tthis.publicGroup = publicGroup;\n\t};\n\n\tsetPrivateGroup = privateGroup => {\n\t\tthis.privateGroup = privateGroup;\n\t};\n\n\tsetPasswordGroup = passwordGroup => {\n\t\tthis.passwordGroup = passwordGroup;\n\t};\n\n\tsetAllowModeratorToDeleteMemberMessages = allowModeratorToDeleteMemberMessages => {\n\t\tthis.allowModeratorToDeleteMemberMessages = allowModeratorToDeleteMemberMessages;\n\t};\n\n\tsetUnreadCount = unreadCount => {\n\t\tthis.unreadCount = unreadCount;\n\t};\n\n\tsetSmartReplies = smartReplies => {\n\t\tthis.smartReplies = smartReplies;\n\t};\n\n\tsetSearchUsers = searchUsers => {\n\t\tthis.searchUsers = searchUsers;\n\t};\n\n\tsetSearchGroups = searchGroups => {\n\t\tthis.searchGroups = searchGroups;\n\t};\n\n\tsetSearchMessages = searchMessages => {\n\t\tthis.searchMessages = searchMessages;\n\t};\n\n\tsetCallRecording = callRecording => {\n\t\tthis.callRecording = callRecording;\n\t};\n\n\tsetCallLiveStreaming = callLiveStreaming => {\n\t\tthis.callLiveStreaming = callLiveStreaming;\n\t};\n\n\tsetCallTranscription = callTranscription => {\n\t\tthis.callTranscription = callTranscription;\n\t};\n\n\tsetThumbnailGeneration = thumbnailGeneration => {\n\t\tthis.thumbnailGeneration = thumbnailGeneration;\n\t};\n\n\tsetLinkPreview = linkPreview => {\n\t\tthis.linkPreview = linkPreview;\n\t};\n\n\tsetSaveMessages = saveMessages => {\n\t\tthis.saveMessages = saveMessages;\n\t};\n\n\tsetPinMessages = pinMessages => {\n\t\tthis.pinMessages = pinMessages;\n\t};\n\n\tsetRichMediaPreview = richMediaPreview => {\n\t\tthis.richMediaPreview = richMediaPreview;\n\t};\n\n\tsetVoiceTranscription = voiceTranscription => {\n\t\tthis.voiceTranscription = voiceTranscription;\n\t};\n\n\tsetMentions = mentions => {\n\t\tthis.mentions = mentions;\n\t};\n\n\tsetXssFilter = xssFilter => {\n\t\tthis.xssFilter = xssFilter;\n\t};\n\n\tsetProfanityFilter = profanityFilter => {\n\t\tthis.profanityFilter = profanityFilter;\n\t};\n\n\tsetImageModeration = imageModeration => {\n\t\tthis.imageModeration = imageModeration;\n\t};\n\n\tsetDataMasking = dataMasking => {\n\t\tthis.dataMasking = dataMasking;\n\t};\n\n\tsetMalwareScanner = malwareScanner => {\n\t\tthis.malwareScanner = malwareScanner;\n\t};\n\n\tsetSentimentAnalysis = sentimentAnalysis => {\n\t\tthis.sentimentAnalysis = sentimentAnalysis;\n\t};\n\n\tsetInflightMessageModeration = inflightMessageModeration => {\n\t\tthis.inflightMessageModeration = inflightMessageModeration;\n\t};\n\n\tsetMessageHistory = messageHistory => {\n\t\tthis.messageHistory = messageHistory;\n\t};\n\n\tsetViewProfile = viewProfile => {\n\t\tthis.viewProfile = viewProfile;\n\t};\n\n\tsetMessageInPrivate = messageInPrivate => {\n\t\tthis.messageInPrivate = messageInPrivate;\n\t};\n\n\tsetShowCallRecordingOption = showCallRecordingOption => {\n\t\tthis.showCallRecordingOption = showCallRecordingOption;\n\t};\n\n\tsetChatWindow = chatWindow => {\n\t\tthis.chatWindow = chatWindow;\n\t};\n\n\treturnMatchedKey = (matchWith, optionToMatch) => {\n\t\tfor (const [key, value] of Object.entries(matchWith)) {\n\t\t\tif (value === optionToMatch) {\n\t\t\t\treturn key;\n\t\t\t}\n\t\t}\n\n\t\treturn false;\n\t};\n}\n","import { CometChat } from \"@cometchat-pro/chat\";\n\nexport class FeatureRestriction {\n\t/**\n\t * Core Chat\n\t */\n\tstatic chat_users_list_enabled = \"core.chat.users.list.enabled\";\n\tstatic chat_users_presence_enabled = \"core.chat.users.presence.enabled\";\n\tstatic chat_users_search_enabled = \"core.chat.users.search.enabled\";\n\n\tstatic chat_groups_enabled = \"core.chat.groups.enabled\";\n\tstatic chat_groups_public_enabled = \"core.chat.groups.public.enabled\";\n\tstatic chat_groups_private_enabled = \"core.chat.groups.private.enabled\";\n\tstatic chat_groups_password_enabled = \"core.chat.groups.password.enabled\";\n\tstatic chat_groups_search_enabled = \"core.chat.groups.search.enabled\";\n\n\tstatic chat_messages_media_enabled = \"core.chat.messages.media.enabled\";\n\tstatic chat_messages_threads_enabled = \"core.chat.messages.threads.enabled\";\n\tstatic chat_messages_replies_enabled = \"core.chat.messages.replies.enabled\";\n\tstatic chat_messages_receipts_enabled = \"core.chat.messages.receipts.enabled\";\n\tstatic chat_messages_unread_count_enabled = \"core.chat.messages.unread-count.enabled\";\n\tstatic chat_messages_search_enabled = \"core.chat.messages.search.enabled\";\n\tstatic chat_messages_history_enabled = \"core.chat.messages.history.enabled\";\n\tstatic chat_messages_custom_enabled = \"core.chat.messages.custom.enabled\";\n\n\tstatic chat_one_on_one_enabled = \"core.chat.one-on-one.enabled\";\n\tstatic chat_voice_notes_enabled = \"core.chat.voice-notes.enabled\";\n\tstatic chat_typing_indicator_enabled = \"core.chat.typing-indicator.enabled\";\n\n\t/**\n\t * Voice & Video Calling/Conferencing\n\t */\n\tstatic calls_enabled = \"core.call.enabled\";\n\tstatic call_one_on_one_video_enabled = \"core.call.one-on-one.video.enabled\";\n\tstatic call_groups_video_enabled = \"core.call.groups.video.enabled\";\n\tstatic call_one_on_one_audio_enabled = \"core.call.one-on-one.audio.enabled\";\n\tstatic call_groups_audio_enabled = \"core.call.groups.audio.enabled\";\n\tstatic call_recording_enabled = \"core.call.recording.enabled\";\n\tstatic call_live_streaming_enabled = \"core.call.live-streaming.enabled\";\n\tstatic call_transcript_enabled = \"core.call.transcript.enabled\";\n\n\t/**\n\t * Collaboration\n\t */\n\tstatic collaboration_whiteboard_enabled = \"features.collaboration.whiteboard.enabled\";\n\tstatic collaboration_document_enabled = \"features.collaboration.document.enabled\";\n\n\t/**\n\t * Moderation\n\t */\n\tstatic moderation_groups_moderators_enabled = \"features.moderation.groups.moderators.enabled\";\n\tstatic moderation_users_block_enabled = \"features.moderation.users.block.enabled\";\n\tstatic moderation_groups_kick_enabled = \"features.moderation.groups.kick.enabled\";\n\tstatic moderation_groups_ban_enabled = \"features.moderation.groups.ban.enabled\";\n\tstatic moderation_xss_filter_enabled = \"features.moderation.xss-filter.enabled\";\n\tstatic moderation_profanity_filter_enabled = \"features.moderation.profanity-filter.enabled\";\n\tstatic moderation_image_moderation_enabled = \"features.moderation.image-moderation.enabled\";\n\tstatic moderation_data_masking_enabled = \"features.moderation.data-masking.enabled\";\n\tstatic moderation_malware_scanner_enabled = \"features.moderation.malware-scanner.enabled\";\n\tstatic moderation_sentiment_analysis_enabled = \"features.moderation.sentiment-analysis.enabled\";\n\tstatic moderation_inflight_message_moderation_enabled = \"features.moderation.inflight-message-moderation.enabled\";\n\n\t/**\n\t * User Engagement\n\t */\n\tstatic reactions_enabled = \"features.ue.reactions.enabled\";\n\tstatic emojis_enabled = \"features.ue.emojis.enabled\";\n\tstatic stickers_enabled = \"features.ue.stickers.enabled\";\n\tstatic message_translation_enabled = \"features.ue.message-translation.enabled\";\n\tstatic email_replies_enabled = \"features.ue.email-replies.enabled\";\n\tstatic polls_enabled = \"features.ue.polls.enabled\";\n\tstatic live_reactions_enabled = \"features.ue.live-reactions.enabled\";\n\tstatic smart_replies_enabled = \"features.ue.smart-replies.enabled\";\n\tstatic mentions_enabled = \"features.ue.mentions.enabled\";\n\n\t/**\n\t * User Experience\n\t */\n\tstatic thumbnail_generation_enabled = \"features.ux.thumbnail-generation.enabled\";\n\tstatic link_preview_enabled = \"features.ux.link-preview.enabled\";\n\tstatic messages_saved_enabled = \"features.ux.messages.saved.enabled\";\n\tstatic messages_pinned_enabled = \"features.ux.messages.pinned.enabled\";\n\tstatic rich_media_preview_enabled = \"features.ux.rich-media-preview.enabled\";\n\tstatic voice_transcription_enabled = \"features.ux.voice-transcription.enabled\";\n\n\t/**\n\t * Extensions slug\n\t */\n\tstatic dataMasking = \"data-masking\";\n\tstatic profanityFilter = \"profanity-filter\";\n\tstatic thumbnailGeneration = \"thumbnail-generator\";\n\tstatic linkPreview = \"link-preview\";\n\tstatic richMediaPreview = \"rich-media\";\n\tstatic sticker = \"stickers\";\n\tstatic reactions = \"reactions\";\n\tstatic messageTranslation = \"message-translation\";\n\tstatic smartReplies = \"smart-reply\";\n\tstatic collaborationWhiteboard = \"whiteboard\";\n\tstatic collaborationDocument = \"document\";\n\tstatic pinMessages = \"pin-message\";\n\tstatic saveMessages = \"save-message\";\n\tstatic voiceTranscription = \"voice-transcription\";\n\tstatic polls = \"polls\";\n\tstatic xssFilter = \"xss-filter\";\n\tstatic imageModeration = \"image-moderation\";\n\tstatic malwareScanner = \"virus-malware-scanner\";\n\tstatic sentimentAnalysis = \"sentiment-analysis\";\n\tstatic emailReplies = \"email-replies\";\n\tstatic emojis = \"emojis\";\n\tstatic mentions = \"mentions\";\n\n\tstatic isExtensionEnabled = extensionKey => {\n\t\treturn new Promise(resolve =>\n\t\t\tCometChat.isExtensionEnabled(extensionKey)\n\t\t\t\t.then(response => resolve(response))\n\t\t\t\t.catch(error => resolve(false)),\n\t\t);\n\t};\n\n\tUIKitSettings;\n\n\tconstructor(UIKitSettings) {\n\t\tthis.UIKitSettings = UIKitSettings;\n\t}\n\n\tisRecentChatListEnabled = () => new Promise(resolve => resolve(this.UIKitSettings.chats));\n\tisGroupListEnabled = () => new Promise(resolve => resolve(this.UIKitSettings.groups));\n\tisUserSettingsEnabled = () => new Promise(resolve => resolve(this.UIKitSettings.userSettings));\n\tisEditMessageEnabled = () => new Promise(resolve => resolve(this.UIKitSettings.editMessage));\n\tisQNAModeEnabled = () => new Promise(resolve => resolve(this.UIKitSettings.setGroupInQnaModeByModerators));\n\tisHighlightMessagesEnabled = () => new Promise(resolve => resolve(this.UIKitSettings.highlightMessageFromModerators));\n\tisJoinLeaveGroupsEnabled = () => new Promise(resolve => resolve(this.UIKitSettings.joinOrLeaveGroup));\n\tisLargerSizeEmojisEnabled = () => new Promise(resolve => resolve(this.UIKitSettings.sendEmojisInLargerSize));\n\tisGifsEnabled = () => new Promise(resolve => resolve(this.UIKitSettings.sendGifs));\n\tisShareCopyForwardMessageEnabled = () => new Promise(resolve => resolve(this.UIKitSettings.shareCopyForwardMessage));\n\tisSharedMediaEnabled = () => new Promise(resolve => resolve(this.UIKitSettings.viewShareMedia));\n\tisMessagesSoundEnabled = () => new Promise(resolve => resolve(this.UIKitSettings.enableSoundForMessages));\n\tisCallsSoundEnabled = () => new Promise(resolve => resolve(this.UIKitSettings.enableSoundForCalls));\n\tisViewingGroupMembersEnabled = () => new Promise(resolve => resolve(this.UIKitSettings.viewGroupMembers));\n\tisCallActionMessagesEnabled = () => new Promise(resolve => resolve(this.UIKitSettings.callNotifications));\n\tisGroupDeletionEnabled = () => new Promise(resolve => resolve(this.UIKitSettings.allowDeleteGroup));\n\tisChangingGroupMemberScopeEnabled = () => new Promise(resolve => resolve(this.UIKitSettings.allowPromoteDemoteMembers));\n\tisAddingGroupMembersEnabled = () => new Promise(resolve => resolve(this.UIKitSettings.allowAddMembers));\n\tisLocationSharingEnabled = () => new Promise(resolve => resolve(this.UIKitSettings.shareLocation));\n\tisGroupActionMessagesEnabled = () => new Promise(resolve => resolve(this.UIKitSettings.joinLeaveNotifications));\n\tisGroupCreationEnabled = () => new Promise(resolve => resolve(this.UIKitSettings.groupCreation));\n\tisDeleteMessageEnabled = () => new Promise(resolve => resolve(this.UIKitSettings.deleteMessage));\n\tisHideDeletedMessagesEnabled = () => new Promise(resolve => resolve(this.UIKitSettings.hideDeletedMessages));\n\tisViewProfileEnabled = () => new Promise(resolve => resolve(this.UIKitSettings.viewProfile));\n\tisMessageInPrivateEnabled = () => new Promise(resolve => resolve(this.UIKitSettings.messageInPrivate));\n\n\tisCallListEnabled = () => {\n\t\treturn new Promise(resolve => {\n\t\t\tCometChat.isFeatureEnabled(FeatureRestriction.calls_enabled)\n\t\t\t\t.then(response => resolve(response && this.UIKitSettings.calls))\n\t\t\t\t.catch(error => resolve(false));\n\t\t});\n\t};\n\n\tisUserListEnabled = () => {\n\t\treturn new Promise(resolve => {\n\t\t\tCometChat.isFeatureEnabled(FeatureRestriction.chat_users_list_enabled)\n\t\t\t\t.then(response => resolve(response && this.UIKitSettings.users))\n\t\t\t\t.catch(error => resolve(false));\n\t\t});\n\t};\n\n\tisOneOnOneVideoCallEnabled = () => {\n\t\treturn new Promise(resolve => {\n\t\t\tCometChat.isFeatureEnabled(FeatureRestriction.call_one_on_one_video_enabled)\n\t\t\t\t.then(response => resolve(response && this.UIKitSettings.userVideoCall))\n\t\t\t\t.catch(error => resolve(false));\n\t\t});\n\t};\n\n\tisGroupVideoCallEnabled = () => {\n\t\treturn new Promise(resolve => {\n\t\t\tCometChat.isFeatureEnabled(FeatureRestriction.call_groups_video_enabled)\n\t\t\t\t.then(response => resolve(response && this.UIKitSettings.groupVideoCall))\n\t\t\t\t.catch(error => resolve(false));\n\t\t});\n\t};\n\n\tisOneOnOneAudioCallEnabled = () => {\n\t\treturn new Promise(resolve => {\n\t\t\tCometChat.isFeatureEnabled(FeatureRestriction.call_one_on_one_audio_enabled)\n\t\t\t\t.then(response => resolve(response && this.UIKitSettings.userAudioCall))\n\t\t\t\t.catch(error => resolve(false));\n\t\t});\n\t};\n\n\tisGroupAudioCallEnabled = () => {\n\t\treturn new Promise(resolve => {\n\t\t\tCometChat.isFeatureEnabled(FeatureRestriction.call_groups_audio_enabled)\n\t\t\t\t.then(response => resolve(response && this.UIKitSettings.groupAudioCall))\n\t\t\t\t.catch(error => resolve(false));\n\t\t});\n\t};\n\n\tisOneOnOneChatEnabled = () => {\n\t\treturn new Promise(resolve => {\n\t\t\tCometChat.isFeatureEnabled(FeatureRestriction.chat_one_on_one_enabled)\n\t\t\t\t.then(response => resolve(response && this.UIKitSettings.sendMessageInOneOnOne))\n\t\t\t\t.catch(error => resolve(false));\n\t\t});\n\t};\n\n\tisGroupChatEnabled = () => {\n\t\treturn new Promise(resolve => {\n\t\t\tCometChat.isFeatureEnabled(FeatureRestriction.chat_groups_enabled)\n\t\t\t\t.then(response => resolve(response && this.UIKitSettings.sendMessageInGroup))\n\t\t\t\t.catch(error => resolve(false));\n\t\t});\n\t};\n\n\tisDeleteMemberMessageEnabled = () => {\n\t\treturn new Promise(resolve => {\n\t\t\tCometChat.isFeatureEnabled(FeatureRestriction.moderation_groups_moderators_enabled)\n\t\t\t\t.then(response => resolve(response && this.UIKitSettings.allowModeratorToDeleteMemberMessages))\n\t\t\t\t.catch(error => resolve(false));\n\t\t});\n\t};\n\n\tisBlockUserEnabled = () => {\n\t\treturn new Promise(resolve => {\n\t\t\tCometChat.isFeatureEnabled(FeatureRestriction.moderation_users_block_enabled)\n\t\t\t\t.then(response => resolve(response && this.UIKitSettings.blockUser))\n\t\t\t\t.catch(error => resolve(false));\n\t\t});\n\t};\n\n\tisEmojisEnabled = () => {\n\t\treturn new Promise(resolve => {\n\t\t\tCometChat.isFeatureEnabled(FeatureRestriction.emojis_enabled)\n\t\t\t\t.then(response => resolve(response && this.UIKitSettings.sendEmojis))\n\t\t\t\t.catch(error => resolve(false));\n\t\t});\n\t};\n\n\tisFilesEnabled = () => {\n\t\treturn new Promise(resolve => {\n\t\t\tCometChat.isFeatureEnabled(FeatureRestriction.chat_messages_media_enabled)\n\t\t\t\t.then(response => resolve(response && this.UIKitSettings.sendFiles))\n\t\t\t\t.catch(error => resolve(false));\n\t\t});\n\t};\n\n\tisPhotosVideosEnabled = () => {\n\t\treturn new Promise(resolve => {\n\t\t\tCometChat.isFeatureEnabled(FeatureRestriction.chat_messages_media_enabled)\n\t\t\t\t.then(response => resolve(response && this.UIKitSettings.sendPhotoVideos))\n\t\t\t\t.catch(error => resolve(false));\n\t\t});\n\t};\n\n\tisKickingGroupMembersEnabled = () => {\n\t\treturn new Promise(resolve => {\n\t\t\tCometChat.isFeatureEnabled(FeatureRestriction.moderation_groups_kick_enabled)\n\t\t\t\t.then(response => resolve(response && this.UIKitSettings.kickMember))\n\t\t\t\t.catch(error => resolve(false));\n\t\t});\n\t};\n\n\tisBanningGroupMembersEnabled = () => {\n\t\treturn new Promise(resolve => {\n\t\t\tCometChat.isFeatureEnabled(FeatureRestriction.moderation_groups_ban_enabled)\n\t\t\t\t.then(response => resolve(response && this.UIKitSettings.banMember))\n\t\t\t\t.catch(error => resolve(false));\n\t\t});\n\t};\n\n\tisVoiceNotesEnabled = () => {\n\t\treturn new Promise(resolve => {\n\t\t\tCometChat.isFeatureEnabled(FeatureRestriction.chat_voice_notes_enabled)\n\t\t\t\t.then(response => resolve(response && this.UIKitSettings.sendVoiceNotes))\n\t\t\t\t.catch(error => resolve(false));\n\t\t});\n\t};\n\n\tisTypingIndicatorsEnabled = () => {\n\t\treturn new Promise(resolve => {\n\t\t\tCometChat.isFeatureEnabled(FeatureRestriction.chat_typing_indicator_enabled)\n\t\t\t\t.then(response => resolve(response && this.UIKitSettings.sendTypingIndicator))\n\t\t\t\t.catch(error => resolve(false));\n\t\t});\n\t};\n\n\tisUserPresenceEnabled = () => {\n\t\treturn new Promise(resolve => {\n\t\t\tCometChat.isFeatureEnabled(FeatureRestriction.chat_users_presence_enabled)\n\t\t\t\t.then(response => resolve(response && this.UIKitSettings.showUserPresence))\n\t\t\t\t.catch(error => resolve(false));\n\t\t});\n\t};\n\n\tisThreadedMessagesEnabled = () => {\n\t\treturn new Promise(resolve => {\n\t\t\tCometChat.isFeatureEnabled(FeatureRestriction.chat_messages_threads_enabled)\n\t\t\t\t.then(response => resolve(response && this.UIKitSettings.threadedChats))\n\t\t\t\t.catch(error => resolve(false));\n\t\t});\n\t};\n\n\tisMessageRepliesEnabled = () => {\n\t\treturn new Promise(resolve => {\n\t\t\tCometChat.isFeatureEnabled(FeatureRestriction.chat_messages_replies_enabled)\n\t\t\t\t.then(response => resolve(response && this.UIKitSettings.replyingToMessage))\n\t\t\t\t.catch(error => resolve(false));\n\t\t});\n\t};\n\n\tisDeliveryReceiptsEnabled = () => {\n\t\treturn new Promise(resolve => {\n\t\t\tCometChat.isFeatureEnabled(FeatureRestriction.chat_messages_receipts_enabled)\n\t\t\t\t.then(response => resolve(response && this.UIKitSettings.showReadDeliveryReceipts))\n\t\t\t\t.catch(error => resolve(false));\n\t\t});\n\t};\n\n\tisLiveReactionsEnabled = () => {\n\t\treturn new Promise(resolve => {\n\t\t\tCometChat.isFeatureEnabled(FeatureRestriction.live_reactions_enabled)\n\t\t\t\t.then(response => resolve(response && this.UIKitSettings.sendLiveReaction))\n\t\t\t\t.catch(error => resolve(false));\n\t\t});\n\t};\n\n\tisPublicGroupEnabled = () => {\n\t\treturn new Promise(resolve => {\n\t\t\tCometChat.isFeatureEnabled(FeatureRestriction.chat_groups_public_enabled)\n\t\t\t\t.then(response => resolve(response && this.UIKitSettings.publicGroup))\n\t\t\t\t.catch(error => resolve(false));\n\t\t});\n\t};\n\n\tisPrivateGroupEnabled = () => {\n\t\treturn new Promise(resolve => {\n\t\t\tCometChat.isFeatureEnabled(FeatureRestriction.chat_groups_private_enabled)\n\t\t\t\t.then(response => resolve(response && this.UIKitSettings.privateGroup))\n\t\t\t\t.catch(error => resolve(false));\n\t\t});\n\t};\n\n\tisPasswordGroupEnabled = () => {\n\t\treturn new Promise(resolve => {\n\t\t\tCometChat.isFeatureEnabled(FeatureRestriction.chat_groups_password_enabled)\n\t\t\t\t.then(response => resolve(response && this.UIKitSettings.passwordGroup))\n\t\t\t\t.catch(error => resolve(false));\n\t\t});\n\t};\n\n\tisUnreadCountEnabled = () => {\n\t\treturn new Promise(resolve => {\n\t\t\tCometChat.isFeatureEnabled(FeatureRestriction.chat_messages_unread_count_enabled)\n\t\t\t\t.then(response => resolve(response && this.UIKitSettings.unreadCount))\n\t\t\t\t.catch(error => resolve(false));\n\t\t});\n\t};\n\n\tisUserSearchEnabled = () => {\n\t\treturn new Promise(resolve => {\n\t\t\tCometChat.isFeatureEnabled(FeatureRestriction.chat_users_search_enabled)\n\t\t\t\t.then(response => resolve(response && this.UIKitSettings.searchUsers))\n\t\t\t\t.catch(error => resolve(false));\n\t\t});\n\t};\n\n\tisGroupSearchEnabled = () => {\n\t\treturn new Promise(resolve => {\n\t\t\tCometChat.isFeatureEnabled(FeatureRestriction.chat_groups_search_enabled)\n\t\t\t\t.then(response => resolve(response && this.UIKitSettings.searchGroups))\n\t\t\t\t.catch(error => resolve(false));\n\t\t});\n\t};\n\n\tisMessageSearchEnabled = () => {\n\t\treturn new Promise(resolve => {\n\t\t\tCometChat.isFeatureEnabled(FeatureRestriction.chat_messages_search_enabled)\n\t\t\t\t.then(response => resolve(response && this.UIKitSettings.searchMessages))\n\t\t\t\t.catch(error => resolve(false));\n\t\t});\n\t};\n\n\tisCallRecordingEnabled = () => {\n\t\treturn new Promise(resolve => {\n\t\t\tCometChat.isFeatureEnabled(FeatureRestriction.call_recording_enabled)\n\t\t\t\t.then(response => resolve(response && this.UIKitSettings.callRecording))\n\t\t\t\t.catch(error => resolve(false));\n\t\t});\n\t};\n\n\tisCallLiveStreamingEnabled = () => {\n\t\treturn new Promise(resolve => {\n\t\t\tCometChat.isFeatureEnabled(FeatureRestriction.call_live_streaming_enabled)\n\t\t\t\t.then(response => resolve(response && this.UIKitSettings.callLiveStreaming))\n\t\t\t\t.catch(error => resolve(false));\n\t\t});\n\t};\n\n\tisCallTranscriptEnabled = () => {\n\t\treturn new Promise(resolve => {\n\t\t\tCometChat.isFeatureEnabled(FeatureRestriction.call_transcript_enabled)\n\t\t\t\t.then(response => resolve(response && this.UIKitSettings.callTranscription))\n\t\t\t\t.catch(error => resolve(false));\n\t\t});\n\t};\n\n\tisMessageHistoryEnabled = () => {\n\t\treturn new Promise(resolve => {\n\t\t\tCometChat.isFeatureEnabled(FeatureRestriction.chat_messages_history_enabled)\n\t\t\t\t.then(response => resolve(response && this.UIKitSettings.messageHistory))\n\t\t\t\t.catch(error => resolve(false));\n\t\t});\n\t};\n\n\tisMessageTranslationEnabled = () => {\n\t\treturn new Promise(resolve => {\n\t\t\tCometChat.isFeatureEnabled(FeatureRestriction.message_translation_enabled)\n\t\t\t\t.then(response => response && FeatureRestriction.isExtensionEnabled(FeatureRestriction.messageTranslation))\n\t\t\t\t.then(response => resolve(response && this.UIKitSettings.messageTranslation))\n\t\t\t\t.catch(error => resolve(false));\n\t\t});\n\t};\n\n\tisReactionsEnabled = () => {\n\t\treturn new Promise(resolve => {\n\t\t\tCometChat.isFeatureEnabled(FeatureRestriction.reactions_enabled)\n\t\t\t\t.then(response => response && FeatureRestriction.isExtensionEnabled(FeatureRestriction.reactions))\n\t\t\t\t.then(response => resolve(response && this.UIKitSettings.sendMessageReaction))\n\t\t\t\t.catch(error => resolve(false));\n\t\t});\n\t};\n\n\tisCollaborativeWhiteBoardEnabled = () => {\n\t\treturn new Promise(resolve => {\n\t\t\tCometChat.isFeatureEnabled(FeatureRestriction.collaboration_whiteboard_enabled)\n\t\t\t\t.then(response => response && FeatureRestriction.isExtensionEnabled(FeatureRestriction.collaborationWhiteboard))\n\t\t\t\t.then(response => resolve(response && this.UIKitSettings.collaborativeWhiteboard))\n\t\t\t\t.catch(error => resolve(false));\n\t\t});\n\t};\n\n\tisCollaborativeDocumentEnabled = () => {\n\t\treturn new Promise(resolve => {\n\t\t\tCometChat.isFeatureEnabled(FeatureRestriction.collaboration_document_enabled)\n\t\t\t\t.then(response => response && FeatureRestriction.isExtensionEnabled(FeatureRestriction.collaborationDocument))\n\t\t\t\t.then(response => resolve(response && this.UIKitSettings.collaborativeDocument))\n\t\t\t\t.catch(error => resolve(false));\n\t\t});\n\t};\n\n\tisStickersEnabled = () => {\n\t\treturn new Promise(resolve => {\n\t\t\tCometChat.isFeatureEnabled(FeatureRestriction.stickers_enabled)\n\t\t\t\t.then(response => response && FeatureRestriction.isExtensionEnabled(FeatureRestriction.sticker))\n\t\t\t\t.then(response => resolve(response && this.UIKitSettings.sendStickers))\n\t\t\t\t.catch(error => resolve(false));\n\t\t});\n\t};\n\n\tisEmailRepliesEnabled = () => {\n\t\treturn new Promise(resolve => {\n\t\t\tCometChat.isFeatureEnabled(FeatureRestriction.email_replies_enabled)\n\t\t\t\t.then(response => response && FeatureRestriction.isExtensionEnabled(FeatureRestriction.emailReplies))\n\t\t\t\t.then(response => resolve(response && this.UIKitSettings.emailReplies))\n\t\t\t\t.catch(error => resolve(false));\n\t\t});\n\t};\n\n\tisPollsEnabled = () => {\n\t\treturn new Promise(resolve => {\n\t\t\tCometChat.isFeatureEnabled(FeatureRestriction.polls_enabled)\n\t\t\t\t.then(response => response && FeatureRestriction.isExtensionEnabled(FeatureRestriction.polls))\n\t\t\t\t.then(response => resolve(response && this.UIKitSettings.polls))\n\t\t\t\t.catch(error => resolve(false));\n\t\t});\n\t};\n\n\tisSmartRepliesEnabled = () => {\n\t\treturn new Promise(resolve => {\n\t\t\tCometChat.isFeatureEnabled(FeatureRestriction.smart_replies_enabled)\n\t\t\t\t.then(response => response && FeatureRestriction.isExtensionEnabled(FeatureRestriction.smartReplies))\n\t\t\t\t.then(response => resolve(response && this.UIKitSettings.smartReplies))\n\t\t\t\t.catch(error => resolve(false));\n\t\t});\n\t};\n\n\tisThumbnailGenerationEnabled = () => {\n\t\treturn new Promise(resolve => {\n\t\t\tCometChat.isFeatureEnabled(FeatureRestriction.thumbnail_generation_enabled)\n\t\t\t\t.then(response => response && FeatureRestriction.isExtensionEnabled(FeatureRestriction.thumbnailGeneration))\n\t\t\t\t.then(response => resolve(response && this.UIKitSettings.thumbnailGeneration))\n\t\t\t\t.catch(error => resolve(false));\n\t\t});\n\t};\n\n\tisLinkPreviewEnabled = () => {\n\t\treturn new Promise(resolve => {\n\t\t\tCometChat.isFeatureEnabled(FeatureRestriction.link_preview_enabled)\n\t\t\t\t.then(response => response && FeatureRestriction.isExtensionEnabled(FeatureRestriction.linkPreview))\n\t\t\t\t.then(response => resolve(response && this.UIKitSettings.linkPreview))\n\t\t\t\t.catch(error => resolve(false));\n\t\t});\n\t};\n\n\tisSaveMessagesEnabled = () => {\n\t\treturn new Promise(resolve => {\n\t\t\tCometChat.isFeatureEnabled(FeatureRestriction.messages_saved_enabled)\n\t\t\t\t.then(response => response && FeatureRestriction.isExtensionEnabled(FeatureRestriction.saveMessages))\n\t\t\t\t.then(response => resolve(response && this.UIKitSettings.saveMessages))\n\t\t\t\t.catch(error => resolve(false));\n\t\t});\n\t};\n\n\tisPinMessagesEnabled = () => {\n\t\treturn new Promise(resolve => {\n\t\t\tCometChat.isFeatureEnabled(FeatureRestriction.messages_pinned_enabled)\n\t\t\t\t.then(response => response && FeatureRestriction.isExtensionEnabled(FeatureRestriction.pinMessages))\n\t\t\t\t.then(response => resolve(response && this.UIKitSettings.pinMessages))\n\t\t\t\t.catch(error => resolve(false));\n\t\t});\n\t};\n\n\tisRichMediaPreviewEnabled = () => {\n\t\treturn new Promise(resolve => {\n\t\t\tCometChat.isFeatureEnabled(FeatureRestriction.rich_media_preview_enabled)\n\t\t\t\t.then(response => response && FeatureRestriction.isExtensionEnabled(FeatureRestriction.richMediaPreview))\n\t\t\t\t.then(response => resolve(response && this.UIKitSettings.richMediaPreview))\n\t\t\t\t.catch(error => resolve(false));\n\t\t});\n\t};\n\n\tisVoiceTranscriptionEnabled = () => {\n\t\treturn new Promise(resolve => {\n\t\t\tCometChat.isFeatureEnabled(FeatureRestriction.voice_transcription_enabled)\n\t\t\t\t.then(response => response && FeatureRestriction.isExtensionEnabled(FeatureRestriction.voiceTranscription))\n\t\t\t\t.then(response => resolve(response && this.UIKitSettings.voiceTranscription))\n\t\t\t\t.catch(error => resolve(false));\n\t\t});\n\t};\n\n\tisMentionsEnabled = () => {\n\t\treturn new Promise(resolve => {\n\t\t\tCometChat.isFeatureEnabled(FeatureRestriction.mentions_enabled)\n\t\t\t\t.then(response => response && FeatureRestriction.isExtensionEnabled(FeatureRestriction.mentions))\n\t\t\t\t.then(response => resolve(response && this.UIKitSettings.mentions))\n\t\t\t\t.catch(error => resolve(false));\n\t\t});\n\t};\n\n\tisXssFilterEnabled = () => {\n\t\treturn new Promise(resolve => {\n\t\t\tCometChat.isFeatureEnabled(FeatureRestriction.moderation_xss_filter_enabled)\n\t\t\t\t.then(response => response && FeatureRestriction.isExtensionEnabled(FeatureRestriction.xssFilter))\n\t\t\t\t.then(response => resolve(response && this.UIKitSettings.xssFilter))\n\t\t\t\t.catch(error => resolve(false));\n\t\t});\n\t};\n\n\tisProfanityFilterEnabled = () => {\n\t\treturn new Promise(resolve => {\n\t\t\tCometChat.isFeatureEnabled(FeatureRestriction.moderation_profanity_filter_enabled)\n\t\t\t\t.then(response => response && FeatureRestriction.isExtensionEnabled(FeatureRestriction.profanityFilter))\n\t\t\t\t.then(response => resolve(response && this.UIKitSettings.profanityFilter))\n\t\t\t\t.catch(error => resolve(false));\n\t\t});\n\t};\n\n\tisImageModerationEnabled = () => {\n\t\treturn new Promise(resolve => {\n\t\t\tCometChat.isFeatureEnabled(FeatureRestriction.moderation_image_moderation_enabled)\n\t\t\t\t.then(response => response && FeatureRestriction.isExtensionEnabled(FeatureRestriction.imageModeration))\n\t\t\t\t.then(response => resolve(response && this.UIKitSettings.imageModeration))\n\t\t\t\t.catch(error => resolve(false));\n\t\t});\n\t};\n\n\tisDataMaskingEnabled = () => {\n\t\treturn new Promise(resolve => {\n\t\t\tCometChat.isFeatureEnabled(FeatureRestriction.moderation_data_masking_enabled)\n\t\t\t\t.then(response => response && FeatureRestriction.isExtensionEnabled(FeatureRestriction.dataMasking))\n\t\t\t\t.then(response => resolve(response && this.UIKitSettings.dataMasking))\n\t\t\t\t.catch(error => resolve(false));\n\t\t});\n\t};\n\n\tisMalwareScannerEnabled = () => {\n\t\treturn new Promise(resolve => {\n\t\t\tCometChat.isFeatureEnabled(FeatureRestriction.moderation_malware_scanner_enabled)\n\t\t\t\t.then(response => response && FeatureRestriction.isExtensionEnabled(FeatureRestriction.malwareScanner))\n\t\t\t\t.then(response => resolve(response && this.UIKitSettings.malwareScanner))\n\t\t\t\t.catch(error => resolve(false));\n\t\t});\n\t};\n\n\tisSentimentAnalysisEnabled = () => {\n\t\treturn new Promise(resolve => {\n\t\t\tCometChat.isFeatureEnabled(FeatureRestriction.moderation_sentiment_analysis_enabled)\n\t\t\t\t.then(response => response && FeatureRestriction.isExtensionEnabled(FeatureRestriction.sentimentAnalysis))\n\t\t\t\t.then(response => resolve(response && this.UIKitSettings.sentimentAnalysis))\n\t\t\t\t.catch(error => resolve(false));\n\t\t});\n\t};\n\n\t// isInFlightMessageModerationEnabled = () => {\n\n\t//     return new Promise(resolve => {\n\n\t//         CometChat.isFeatureEnabled(FeatureRestriction.moderation_inflight_message_moderation_enabled)\n\t//             .then(response => {\n\n\t//                 return response\n\t//                     && FeatureRestriction.isExtensionEnabled(FeatureRestriction.sentimentAnalysis)\n\t//                     && this.UIKitSettings.inflightMessageModeration;\n\t//             })\n\t//             .catch(error => resolve(false));\n\t//     });\n\t// }\n}\n","import React from \"react\";\nimport PropTypes from \"prop-types\";\nimport { CometChat } from \"@cometchat-pro/chat\";\n\nimport { CometChatToastNotification } from \"../components/Shared\";\nimport { UIKitSettings } from \"./UIKitSettings\";\nimport * as enums from \"./enums.js\";\n\nimport Translator from \"../resources/localization/translator\";\nimport { FeatureRestriction } from \"./FeatureRestriction\";\nimport { theme } from \"../resources/theme\";\n\nexport const CometChatContext = React.createContext({});\n\nexport class CometChatContextProvider extends React.Component {\n\tloggedInUser;\n\n\tconstructor(props) {\n\t\tsuper(props);\n\n\t\tconst settings = new UIKitSettings();\n\t\tconst featureRestriction = new FeatureRestriction(settings);\n\n\t\tthis.state = {\n\t\t\titem: {},\n\t\t\ttype: \"\",\n\t\t\ttoastMessage: props.toastMessage,\n\t\t\tgroupMembers: props.groupMembers,\n\t\t\tbannedGroupMembers: props.bannedGroupMembers,\n\t\t\tgroupAdmins: props.groupAdmins,\n\t\t\tgroupModerators: props.groupModerators,\n\t\t\tcallInProgress: props.callInProgress,\n\t\t\tcallType: \"\",\n\t\t\tdeletedGroupId: \"\",\n\t\t\tleftGroupId: \"\",\n\t\t\tlastMessage: {},\n\t\t\tunreadMessages: [],\n\t\t\tclearedUnreadMessages: false,\n\t\t\tdirectCallCustomMessage: {},\n\t\t\tdirectCallCustomMessageAction: \"\",\n\t\t\tUIKitSettings: settings,\n\t\t\tFeatureRestriction: featureRestriction,\n\t\t\ttheme: theme,\n\t\t\tlanguage: props.language,\n\t\t\troles: {\n\t\t\t\t[CometChat.GROUP_MEMBER_SCOPE.ADMIN]: Translator.translate(\"ADMINISTRATOR\", props.language),\n\t\t\t\t[CometChat.GROUP_MEMBER_SCOPE.MODERATOR]: Translator.translate(\"MODERATOR\", props.language),\n\t\t\t\t[CometChat.GROUP_MEMBER_SCOPE.PARTICIPANT]: Translator.translate(\"PARTICIPANT\", props.language),\n\t\t\t},\n\t\t\tgetLoggedinUser: this.getLoggedinUser,\n\t\t\tsetGroupMembers: this.setGroupMembers,\n\t\t\tupdateGroupMembers: this.updateGroupMembers,\n\t\t\tsetAllGroupMembers: this.setAllGroupMembers,\n\t\t\tsetGroupAdmins: this.setGroupAdmins,\n\t\t\tsetGroupModerators: this.setGroupModerators,\n\t\t\tsetBannedGroupMembers: this.setBannedGroupMembers,\n\t\t\tupdateBannedGroupMembers: this.updateBannedGroupMembers,\n\t\t\tclearGroupMembers: this.clearGroupMembers,\n\t\t\tsetToastMessage: this.setToastMessage,\n\t\t\tsetCallInProgress: this.setCallInProgress,\n\t\t\tsetItem: this.setItem,\n\t\t\tsetType: this.setType,\n\t\t\tsetTypeAndItem: this.setTypeAndItem,\n\t\t\tsetDeletedGroupId: this.setDeletedGroupId,\n\t\t\tsetLeftGroupId: this.setLeftGroupId,\n\t\t\tsetLastMessage: this.setLastMessage,\n\t\t\tsetClearedUnreadMessages: this.setClearedUnreadMessages,\n\t\t\tsetDirectCallCustomMessage: this.setDirectCallCustomMessage,\n\t\t\tcheckIfDirectCallIsOngoing: this.checkIfDirectCallIsOngoing,\n\t\t\tcheckIfCallIsOngoing: this.checkIfCallIsOngoing,\n\t\t\tgetActiveCallSessionID: this.getActiveCallSessionID,\n\t\t\thasKeyValue: this.hasKeyValue,\n\t\t\tsetRoles: this.setRoles,\n\t\t};\n\n\t\tthis.toastRef = React.createRef();\n\t}\n\n\tcomponentDidMount() {\n\t\tthis.getLoggedinUser();\n\n\t\tif (this.props.user.trim().length) {\n\t\t\tthis.getUser(this.props.user.trim())\n\t\t\t\t.then(user => {\n\t\t\t\t\tthis.setType(CometChat.ACTION_TYPE.TYPE_USER);\n\t\t\t\t\tthis.setItem(user);\n\t\t\t\t})\n\t\t\t\t.catch(error => {\n\t\t\t\t\tconst errorCode = error && error.hasOwnProperty(\"code\") ? error.code : \"uid not available\";\n\t\t\t\t\tthis.toastRef.setError(errorCode);\n\t\t\t\t});\n\t\t} else if (this.props.group.trim().length) {\n\t\t\tthis.getGroup(this.props.group.trim())\n\t\t\t\t.then(group => {\n\t\t\t\t\tthis.setType(CometChat.ACTION_TYPE.TYPE_GROUP);\n\t\t\t\t\tthis.setItem(group);\n\t\t\t\t})\n\t\t\t\t.catch(error => {\n\t\t\t\t\tconst errorCode = error && error.hasOwnProperty(\"code\") ? error.code : \"guid not available\";\n\t\t\t\t\tthis.toastRef.setError(errorCode);\n\t\t\t\t});\n\t\t} else if (this.props.user.trim().length === 0 && this.props.group.trim().length === 0 && this.props._component === enums.CONSTANTS[\"MESSAGES_COMPONENT\"]) {\n\t\t\tconst errorCode = \"UID_OR_GUID_NOT_AVAILABLE\";\n\t\t\tthis.toastRef.setError(errorCode);\n\t\t}\n\t}\n\n\tcomponentDidUpdate(prevProps) {\n\n\t\tif (this.props.user.trim().length && prevProps.user !== this.props.user) {\n\t\t\tthis.getUser(this.props.user)\n\t\t\t\t.then(user => {\n\t\t\t\t\t//this.setType(CometChat.ACTION_TYPE.TYPE_USER);\n\t\t\t\t\t//this.setItem(user);\n\t\t\t\t\tthis.setTypeAndItem(CometChat.ACTION_TYPE.TYPE_USER, user);\n\t\t\t\t\t//this.setClearedUnreadMessages(false);\n\t\t\t\t})\n\t\t\t\t.catch(error => {\n\t\t\t\t\tconst errorCode = error && error.hasOwnProperty(\"code\") ? error.code : \"uid not available\";\n\t\t\t\t\tthis.toastRef.setError(errorCode);\n\t\t\t\t});\n\t\t} else if (this.props.group.trim().length && prevProps.group !== this.props.group) {\n\t\t\tthis.getGroup(this.props.group)\n\t\t\t\t.then(group => {\n\t\t\t\t\t//this.setType(CometChat.ACTION_TYPE.TYPE_GROUP);\n\t\t\t\t\t//this.setItem(group);\n\t\t\t\t\tthis.setTypeAndItem(CometChat.ACTION_TYPE.TYPE_GROUP, group);\n\t\t\t\t\t//this.setClearedUnreadMessages(false);\n\t\t\t\t})\n\t\t\t\t.catch(error => {\n\t\t\t\t\tconst errorCode = error && error.hasOwnProperty(\"code\") ? error.code : \"guid not available\";\n\t\t\t\t\tthis.toastRef.setError(errorCode);\n\t\t\t\t});\n\t\t}\n\n\t\t//when the active group is deleted, close the chat window.\n\t\tif (this.state.type === CometChat.ACTION_TYPE.TYPE_GROUP && this.state.item.guid === this.state.deletedGroupId) {\n\t\t\t//this.setItem({});\n\t\t\t//this.setType(\"\");\n\t\t\tthis.setTypeAndItem({}, \"\");\n\t\t\tthis.setDeletedGroupId(\"\");\n\t\t}\n\n\t\t//when the active group is left, close the chat window.\n\t\tif (this.state.type === CometChat.ACTION_TYPE.TYPE_GROUP && this.state.item.guid === this.state.leftGroupId) {\n\t\t\tthis.setTypeAndItem({}, \"\");\n\t\t\tthis.setLeftGroupId(\"\");\n\t\t}\n\n\t\tif (prevProps.language !== this.props.language) {\n\t\t\tthis.setState({ language: this.props.language });\n\t\t\tthis.setRoles();\n\t\t}\n\t}\n\n\tsetRoles = () => {\n\t\tconst roles = {\n\t\t\t[CometChat.GROUP_MEMBER_SCOPE.ADMIN]: Translator.translate(\"ADMINISTRATOR\", this.props.language),\n\t\t\t[CometChat.GROUP_MEMBER_SCOPE.MODERATOR]: Translator.translate(\"MODERATOR\", this.props.language),\n\t\t\t[CometChat.GROUP_MEMBER_SCOPE.PARTICIPANT]: Translator.translate(\"PARTICIPANT\", this.props.language),\n\t\t};\n\t\tthis.setState({ roles: roles });\n\t};\n\n\tgetUser = uid => {\n\t\tconst promise = new Promise((resolve, reject) => {\n\t\t\tif (!uid) {\n\t\t\t\tconst error = { code: \"uid not available\" };\n\t\t\t\treject(error);\n\t\t\t}\n\n\t\t\tCometChat.getUser(uid)\n\t\t\t\t.then(user => resolve(user))\n\t\t\t\t.catch(error => reject(error));\n\t\t});\n\n\t\treturn promise;\n\t};\n\n\tgetGroup = guid => {\n\t\tconst promise = new Promise((resolve, reject) => {\n\t\t\tif (!guid) {\n\t\t\t\tconst error = { code: \"guid not available\" };\n\t\t\t\treject(error);\n\t\t\t}\n\n\t\t\tCometChat.getGroup(guid)\n\t\t\t\t.then(group => {\n\t\t\t\t\tif (group.hasJoined === false) {\n\t\t\t\t\t\tconst guid = group.guid;\n\t\t\t\t\t\tconst groupType = group.type;\n\t\t\t\t\t\tlet password = \"\";\n\t\t\t\t\t\tif (groupType === CometChat.GROUP_TYPE.PASSWORD) {\n\t\t\t\t\t\t\tconst promptMessage = Translator.translate(\"Enter password\", this.props.lang);\n\t\t\t\t\t\t\tpassword = prompt(promptMessage);\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tCometChat.joinGroup(guid, groupType, password)\n\t\t\t\t\t\t\t.then(group => resolve(group))\n\t\t\t\t\t\t\t.catch(error => reject(error));\n\t\t\t\t\t} else {\n\t\t\t\t\t\tresolve(group);\n\t\t\t\t\t}\n\t\t\t\t})\n\t\t\t\t.catch(error => reject(error));\n\t\t});\n\n\t\treturn promise;\n\t};\n\n\tsetToastMessage = (type, message) => {\n\t\t// switch(type) {\n\n\t\t//     case \"error\":\n\t\t//         this.toastRef.setError(message);\n\t\t//     break;\n\t\t//     case \"success\":\n\t\t//         this.toastRef.setSuccess(message);\n\t\t//         break;\n\t\t//     case \"info\":\n\t\t//         this.toastRef.setInfo(message);\n\t\t//         break;\n\t\t//     case \"warning\":\n\t\t//         this.toastRef.setWarning(message);\n\t\t//         break;\n\t\t//     default:\n\t\t//     break;\n\t\t// }\n\n\t\treturn null;\n\t};\n\n\tgetLoggedinUser = () => {\n\t\tlet timerCounter = 10000;\n\t\tlet timer = 0;\n\n\t\treturn new Promise((resolve, reject) => {\n\t\t\tif (timerCounter === timer) {\n\t\t\t\treturn reject(`timer reached ${timerCounter}`);\n\t\t\t}\n\n\t\t\tif (this.loggedInUser) {\n\t\t\t\treturn resolve(this.loggedInUser);\n\t\t\t}\n\n\t\t\tif (!CometChat.isInitialized()) {\n\t\t\t\treturn reject(\"CometChat not initialized\");\n\t\t\t}\n\n\t\t\tthis.isUserLoggedIn = setInterval(() => {\n\t\t\t\tCometChat.getLoggedinUser()\n\t\t\t\t\t.then(user => {\n\t\t\t\t\t\tthis.loggedInUser = user;\n\t\t\t\t\t\tclearInterval(this.isUserLoggedIn);\n\t\t\t\t\t\treturn resolve(user);\n\t\t\t\t\t})\n\t\t\t\t\t.catch(error => reject(error));\n\n\t\t\t\ttimer += 100;\n\t\t\t}, 100);\n\t\t});\n\n\t\t// return new Promise((resolve, reject) => {\n\t\t// \tCometChat.getLoggedinUser()\n\t\t// \t\t.then(user => resolve(user))\n\t\t// \t\t.catch(error => reject(error));\n\t\t// });\n\t};\n\n\tclearGroupMembers = () => {\n\t\tthis.setState({\n\t\t\tgroupMembers: [],\n\t\t\tgroupAdmins: [],\n\t\t\tgroupModerators: [],\n\t\t\tbannedGroupMembers: [],\n\t\t});\n\t};\n\n\tsetAllGroupMembers = (groupMembers, groupAdmins, groupModerators) => {\n\t\tthis.setState({\n\t\t\tgroupMembers: [...this.state.groupMembers, ...groupMembers],\n\t\t\tgroupAdmins: [...this.state.groupAdmins, ...groupAdmins],\n\t\t\tgroupModerators: [...this.state.groupModerators, ...groupModerators],\n\t\t});\n\t};\n\n\tupdateGroupMembers = groupMembers => {\n\t\tthis.setState({\n\t\t\tgroupMembers: [...groupMembers],\n\t\t});\n\t};\n\n\tsetGroupMembers = groupMembers => {\n\t\tthis.setState({\n\t\t\tgroupMembers: [...this.state.groupMembers, ...groupMembers],\n\t\t});\n\t};\n\n\tsetGroupAdmins = groupAdmins => {\n\t\tthis.setState({\n\t\t\tgroupAdmins: [...this.state.groupAdmins, ...groupAdmins],\n\t\t});\n\t};\n\n\tsetGroupModerators = groupModerators => {\n\t\tthis.setState({\n\t\t\tgroupModerators: [...this.state.groupModerators, ...groupModerators],\n\t\t});\n\t};\n\n\tsetBannedGroupMembers = bannedMembers => {\n\t\tthis.setState({\n\t\t\tbannedGroupMembers: [...this.state.bannedGroupMembers, ...bannedMembers],\n\t\t});\n\t};\n\n\tupdateBannedGroupMembers = bannedMembers => {\n\t\tthis.setState({\n\t\t\tbannedGroupMembers: [...bannedMembers],\n\t\t});\n\t};\n\n\tsetCallInProgress = (call, callType) => {\n\t\tthis.setState({ callInProgress: { ...call }, callType });\n\t};\n\n\tsetItem = item => {\n\t\tthis.setState({ item: { ...item } });\n\t};\n\n\tsetType = type => {\n\t\tthis.setState({ type });\n\t};\n\n\tsetTypeAndItem = (type, item) => {\n\t\tthis.setState({ item: { ...item }, type });\n\t};\n\n\tsetDeletedGroupId = guid => {\n\t\tthis.setState({ deletedGroupId: guid });\n\t};\n\n\tsetLeftGroupId = guid => {\n\t\tthis.setState({ leftGroupId: guid });\n\t};\n\n\tsetLastMessage = message => {\n\t\tthis.setState({ lastMessage: message });\n\t};\n\n\tsetClearedUnreadMessages = flag => {\n\t\tthis.setState({ clearedUnreadMessages: flag });\n\t};\n\n\tsetDirectCallCustomMessage = (message, event) => {\n\t\tthis.setState({ directCallCustomMessage: message, directCallCustomMessageAction: event });\n\t};\n\n\tcheckIfDirectCallIsOngoing = () => {\n\t\tlet output = null;\n\n\t\tif (Object.keys(this.state.callInProgress).length && (this.state.callType === enums.CONSTANTS[\"INCOMING_DIRECT_CALLING\"] || this.state.callType === enums.CONSTANTS[\"OUTGOING_DIRECT_CALLING\"])) {\n\t\t\tif (this.state.callInProgress.customData.sessionID === this.state.item.guid) {\n\t\t\t\toutput = enums.CONSTANTS.CALLS[\"ONGOING_CALL_SAME_GROUP\"];\n\t\t\t} else {\n\t\t\t\toutput = enums.CONSTANTS.CALLS[\"ONGOING_CALL_DIFF_GROUP\"];\n\t\t\t}\n\t\t}\n\n\t\treturn output;\n\t};\n\n\tcheckIfCallIsOngoing = () => {\n\t\tif (Object.keys(this.state.callInProgress).length) {\n\t\t\treturn true;\n\t\t}\n\n\t\treturn false;\n\t};\n\n\tgetActiveCallSessionID = () => {\n\t\tlet sessionID;\n\t\tif (this.state.callType === enums.CONSTANTS[\"INCOMING_DIRECT_CALLING\"] || this.state.callType === enums.CONSTANTS[\"OUTGOING_DIRECT_CALLING\"]) {\n\t\t\tsessionID = this.state.callInProgress?.data?.customData?.sessionID;\n\t\t} else {\n\t\t\tsessionID = this.state.callInProgress?.sessionId;\n\t\t}\n\n\t\treturn sessionID;\n\t};\n\n\thasKeyValue = (data, key) => {\n\t\tif (data.hasOwnProperty(key) === false || data[key] === null || data[key] === undefined) {\n\t\t\treturn false;\n\t\t}\n\n\t\treturn true;\n\t};\n\n\trender() {\n\t\t\n\t\treturn (\n\t\t\t<CometChatContext.Provider value={this.state}>\n\t\t\t\t<CometChatToastNotification ref={el => (this.toastRef = el)} lang={this.props.language} position={this.props.toastNotificationPos} />\n\t\t\t\t{this.props.children}\n\t\t\t</CometChatContext.Provider>\n\t\t);\n\t}\n}\n\nCometChatContextProvider.defaultProps = {\n\ttoastMessage: {},\n\tgroupMembers: [],\n\tbannedGroupMembers: [],\n\tgroupAdmins: [],\n\tgroupModerators: [],\n\tcallInProgress: {},\n\tuser: \"\",\n\tgroup: \"\",\n\t_component: \"\",\n\tlanguage: Translator.getDefaultLanguage(),\n};\n\nCometChatContextProvider.propTypes = {\n\ttoastMessage: PropTypes.object,\n\tgroupMembers: PropTypes.array,\n\tbannedGroupMembers: PropTypes.array,\n\tgroupAdmins: PropTypes.array,\n\tgroupModerators: PropTypes.array,\n\tcallInProgress: PropTypes.object,\n\tgroup: PropTypes.string,\n\tuser: PropTypes.string,\n\t_component: PropTypes.string,\n\tlanguage: PropTypes.string,\n};\n","export class Storage {\n\n    static attachChangeDetection = (callback) => {\n        window.addEventListener('storage', callback);\n    }\n\n    static detachChangeDetection = (callback) => {\n        window.removeEventListener('storage', callback);\n    }\n\n    static setItem = (storageKey, storageValue) => {\n        localStorage.setItem(storageKey, JSON.stringify(storageValue));\n    }\n\n    static getItem = (storageKey) => {\n        return JSON.parse(localStorage.getItem(storageKey));\n    }\n\n    static removeItem = (storageKey) => {\n        localStorage.removeItem(storageKey);\n    }\n\n    static clear = () => {\n\n    }\n}","import Translator from \"../../../resources/localization/translator\";\n\nexport const LocalizedString = language => {\n\treturn {\n\t\tSELECT_VIDEO_SOURCE: Translator.translate(\"SELECT_VIDEO_SOURCE\", language),\n\t\tSELECT_INPUT_AUDIO_SOURCE: Translator.translate(\"SELECT_INPUT_AUDIO_SOURCE\", language),\n\t\tSELECT_OUTPUT_AUDIO_SOURCE: Translator.translate(\"SELECT_OUTPUT_AUDIO_SOURCE\", language),\n\t\tSELECT_MODE: Translator.translate(\"SELECT_MODE\", language),\n\t\tCALL_RECORDING_STARTED_MSG: Translator.translate(\"CALL_RECORDING_STARTED_MSG\", language),\n\t\tUSER_JOINED_CALL_MSG: Translator.translate(\"USER_JOINED_CALL_MSG\", language),\n\t\tCALL_RECORDING_ENDED_MSG: Translator.translate(\"CALL_RECORDING_ENDED_MSG\", language),\n\t\tUSER_LEFT_CALL_MSG: Translator.translate(\"USER_LEFT_CALL_MSG\", language),\n\t\tCAMERA_ERROR_MSG: Translator.translate(\"CAMERA_ERROR_MSG\", language),\n\t\tMIC_ERROR_MSG: Translator.translate(\"MIC_ERROR_MSG\", language),\n\t\tCAMERA_MIC_ERROR_MSG: Translator.translate(\"CAMERA_MIC_ERROR_MSG\", language),\n\t\tRECORDING_TEXT: Translator.translate(\"RECORDING_TEXT\", language),\n\t\tTRYING_TO_START_RECORDING_TEXT: Translator.translate(\"TRYING_TO_START_RECORDING_TEXT\", language),\n\t\tJOINING_TEXT: Translator.translate(\"JOINING_TEXT\", language),\n\t\tUN_MUTE_AUDIO_TEXT: Translator.translate(\"UN_MUTE_AUDIO_TEXT\", language),\n\t\tMUTE_AUDIO_TEXT: Translator.translate(\"MUTE_AUDIO_TEXT\", language),\n\t\tEND_CALL_TEXT: Translator.translate(\"END_CALL_TEXT\", language),\n\t\tSTART_RECORDING_TEXT: Translator.translate(\"START_RECORDING_TEXT\", language),\n\t\tSTOP_RECORDING_TEXT: Translator.translate(\"STOP_RECORDING_TEXT\", language),\n\t\tSTART_SCREEN_SHARE_TEXT: Translator.translate(\"START_SCREEN_SHARE_TEXT\", language),\n\t\tSTOP_SCREEN_SHARE_TEXT: Translator.translate(\"STOP_SCREEN_SHARE_TEXT\", language),\n\t\tMUTE_VIDEO_TEXT: Translator.translate(\"MUTE_VIDEO_TEXT\", language),\n\t\tUN_MUTE_VIDEO_TEXT: Translator.translate(\"UN_MUTE_VIDEO_TEXT\", language),\n\t\tSELECT_LAYOUT_HEADER: Translator.translate(\"SELECT_LAYOUT_HEADER\", language),\n\t\tNO_OF_USER_IN_TILE_TEXT: Translator.translate(\"NO_OF_USER_IN_TILE_TEXT\", language),\n\t\tCHANGE_AUDIO_SOURCE: Translator.translate(\"CHANGE_AUDIO_SOURCE\", language),\n\t\tCHANGE_AUDIO_SOURCE_DESC: Translator.translate(\"CHANGE_AUDIO_SOURCE_DESC\", language),\n\t\tAUDIO_INPUT_DEVICE_LABEL: Translator.translate(\"AUDIO_INPUT_DEVICE_LABEL\", language),\n\t\tNO_AUDIO_DEVICE_AVAILABLE: Translator.translate(\"NO_AUDIO_DEVICE_AVAILABLE\", language),\n\t\tAUDIO_OUTPUT_DEVICE_LABEL: Translator.translate(\"AUDIO_OUTPUT_DEVICE_LABEL\", language),\n\t\tCHANGE_VIDEO_SOURCE: Translator.translate(\"CHANGE_VIDEO_SOURCE\", language),\n\t\tCHANGE_VIDEO_SOURCE_DESC: Translator.translate(\"CHANGE_VIDEO_SOURCE_DESC\", language),\n\t\tVIDEO_DEVICES_LABEL: Translator.translate(\"VIDEO_DEVICES_LABEL\", language),\n\t\tFULL_SCREEN: Translator.translate(\"FULL_SCREEN\", language),\n\t\tEXIT_FULL_SCREEN: Translator.translate(\"EXIT_FULL_SCREEN\", language),\n\t\tCHANGE_LAYOUT: Translator.translate(\"CHANGE_LAYOUT\", language),\n\t\tAUDIO_SETTING: Translator.translate(\"AUDIO_SETTING\", language),\n\t\tVIDEO_SETTING: Translator.translate(\"VIDEO_SETTING\", language),\n\t\tUSER_LIST: Translator.translate(\"USER_LIST\", language),\n\t\tMORE: Translator.translate(\"MORE\", language),\n\t\tMUTE_USER: Translator.translate(\"MUTE_USER\", language),\n\t\tPIN_USER: Translator.translate(\"PIN_USER\", language),\n\t\tUNPIN_USER: Translator.translate(\"UNPIN_USER\", language),\n\t\tUN_MUTE_USER: Translator.translate(\"UN_MUTE_USER\", language),\n\t\tMUTED: Translator.translate(\"MUTED\", language),\n\t\tYOU_HAVE_BLOCKED: Translator.translate(\"YOU_HAVE_BLOCKED\", language),\n\t\tNOT_POSSIBLE_TO_SEND_MESSAGES: Translator.translate(\"NOT_POSSIBLE_TO_SEND_MESSAGES\", language),\n\t\tIOS_BROWSER_WARNING: Translator.translate(\"IOS_BROWSER_WARNING\", language),\n\t\tPEOPLE_TEXT: Translator.translate(\"PEOPLE_TEXT\", language),\n\t\tSPOTLIGHT_DETAIL_TEXT1: Translator.translate(\"SPOTLIGHT_DETAIL_TEXT1\", language),\n\t\tSPOTLIGHT_DETAIL_TEXT2: Translator.translate(\"SPOTLIGHT_DETAIL_TEXT2\", language),\n\t\tSPOTLIGHT_DETAIL_TEXT3: Translator.translate(\"SPOTLIGHT_DETAIL_TEXT3\", language),\n\t\tSPOTLIGHT_DETAIL_TEXT4: Translator.translate(\"SPOTLIGHT_DETAIL_TEXT4\", language),\n\t};\n};\n","\n\nexport const callScreenWrapperStyle = (props, keyframes) => {\n\n    const fadeAnimation = keyframes`\n    from {\n        opacity: 0;\n    }\n    to {\n        opacity: 1;\n    }`;\n\n    return {\n        width: \"100%\",\n        height: \"calc(100% - 50px)\",\n        position: \"absolute\",\n        top: \"50px\",\n        right: \"0\",\n        bottom: \"0\",\n        left: \"0\",\n        backgroundColor: `${props.theme.backgroundColor.darkGrey}`,\n        zIndex: \"999\",\n        color: `${props.theme.color.white}`,\n        textAlign: \"center\",\n        boxSizing: \"border-box\",\n        animation: `${fadeAnimation} 250ms ease`,\n        fontFamily: `${props.theme.fontFamily}`,\n        \"*\": {\n            boxSizing: \"border-box\",\n            fontFamily: `${props.theme.fontFamily}`,\n        },\n        \"iframe\": {\n            border: \"none\"\n        },\n    }\n}\n\nexport const callScreenBackgroundStyle = (state) => {\n\n    return {\n        display: \"none\",\n        width: \"100vw\",\n        height: \"100vh\",\n        position: \"fixed\",\n        top: \"0\",\n        left: \"0\",\n        bottom: \"0\",\n        right: \"0\",\n        zIndex: \"2147483001\",\n    }\n}\n\nexport const callScreenContainerStyle = (props) => {\n\n    return {\n        width: props.maxWidth,\n        height: props.maxHeight,\n        position: \"fixed\",\n        top: \"0\",\n        left: \"0\",\n        overflow: \"hidden\",\n        zIndex: \"2147483002\",\n        \"*\": {\n            boxSizing: \"border-box\",\n            fontFamily: `${props.theme.fontFamily}`,\n        }\n    }\n}\n\nexport const callScreenInnerBackgroundStyle = () => {\n\n    return {\n        display: \"none\",\n        position: \"absolute\",\n        top: \"0\",\n        left: \"0\",\n        bottom: \"0\",\n        right: \"0\",\n        zIndex: \"2147483003\",\n    }\n}\n\nexport const callScreenHeaderStyle = (state) => {\n\n    const cursorStyle = (state.maximized) ? {} : {\n        cursor: \"grabbing\",\n    };\n\n    return {\n        display: \"flex\",\n        flexDirection: \"row\",\n        alignItems: \"center\",\n        justifyContent: \"flex-end\",\n        backgroundColor: \"#282c34\",\n        width: \"100%\",\n        height: \"50px\",\n        position: \"absolute\",\n        top: \"0\",\n        right: \"0\",\n        bottom: \"0\",\n        left: \"0\",\n        zIndex: \"2147483004\",\n        ...cursorStyle\n    }\n}\n\nexport const headerTitleStyle = () => {\n\n    return {\n        width: \"calc(100% - 55px)\",\n        padding: \"16px\",\n    }\n}\n\nexport const headerButtonStyle = () => {\n\n    return {\n        width: \"55px\",\n        padding: \"16px\",\n        display: \"flex\",\n        justifyContent: \"center\",\n        alignItems: \"center\",\n        \"button\": {\n            border: \"none\",\n            background: \"transparent\",\n            cursor: \"pointer\",\n            outline: \"none\",\n            display: \"flex\",\n            flexDirection: \"row\",\n            justifyContent: \"center\",\n            alignItems: \"center\",\n            width: \"100%\",\n            padding: \"0px\",\n            userSelect: \"none\",\n            \"img\": {\n                maxWidth: \"100%\",\n                flexShrink: \"0\"\n            }\n        }\n    }\n}\n\nexport const callScreenResizerStyle = (state) => {\n\n    const backgroundStyle = (state.maximized) ? {\n        display: \"none\"\n    }: {\n        cursor: \"nwse-resize\",\n        clipPath: \"polygon(100% 0,100% 100%,0 100%)\",\n        background: \"repeating-linear-gradient(135deg,hsla(0,0%,100%,.5),hsla(0,0%,100%,.5) 2px,#000 0,#000 4px)\",\n    };\n\n    return {\n        width: \"35px\",\n        height: \"35px\",\n        position: \"absolute\",\n        right: \"0\",\n        bottom: \"0\",\n        zIndex: \"2147483004\", \n        ...backgroundStyle\n    }\n}\n\nexport const iconStyle = (img) => {\n\n    return {\n        width: \"24px\",\n        height: \"24px\",\n        display: \"inline-block\",\n        cursor: \"pointer\",\n        mask: `url(${img}) center center no-repeat`,\n        backgroundColor: `white`,\n    }\n}","export default __webpack_public_path__ + \"static/media/reduce-size.e5af2bb8.svg\";","export default __webpack_public_path__ + \"static/media/increase-size.97e9cd75.svg\";","import React from \"react\";\n/** @jsxRuntime classic */\n/** @jsx jsx */\nimport { jsx, keyframes } from \"@emotion/core\";\nimport PropTypes from \"prop-types\";\n\nimport { CometChat } from \"@cometchat-pro/chat\";\n\nimport { CometChatContext } from \"../../../util/CometChatContext\";\nimport { Storage } from \"../../../util/Storage\";\nimport * as enums from \"../../../util/enums.js\";\n\nimport { theme } from \"../../../resources/theme\";\nimport Translator from \"../../../resources/localization/translator\";\nimport { LocalizedString } from \"./strings\";\n\nimport {\n    callScreenBackgroundStyle,\n    callScreenContainerStyle,\n    callScreenInnerBackgroundStyle,\n    callScreenHeaderStyle,\n    callScreenWrapperStyle,\n    headerTitleStyle,\n    headerButtonStyle,\n    callScreenResizerStyle,\n    iconStyle\n} from \"./style\";\n\nimport minimizeIcon from \"./resources/reduce-size.svg\";\nimport maximizeIcon from \"./resources/increase-size.svg\";\n\nclass CometChatCallScreen extends React.PureComponent {\n\n    static contextType = CometChatContext;\n\n    constructor(props) {\n        super(props);\n\n        this.state = {\n            x: 0,\n            y: 0,\n            rel: null, // position relative to the cursor\n            dragging: false,\n            maximized: true\n        };\n\n        this.loggedInUser = props.loggedInUser;\n        \n        this.callScreenBackgroundEl = React.createRef();\n        this.callScreenInnerBackgroundEl = React.createRef();\n        this.callScreenEl = React.createRef();\n        this.callScreenFrame = React.createRef();\n    }\n\n    componentDidMount() {\n\n        this.document = window.document;\n\n        if (this.props.call.type === enums.CUSTOM_TYPE_MEETING) {\n            this.startDirectCall(this.props.call);\n        } else {\n            this.startDefaultCall(this.props.call);\n        }\n    }\n\n    enableDragging = (e) => {\n\n        e.preventDefault();\n        \n        if (this.checkIfCallScreenIsMaximized() === true) {\n            return false;\n        }\n\n        this.setState({\n            dragging: true,\n            rel: {\n                x: e.pageX - this.state.x,\n                y: e.pageY - this.state.y\n            }\n        });\n\n        this.toggleCallScreenBackground(true);\n        this.toggleCallScreenInnerBackground(true);\n\n        this.document.onmousemove = (e) => this.startDragging(e);\n        this.document.onmouseup = (e) => this.disableDragging(e);\n    }\n\n    checkIfCallScreenIsMaximized = () => {\n\n        const elem = this.callScreenEl.current;\n\n        const dialogWidth = elem.clientWidth;\n        const dialogHeight = elem.clientHeight;\n\n        const windowWidth = window.innerWidth;\n        const windowHeight = window.innerHeight;\n\n        if (dialogWidth === windowWidth && dialogHeight === windowHeight) {\n            return true;\n        }\n\n        return false;\n    }\n\n    checkIfCallScreenIsMinimized = () => {\n\n        const elem = this.callScreenEl.current;\n\n        const dialogWidth = elem.clientWidth;\n        const dialogHeight = elem.clientHeight;\n\n        const minimumWidth = this.props.minWidth;\n        const minimumHeight = this.props.minHeight;\n\n        if (dialogWidth === minimumWidth && dialogHeight === minimumHeight) {\n            return true;\n        }\n\n        return false;\n    }\n\n    startDragging = (e) => {\n        \n        if (!this.state.dragging) return;\n        \n        e = e || window.event;\n\n        const elem = this.callScreenEl.current;\n\n        const dialogWidth = elem.clientWidth; \n        const dialogHeight = elem.clientHeight; \n        const x = Math.min(\n            Math.max(0, e.pageX - this.state.rel.x),\n            window.innerWidth - dialogWidth - 20\n        );\n        const y = Math.min(\n            Math.max(0, e.pageY - this.state.rel.y),\n            window.innerHeight - dialogHeight - 20\n        ); \n\n        this.setState({\n            x: x,\n            y: y\n        });\n\n        e.stopPropagation();\n        e.preventDefault();\n    }\n\n    disableDragging = (e) => {\n\n        this.document.onmousemove = null;\n        this.document.onmouseup = null;\n\n        this.setState({ dragging: false });\n\n        this.toggleCallScreenBackground(false);\n        this.toggleCallScreenInnerBackground(false);\n    }\n\n    initResize = (e) => {\n\n        e.preventDefault();\n\n        if (this.checkIfCallScreenIsMaximized() === true) {\n            return false;\n        }\n\n        const element = this.callScreenEl.current;\n\n        this.startX = e.pageX;\n        this.startY = e.pageY;\n\n        this.startWidth = parseFloat(getComputedStyle(element, null).getPropertyValue(\"width\").replace(\"px\", \"\"));\n        this.startHeight = parseInt(getComputedStyle(element, null).getPropertyValue(\"height\").replace(\"px\", \"\"));\n\n        this.document.onmousemove = (e) => this.startResize(e);\n        this.document.onmouseup = (e) => this.stopResize(e);\n    }\n\n    startResize = (e) => {\n        \n        let width = this.startWidth + (e.pageX - this.startX);\n        let height = this.startHeight + (e.pageY - this.startY);\n\n        if (width < this.props.minWidth) {\n            width = this.props.minHWidth;\n        }\n\n        if (width > window.innerWidth) {\n            width = this.props.maxWidth;\n        }\n\n        if (height < this.props.minHeight) {\n            height = this.props.minHeight;\n        }\n\n        if (height > window.innerHeight) {\n            height = this.props.maxHeight;\n        }\n\n        this.callScreenEl.current.style.width = width + \"px\";\n        this.callScreenEl.current.style.height = height + \"px\";\n\n        this.setDimensionOfCallScreenInnerBackground({ width: width + \"px\", height: height + \"px\" });\n\n        this.toggleCallScreenBackground(true);\n        this.toggleCallScreenInnerBackground(true);\n    }\n\n    stopResize = () => {\n        \n        this.document.onmousemove = null;\n        this.document.onmouseup = null;\n\n        this.toggleCallScreenBackground(false);\n        this.toggleCallScreenInnerBackground(false);\n\n        if (this.checkIfCallScreenIsMaximized() === true) {\n            this.setState({ maximized: true });\n        } \n        if (this.checkIfCallScreenIsMinimized() === true) {\n            this.setState({ maximized: false });\n        }\n    }\n\n    toggleCallScreenBackground = (flag) => {\n\n        if (this.callScreenBackgroundEl && this.callScreenBackgroundEl.current) {\n            this.callScreenBackgroundEl.current.style.display = (flag) ? \"block\" : \"none\";\n        }\n    }\n\n    toggleCallScreenInnerBackground = (flag) => {\n\n        if (this.callScreenInnerBackgroundEl && this.callScreenInnerBackgroundEl.current) {\n            this.callScreenInnerBackgroundEl.current.style.display = (flag) ? \"block\" : \"none\";\n        }\n    }\n\n    setDimensionOfCallScreenInnerBackground = (props) => {\n\n        this.callScreenInnerBackgroundEl.current.style.width = props.width;\n        this.callScreenInnerBackgroundEl.current.style.height = props.height;\n    }\n\n    setPositionOfCallScreenInnerBackground = (props) => {\n\n        this.callScreenInnerBackgroundEl.current.style.top = props.y;\n        this.callScreenInnerBackgroundEl.current.style.left = props.x;\n    }\n\n    minimize = () => {\n\n        if (!this.callScreenEl || !this.callScreenEl.current) {\n            return false;\n        }\n\n        const width = this.props.minWidth + \"px\";\n        const height = this.props.minHeight + \"px\";\n\n        this.setState({ maximized: false });\n        this.setSizingAndPostionOfCallScreen({ width: width, height: height });\n        this.setDimensionOfCallScreenInnerBackground({ width: width, height: height });\n        this.setPositionOfCallScreenInnerBackground({ x: \"0px\", y: \"0px\" });\n    }\n\n    maximize = () => {\n\n        if (!this.callScreenEl || !this.callScreenEl.current) {\n            return false;\n        }\n\n        const width = this.props.maxWidth;\n        const height = this.props.maxHeight;\n\n        this.setState({ maximized: true });\n        this.setSizingAndPostionOfCallScreen({ width: width, height: height });\n        this.setDimensionOfCallScreenInnerBackground({ width: width, height: height });\n        this.setPositionOfCallScreenInnerBackground({ x: \"0px\", y: \"0px\" });\n    }\n\n    setSizingAndPostionOfCallScreen = (props) => {\n\n        this.callScreenEl.current.style.width = props.width;\n        this.callScreenEl.current.style.height = props.height;\n        this.callScreenEl.current.style.top = \"0px\";\n        this.callScreenEl.current.style.left = \"0px\";\n    }\n\n    toggle = (e) => {\n\n        this.setState({ x: 0, y: 0 });\n\n        if (this.state.maximized) {\n            this.minimize();\n        } else {\n            this.maximize();\n        }\n\n        e.stopPropagation();\n        e.preventDefault();\n    }\n\n    startDirectCall = (call) => {\n\n        const sessionId = call.data.customData.sessionID;\n        const customCSS = this.context.UIKitSettings.customCSS;\n        const showRecordingButton = this.context.UIKitSettings.showCallRecordingOption;\n\n        const callSettings = new CometChat.CallSettingsBuilder()\n            .enableDefaultLayout(true)\n            .setSessionID(sessionId)\n            .setIsAudioOnlyCall(false)\n            .showRecordingButton(showRecordingButton)\n            .setCustomCSS(customCSS)\n            .setLocalizedStringObject(LocalizedString(this.props.lang)).build();\n\n        const el = this.callScreenFrame;\n        CometChat.startCall(\n            callSettings,\n            el,\n            new CometChat.OngoingCallListener({\n                onCallEnded: call => {\n\n                    if (this.context) {\n                        this.context.setCallInProgress({}, \"\");\n                    }\n                    Storage.removeItem(enums.CONSTANTS[\"ACTIVECALL\"]);\n                    this.props.actionGenerated(enums.ACTIONS[\"DIRECT_CALL_ENDED\"]);\n                },\n                onError: error => {\n\n                    if (this.context) {\n                        this.context.setCallInProgress(null, \"\");\n                    }\n                    \n                    this.props.actionGenerated(enums.ACTIONS[\"DIRECT_CALL_ERROR\"]);\n                    const errorCode = (error && error.hasOwnProperty(\"code\")) ? error.code : \"ERROR\";\n                    this.context.setToastMessage(\"error\", errorCode);\n                }\n            })\n        );\n    }\n\n    startDefaultCall = (call) => {\n\n        const sessionId = call.getSessionId();\n        const callType = (call.type === CometChat.CALL_TYPE.AUDIO ? true : false);\n        const customCSS = this.context.UIKitSettings.customCSS;\n        const showRecordingButton = this.context.UIKitSettings.showCallRecordingOption;\n\n        const callSettings = new CometChat.CallSettingsBuilder()\n\t\t\t\t\t.setSessionID(sessionId)\n\t\t\t\t\t.enableDefaultLayout(true)\n\t\t\t\t\t.setMode(CometChat.CALL_MODE.DEFAULT)\n\t\t\t\t\t.setIsAudioOnlyCall(callType)\n\t\t\t\t\t.showRecordingButton(showRecordingButton)\n\t\t\t\t\t.setCustomCSS(customCSS)\n\t\t\t\t\t.setLocalizedStringObject(LocalizedString(this.props.lang))\n\t\t\t\t\t.build();\n\n\n        const el = this.callScreenFrame;\n        CometChat.startCall(\n            callSettings,\n            el,\n            new CometChat.OngoingCallListener({\n                onUserJoined: user => {\n\n                    /* Notification received here if another user joins the call. */\n                    /* this method can be use to display message or perform any actions if someone joining the call */\n                    //call initiator gets the same info in outgoingcallaccpeted event\n                    if (call.callInitiator.uid !== this.loggedInUser.uid && call.callInitiator.uid !== user.uid) {\n\n                        const callMessage = {\n                            \"category\": call.category,\n                            \"type\": call.type,\n                            \"action\": call.action,\n                            \"status\": call.status,\n                            \"callInitiator\": call.callInitiator,\n                            \"callReceiver\": call.callReceiver,\n                            \"receiverId\": call.receiverId,\n                            \"receiverType\": call.receiverType,\n                            \"sentAt\": call.sentAt,\n                            \"sender\": { ...user }\n                        };\n                        this.props.actionGenerated(enums.ACTIONS[\"USER_JOINED_CALL\"], callMessage);\n                    }\n                },\n                onUserLeft: user => {\n                    /* Notification received here if another user left the call. */\n                    /* this method can be use to display message or perform any actions if someone leaving the call */\n                    //call initiator gets the same info in outgoingcallaccpeted event\n                    if (call.callInitiator.uid !== this.loggedInUser.uid && call.callInitiator.uid !== user.uid) {\n\n                        const callMessage = {\n                            \"category\": call.category,\n                            \"type\": call.type,\n                            \"action\": \"left\",\n                            \"status\": call.status,\n                            \"callInitiator\": call.callInitiator,\n                            \"callReceiver\": call.callReceiver,\n                            \"receiverId\": call.receiverId,\n                            \"receiverType\": call.receiverType,\n                            \"sentAt\": call.sentAt,\n                            \"sender\": { ...user }\n                        };\n\n                        this.props.actionGenerated(enums.ACTIONS[\"USER_LEFT_CALL\"], callMessage);\n                    }\n                },\n                onCallEnded: endedCall => {\n\n                    /* Notification received here if current ongoing call is ended. */\n                    if (this.context) {\n                        this.context.setCallInProgress(null, \"\");\n                    }\n                    Storage.removeItem(enums.CONSTANTS[\"ACTIVECALL\"]);\n                    this.props.actionGenerated(enums.ACTIONS[\"OUTGOING_CALL_ENDED\"], endedCall);\n                    /* hiding/closing the call screen can be done here. */\n                }\n            })\n        );\n    }\n\n    render() {\n\n        const resizeText = Translator.translate(\"RESIZE\", this.props.lang);\n        let iconView = (<i css={iconStyle(minimizeIcon)} title={resizeText}></i>);\n        if (this.state.maximized === false) {\n            iconView = (<i css={iconStyle(maximizeIcon)} title={resizeText}></i>);\n        }\n\n        return (\n            <React.Fragment>\n                <div css={callScreenBackgroundStyle(this.state)} ref={this.callScreenBackgroundEl}></div>\n                <div ref={this.callScreenEl} className=\"callscreen__container\" css={callScreenContainerStyle(this.props)} \n                    style={{ top: this.state.y + \"px\", left: this.state.x + \"px\" }}>\n                    <div css={callScreenInnerBackgroundStyle()} ref={this.callScreenInnerBackgroundEl}></div>\n                    <div css={callScreenHeaderStyle(this.state)} className=\"callscreen__header\" onMouseDown={this.enableDragging}>\n                        <div css={headerTitleStyle()}>&nbsp;</div>\n                        <div className=\"callscreen__resize\" css={headerButtonStyle()} onClick={this.toggle} onMouseDown={e => e.stopPropagation()}><button type=\"button\" title={resizeText}>{iconView}</button></div>\n                    </div>\n                    <div css={callScreenWrapperStyle(this.props, keyframes)} className=\"callscreen__wrapper\" ref={el => { this.callScreenFrame = el; }}></div>\n                    <div css={callScreenResizerStyle(this.state)} className=\"callscreen__resizer-both\" onMouseDown={this.initResize}></div>\n                </div>\n            </React.Fragment>\n        )\n    }\n}\n\n// Specifies the default values for props:\nCometChatCallScreen.defaultProps = {\n    lang: Translator.getDefaultLanguage(),\n    theme: theme,\n    minWidth: 400,\n    minHeight: 300,\n    maxWidth: \"100%\",\n    maxHeight: \"100%\",\n    style: {},\n};\n\nCometChatCallScreen.propTypes = {\n    lang: PropTypes.string,\n    theme: PropTypes.object,\n    minWidth: PropTypes.number,\n    minHeight: PropTypes.number,\n    maxWidth: PropTypes.string,\n    maxHeight: PropTypes.string,\n    style: PropTypes.object,\n}\n\nexport { CometChatCallScreen }\n","import * as enums from \"./enums\";\n\nexport class SoundManager {\n\tstatic widgetSettings;\n\tstatic incomingCallAudio = null;\n\tstatic outgoingCallAudio = null;\n\tstatic incomingMessageAudio = null;\n\tstatic outgoingMessageAudio = null;\n\tstatic incomingOtherMessageAudio = null;\n\n\tstatic play = (action, context) => {\n\t\tswitch (action) {\n\t\t\tcase enums.CONSTANTS.AUDIO[\"INCOMING_CALL\"]:\n\t\t\t\tthis.onIncomingCall(context);\n\t\t\t\tbreak;\n\t\t\tcase enums.CONSTANTS.AUDIO[\"OUTGOING_CALL\"]:\n\t\t\t\tthis.onOutgoingCall(context);\n\t\t\t\tbreak;\n\t\t\tcase enums.CONSTANTS.AUDIO[\"INCOMING_MESSAGE\"]:\n\t\t\t\tthis.onIncomingMessage(context);\n\t\t\t\tbreak;\n\t\t\tcase enums.CONSTANTS.AUDIO[\"INCOMING_OTHER_MESSAGE\"]:\n\t\t\t\tthis.onIncomingOtherMessage(context);\n\t\t\t\tbreak;\n\t\t\tcase enums.CONSTANTS.AUDIO[\"OUTGOING_MESSAGE\"]:\n\t\t\t\tthis.onOutgoingMessage(context);\n\t\t\t\tbreak;\n\t\t\tdefault:\n\t\t\t\tbreak;\n\t\t}\n\t};\n\n\tstatic pause = (action, context) => {\n\t\tswitch (action) {\n\t\t\tcase enums.CONSTANTS.AUDIO[\"INCOMING_CALL\"]:\n\t\t\t\tthis.pauseIncomingCall(context);\n\t\t\t\tbreak;\n\t\t\tcase enums.CONSTANTS.AUDIO[\"OUTGOING_CALL\"]:\n\t\t\t\tthis.pauseOutgoingCall(context);\n\t\t\t\tbreak;\n\t\t\tcase enums.CONSTANTS.AUDIO[\"INCOMING_MESSAGE\"]:\n\t\t\tcase enums.CONSTANTS.AUDIO[\"INCOMING_OTHER_MESSAGE\"]:\n\t\t\tcase enums.CONSTANTS.AUDIO[\"OUTGOING_MESSAGE\"]:\n\t\t\tdefault:\n\t\t\t\tbreak;\n\t\t}\n\t};\n\n\tstatic onIncomingMessage = context => {\n\t\tthis.enableSoundForMessages(context).then(response => {\n\t\t\tif (response === true) {\n\t\t\t\tif (this.incomingMessageAudio === null) {\n\t\t\t\t\timport(\"../resources/audio/incomingmessage.wav\").then(response => {\n\t\t\t\t\t\tthis.incomingMessageAudio = new Audio(response.default);\n\t\t\t\t\t\tthis.playMessageAlert(this.incomingMessageAudio);\n\t\t\t\t\t});\n\t\t\t\t} else {\n\t\t\t\t\tthis.playMessageAlert(this.incomingMessageAudio);\n\t\t\t\t}\n\t\t\t}\n\t\t});\n\t};\n\n\tstatic onIncomingOtherMessage = context => {\n\t\tthis.enableSoundForMessages(context).then(response => {\n\t\t\tif (response === true) {\n\t\t\t\tif (this.incomingOtherMessageAudio === null) {\n\t\t\t\t\timport(\"../resources/audio/incomingothermessage.wav\").then(response => {\n\t\t\t\t\t\tthis.incomingOtherMessageAudio = new Audio(response.default);\n\t\t\t\t\t\tthis.playMessageAlert(this.incomingOtherMessageAudio);\n\t\t\t\t\t});\n\t\t\t\t} else {\n\t\t\t\t\tthis.playMessageAlert(this.incomingOtherMessageAudio);\n\t\t\t\t}\n\t\t\t}\n\t\t});\n\t};\n\n\tstatic onOutgoingMessage = context => {\n\t\tthis.enableSoundForMessages(context).then(response => {\n\t\t\tif (response === true) {\n\t\t\t\tif (this.outgoingMessageAudio === null) {\n\t\t\t\t\timport(\"../resources/audio/outgoingmessage.wav\").then(response => {\n\t\t\t\t\t\tthis.outgoingMessageAudio = new Audio(response.default);\n\t\t\t\t\t\tthis.playMessageAlert(this.outgoingMessageAudio);\n\t\t\t\t\t});\n\t\t\t\t} else {\n\t\t\t\t\tthis.playMessageAlert(this.outgoingMessageAudio);\n\t\t\t\t}\n\t\t\t}\n\t\t});\n\t};\n\n\tstatic playMessageAlert = messageAudio => {\n\t\tmessageAudio.currentTime = 0;\n\t\tmessageAudio.play();\n\t};\n\n\tstatic onIncomingCall = context => {\n\t\tthis.enableSoundForCalls(context).then(response => {\n\t\t\tif (response === true) {\n\t\t\t\tif (this.incomingCallAudio === null) {\n\t\t\t\t\timport(\"../resources/audio/incomingcall.wav\").then(response => {\n\t\t\t\t\t\tthis.incomingCallAudio = new Audio(response.default);\n\t\t\t\t\t\tthis.playCallAlert(this.incomingCallAudio);\n\t\t\t\t\t});\n\t\t\t\t} else {\n\t\t\t\t\tthis.playCallAlert(this.incomingCallAudio);\n\t\t\t\t}\n\t\t\t}\n\t\t});\n\t};\n\n\tstatic onOutgoingCall = context => {\n\t\tthis.enableSoundForCalls(context).then(response => {\n\t\t\tif (response === true) {\n\t\t\t\tif (this.outgoingCallAudio === null) {\n\t\t\t\t\timport(\"../resources/audio/outgoingcall.wav\").then(response => {\n\t\t\t\t\t\tthis.outgoingCallAudio = new Audio(response.default);\n\t\t\t\t\t\tthis.playCallAlert(this.outgoingCallAudio);\n\t\t\t\t\t});\n\t\t\t\t} else {\n\t\t\t\t\tthis.playCallAlert(this.outgoingCallAudio);\n\t\t\t\t}\n\t\t\t}\n\t\t});\n\t};\n\n\tstatic playCallAlert = callAudio => {\n\t\ttry {\n\t\t\tcallAudio.currentTime = 0;\n\t\t\tif (typeof callAudio.loop == \"boolean\") {\n\t\t\t\tcallAudio.loop = true;\n\t\t\t} else {\n\t\t\t\tcallAudio.addEventListener(\n\t\t\t\t\t\"ended\",\n\t\t\t\t\tfunction () {\n\t\t\t\t\t\tthis.currentTime = 0;\n\t\t\t\t\t\tthis.play();\n\t\t\t\t\t},\n\t\t\t\t\tfalse,\n\t\t\t\t);\n\t\t\t}\n\t\t\tcallAudio.play();\n\t\t} catch (error) {}\n\t};\n\n\tstatic pauseIncomingCall = context => {\n\t\tthis.enableSoundForCalls(context).then(response => {\n\t\t\tif (response === true) {\n\t\t\t\tif (this.incomingCallAudio) {\n\t\t\t\t\tthis.incomingCallAudio.pause();\n\t\t\t\t}\n\t\t\t}\n\t\t});\n\t};\n\n\tstatic pauseOutgoingCall = context => {\n\t\tthis.enableSoundForCalls(context).then(response => {\n\t\t\tif (response === true) {\n\t\t\t\tif (this.outgoingCallAudio) {\n\t\t\t\t\tthis.outgoingCallAudio.pause();\n\t\t\t\t}\n\t\t\t}\n\t\t});\n\t};\n\n\tstatic enableSoundForCalls = context => {\n\t\treturn new Promise(resolve => {\n\t\t\tcontext.FeatureRestriction.isCallsSoundEnabled()\n\t\t\t\t.then(response => resolve(response))\n\t\t\t\t.catch(error => resolve(false));\n\t\t});\n\t};\n\n\tstatic enableSoundForMessages = context => {\n\t\treturn new Promise(resolve => {\n\t\t\tcontext.FeatureRestriction.isMessagesSoundEnabled()\n\t\t\t\t.then(response => resolve(response))\n\t\t\t\t.catch(error => resolve(false));\n\t\t});\n\t};\n}","export const incomingCallWrapperStyle = (props, keyframes) => {\n\n    const slideDown = keyframes`\n    0% { transform: translateY(-50px); }\n    100% { transform: translateY(0px); }\n    `;\n\n    let positionValue = \"absolute\";\n    let leftPos = \"0\";\n    let rightPos = \"0\";\n    let topPos = \"0\";\n    let bottomPos = \"unset\";\n    let zIndexValue = \"998\";\n    \n    if (props.hasOwnProperty(\"widgetsettings\")) {\n\n        if (props.widgetsettings.hasOwnProperty(\"dockedview\") && props.widgetsettings.dockedview) {\n\n            //if chat window is open\n            if (props.widgetsettings.hasOwnProperty(\"launched\") && props.widgetsettings.launched) {\n\n                zIndexValue = \"2147483000\";\n                positionValue = \"fixed\";\n                topPos = \"unset\";\n                bottomPos = \"100px\";\n                \n                if (props.widgetsettings.hasOwnProperty(\"alignment\") && props.widgetsettings.alignment === \"left\") {\n\n                    rightPos = \"unset\";\n                    leftPos = \"20px\";\n\n                    if (props.widgetsettings.hasOwnProperty(\"width\")) {\n\n                        if (props.widgetsettings.width.includes(\"px\")) {\n\n                            const widgetWidth = props.widgetsettings.width.replace(\"px\", \"\");\n                            rightPos = parseInt(widgetWidth) - 250 - 15;\n                            rightPos = rightPos + \"px\";\n                        }\n                    }\n\n                    if (props.widgetsettings.hasOwnProperty(\"height\")) {\n\n                        if (props.widgetsettings.height.includes(\"px\")) {\n\n                            const widgetHeight = props.widgetsettings.height.replace(\"px\", \"\");\n                            bottomPos = parseInt(widgetHeight) - 140 + 100;\n                            bottomPos = bottomPos + \"px\";\n                        }\n                    }\n                    \n                } else {\n\n                    leftPos = \"unset\";\n                    rightPos = \"20px\";\n                    \n                    if(props.widgetsettings.hasOwnProperty(\"width\")) {\n\n                        if (props.widgetsettings.width.includes(\"px\")) {\n\n                            const widgetWidth = props.widgetsettings.width.replace(\"px\", \"\");\n                            rightPos = parseInt(widgetWidth) - 250 - 15;\n                            rightPos = rightPos + \"px\";\n                        }\n                    }\n\n                    if (props.widgetsettings.hasOwnProperty(\"height\")) {\n\n                        if (props.widgetsettings.height.includes(\"px\")) {\n\n                            const widgetHeight = props.widgetsettings.height.replace(\"px\", \"\"); \n                            bottomPos = parseInt(widgetHeight) - 140 + 100;\n                            bottomPos = bottomPos + \"px\";\n                        }\n                    }\n                }\n                \n            } else {\n\n                leftPos = \"unset\";\n                positionValue = \"fixed\";\n            }\n        } else {\n            zIndexValue = \"2147483000\";\n        }\n    }\n\n    return {\n        position: positionValue,\n        top: topPos,\n        left: leftPos,\n        bottom: bottomPos,\n        right: rightPos,\n        borderRadius: \"10px\",\n        margin: \"16px\",\n        backgroundColor: `${props.theme.backgroundColor.callScreenGrey}`,\n        zIndex: zIndexValue,\n        color: `${props.theme.color.white}`,\n        textAlign: \"center\",\n        boxSizing: \"border-box\",\n        fontFamily: `${props.theme.fontFamily}`,\n        animation: `${slideDown} 250ms ease`,\n        width: \"248px\",\n        \"*\": {\n            boxSizing: \"border-box\",\n            fontFamily: `${props.theme.fontFamily}`,\n        },\n    }\n}\n\nexport const callContainerStyle = () => {\n\n    return {\n        display: \"flex\",\n        flexDirection: \"column\",\n        width: \"100%\",\n        padding: \"16px\",\n    }\n}\n\nexport const headerWrapperStyle = () => {\n\n    return {\n        width: \"100%\",\n        display: \"flex\",\n    }\n}\n\nexport const callDetailStyle = () => {\n\n    return {\n        width: \"calc(100% - 36px)\",\n        display: \"flex\",\n        flexDirection: \"column\",\n        justifyContent: \"center\",\n        alignItems: \"center\",\n        textAlign: \"left\"\n    }\n}\n\nexport const nameStyle = () => {\n\n    return {\n        fontSize: \"15px\",\n        fontWeight: \"600\",\n        display: \"block\",\n        width: \"100%\",\n        overflow: \"hidden\",\n        textOverflow: \"ellipsis\",\n        whiteSpace: \"nowrap\",\n        lineHeight: \"20px\",\n    }\n}\n\nexport const callTypeStyle = (props) => {\n\n    return {\n        fontSize: \"13px\",\n        width: \"100%\",\n        overflow: \"hidden\",\n        textOverflow: \"ellipsis\",\n        whiteSpace: \"nowrap\",\n        textTransform: \"capitalize\",\n        lineHeight: \"20px\",\n        color: \"#8A8A8A\",\n        display: \"flex\",\n        justifyContent: \"start\",\n        alignItems: \"center\",\n        padding: \"2px 0 0 0px\",\n        \"span\": {\n            padding: \"0 5px\"\n        }\n    }\n}\n\nexport const thumbnailStyle = () => {\n\n    return {\n        width: \"36px\",\n        height: \"36px\",\n        display: \"flex\",\n        justifyContent: \"center\",\n    }\n}\n\nexport const headerButtonStyle = () => {\n\n    return {\n        width: \"100%\",\n        display: \"flex\",\n        justifyContent: \"space-between\",\n        margin: \"10px 0 0 0\",\n    }\n}\n\nexport const ButtonStyle = (props, action) => {\n\n    const backgroundColor = (action) ? `${props.theme.backgroundColor.blue}!important` : `${props.theme.backgroundColor.red}!important`;\n\n    return {\n        cursor: \"pointer\",\n        padding: \"8px 16px\",\n        backgroundColor: backgroundColor,\n        borderRadius: \"5px\",\n        color: `${props.theme.color.white}`,\n        fontSize: \"100%\",\n        outline: \"0\",\n        border: \"0\",\n        width: \"49%\",\n        overflow: \"hidden\"\n    }\n}\n\nexport const callIconStyle = (img, context) => {\n\n    return {\n        width: \"24px\",\n        height: \"24px\",\n        display: \"inline-block\",\n        cursor: \"pointer\",\n        mask: `url(${img}) center center no-repeat`,\n        backgroundColor: `${context.theme.secondaryTextColor}`,\n    }\n}","export default __webpack_public_path__ + \"static/media/incoming-call.aaaf0cb6.svg\";","export default __webpack_public_path__ + \"static/media/incoming-video-call.37a9f849.svg\";","import React from \"react\";\n/** @jsxRuntime classic */\n/** @jsx jsx */\nimport { jsx, keyframes } from \"@emotion/core\";\nimport PropTypes from \"prop-types\";\nimport { CometChat } from \"@cometchat-pro/chat\";\n\nimport { CallAlertManager } from \"./controller\";\n\nimport { CometChatCallScreen } from \"../CometChatCallScreen\";\nimport { CometChatAvatar } from \"../../Shared\";\n\nimport { CometChatContext } from \"../../../util/CometChatContext\";\nimport * as enums from \"../../../util/enums.js\";\nimport { SoundManager } from \"../../../util/SoundManager\";\nimport { Storage } from \"../../../util/Storage\";\n\nimport { theme } from \"../../../resources/theme\";\nimport Translator from \"../../../resources/localization/translator\";\n\nimport {\n    incomingCallWrapperStyle,\n    callContainerStyle,\n    headerWrapperStyle,\n    callDetailStyle,\n    nameStyle,\n    callTypeStyle,\n    thumbnailStyle,\n    headerButtonStyle,\n    ButtonStyle,\n\tcallIconStyle\n} from \"./style\";\n\nimport audioCallIcon from \"./resources/incoming-call.svg\";\nimport videoCallIcon from \"./resources/incoming-video-call.svg\";\n\nclass CometChatIncomingCall extends React.PureComponent {\n\tstatic contextType = CometChatContext;\n\n\tconstructor(props) {\n\t\tsuper(props);\n\t\tthis._isMounted = false;\n\t\tthis.state = {\n\t\t\tincomingCall: null,\n\t\t\tcallInProgress: null,\n\t\t};\n\n\t\tthis.callButtonRef = React.createRef();\n\n\t\tCometChat.getLoggedinUser()\n\t\t\t.then(user => (this.loggedInUser = user))\n\t\t\t.catch(error => {\n\t\t\t\tconsole.error(error);\n\t\t\t});\n\t}\n\n\tcomponentDidMount() {\n\t\tthis._isMounted = true;\n\n\t\tthis.CallAlertManager = new CallAlertManager();\n\t\tthis.CallAlertManager.attachListeners(this.callScreenUpdated);\n\n\t\tStorage.attachChangeDetection(this.logStorageChange);\n\t}\n\n\tcomponentDidUpdate() {\n\t\tif (this.state.incomingCall) {\n\t\t\tthis.adjustFontSize();\n\t\t}\n\t}\n\n\tcomponentWillUnmount() {\n\t\tthis._isMounted = false;\n\t\tStorage.detachChangeDetection(this.logStorageChange);\n\t}\n\n\tadjustFontSize = () => {\n\t\tif (this.callButtonRef && this.callButtonRef.current) {\n\t\t\tlet reduceFontSize = false;\n\t\t\tconst buttonNodeList = this.callButtonRef.current.querySelectorAll(\"button\");\n\n\t\t\tbuttonNodeList.forEach(buttonNode => {\n\t\t\t\tconst parentContainerWidth = buttonNode.clientWidth;\n\t\t\t\tconst currentTextWidth = buttonNode.scrollWidth;\n\n\t\t\t\tif (parentContainerWidth < currentTextWidth) {\n\t\t\t\t\treduceFontSize = true;\n\t\t\t\t}\n\t\t\t});\n\n\t\t\tif (reduceFontSize) {\n\t\t\t\tbuttonNodeList.forEach(buttonNode => {\n\t\t\t\t\tbuttonNode.style.fontSize = \"85%\";\n\t\t\t\t});\n\t\t\t}\n\t\t}\n\t};\n\n\tcallScreenUpdated = (key, call) => {\n\t\tswitch (key) {\n\t\t\tcase enums.INCOMING_CALL_RECEIVED: //occurs at the callee end\n\t\t\t\tthis.incomingCallReceived(call);\n\t\t\t\tbreak;\n\t\t\tcase enums.INCOMING_CALL_CANCELLED: //occurs(call dismissed) at the callee end, caller cancels the call\n\t\t\t\tthis.incomingCallCancelled(call);\n\t\t\t\tbreak;\n\t\t\tcase enums.OUTGOING_CALL_ACCEPTED: //occurs(call dismissed) at the callee end, caller cancels the call\n\t\t\t\tthis.outgoingCallAccepted(call);\n\t\t\t\tbreak;\n\t\t\tdefault:\n\t\t\t\tbreak;\n\t\t}\n\t};\n\n\tincomingCallReceived = incomingCall => {\n\t\tif (this._isMounted) {\n\t\t\tif (this.state.incomingCall === null) {\n\t\t\t\tif (incomingCall?.callInitiator.uid !== this.loggedInUser?.uid) {\n\t\t\t\t\tSoundManager.play(enums.CONSTANTS.AUDIO[\"INCOMING_CALL\"], this.context);\n\t\t\t\t\tthis.setState({ incomingCall: incomingCall });\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t};\n\n\tincomingCallCancelled = call => {\n\t\tif (this._isMounted) {\n\t\t\t//we are not marking this as read as it will done in messagelist component\n\t\t\tSoundManager.pause(enums.CONSTANTS.AUDIO[\"INCOMING_CALL\"], this.context);\n\t\t\tthis.setState({ incomingCall: null });\n\t\t}\n\t};\n\n\toutgoingCallAccepted = call => {\n\n\t\tif(call.sender?.uid === this.loggedInUser?.uid) {\n\t\t\tif (this._isMounted) {\n\t\t\t\t//we are not marking this as read as it will done in messagelist component\n\t\t\t\tSoundManager.pause(enums.CONSTANTS.AUDIO[\"INCOMING_CALL\"], this.context);\n\t\t\t\tthis.setState({ incomingCall: null });\n\t\t\t}\n\t\t}\n\t};\n\n\trejectCall = () => {\n\t\tSoundManager.pause(enums.CONSTANTS.AUDIO[\"INCOMING_CALL\"], this.context);\n\t\tlet callStatus = this.isCallActive() ? CometChat.CALL_STATUS.BUSY : CometChat.CALL_STATUS.REJECTED;\n\n\t\tCometChat.rejectCall(this.state.incomingCall.sessionId, callStatus)\n\t\t\t.then(rejectedCall => {\n\t\t\t\tif (this.isCallActive() === false) {\n\t\t\t\t\tif (this.context) {\n\t\t\t\t\t\tthis.context.setCallInProgress(null, \"\");\n\t\t\t\t\t}\n\t\t\t\t\tStorage.setItem(enums.CONSTANTS[\"ACTIVECALL\"], rejectedCall);\n\t\t\t\t\tthis.props.actionGenerated(enums.ACTIONS[\"INCOMING_CALL_REJECTED\"], rejectedCall);\n\t\t\t\t\tthis.setState({ callInProgress: null });\n\t\t\t\t}\n\n\t\t\t\tthis.setState({ incomingCall: null });\n\t\t\t})\n\t\t\t.catch(error => {\n\t\t\t\tthis.setState({ incomingCall: null, callInProgress: null });\n\t\t\t\tconst errorCode = error && error.hasOwnProperty(\"code\") ? error.code : \"ERROR\";\n\t\t\t\tthis.context.setToastMessage(\"error\", errorCode);\n\t\t\t});\n\t};\n\n\tacceptCall = () => {\n\t\tthis.checkForActiveCallAndEndCall()\n\t\t\t.then(response => {\n\t\t\t\tSoundManager.pause(enums.CONSTANTS.AUDIO[\"INCOMING_CALL\"], this.context);\n\t\t\t\tCometChat.acceptCall(this.state.incomingCall.sessionId)\n\t\t\t\t\t.then(call => {\n\t\t\t\t\t\tif (this.context) {\n\t\t\t\t\t\t\tthis.context.setCallInProgress(call, enums.CONSTANTS[\"INCOMING_DEFAULT_CALLING\"]);\n\t\t\t\t\t\t}\n\t\t\t\t\t\tStorage.setItem(enums.CONSTANTS[\"ACTIVECALL\"], call);\n\t\t\t\t\t\tthis.props.actionGenerated(enums.ACTIONS[\"INCOMING_CALL_ACCEPTED\"], call);\n\t\t\t\t\t\tthis.setState({ incomingCall: null, callInProgress: call });\n\t\t\t\t\t})\n\t\t\t\t\t.catch(error => {\n\t\t\t\t\t\tif (this.context) {\n\t\t\t\t\t\t\tthis.context.setCallInProgress(null, \"\");\n\t\t\t\t\t\t}\n\t\t\t\t\t\tthis.setState({ incomingCall: null, callInProgress: null });\n\n\t\t\t\t\t\tconst errorCode = error && error.hasOwnProperty(\"code\") ? error.code : \"ERROR\";\n\t\t\t\t\t\tthis.context.setToastMessage(\"error\", errorCode);\n\t\t\t\t\t});\n\t\t\t})\n\t\t\t.catch(error => {\n\t\t\t\tconst errorCode = error && error.hasOwnProperty(\"code\") ? error.code : \"ERROR\";\n\t\t\t\tthis.context.setToastMessage(\"error\", errorCode);\n\t\t\t});\n\t};\n\n\tisCallActive = () => {\n\t\tif (Object.keys(this.context.callInProgress).length === 0) {\n\t\t\treturn false;\n\t\t}\n\n\t\tlet sessionID = this.getActiveCallSessionID();\n\t\tif (!sessionID) {\n\t\t\treturn false;\n\t\t}\n\n\t\treturn true;\n\t};\n\n\tgetActiveCallSessionID = () => {\n\t\treturn this.context.getActiveCallSessionID();\n\t};\n\n\tcheckForActiveCallAndEndCall = () => {\n\t\tconst promise = new Promise((resolve, reject) => {\n\t\t\tif (this.isCallActive() === false) {\n\t\t\t\treturn resolve({ success: true });\n\t\t\t}\n\n\t\t\tlet sessionID = this.getActiveCallSessionID();\n\t\t\tCometChat.endCall(sessionID)\n\t\t\t\t.then(response => {\n\t\t\t\t\treturn resolve(response);\n\t\t\t\t})\n\t\t\t\t.catch(error => {\n\t\t\t\t\treturn reject(error);\n\t\t\t\t});\n\t\t});\n\n\t\treturn promise;\n\t};\n\n\tactionHandler = (action, call) => {\n\t\tswitch (action) {\n\t\t\tcase enums.ACTIONS[\"OUTGOING_CALL_ENDED\"]:\n\t\t\t\tthis.setState({ callInProgress: null });\n\t\t\t\tbreak;\n\t\t\tcase enums.ACTIONS[\"USER_JOINED_CALL\"]:\n\t\t\tcase enums.ACTIONS[\"USER_LEFT_CALL\"]:\n\t\t\t\tthis.props.actionGenerated(action, call);\n\t\t\t\tbreak;\n\t\t\tdefault:\n\t\t\t\tbreak;\n\t\t}\n\t};\n\n\tlogStorageChange = event => {\n\t\tif (event?.key !== enums.CONSTANTS[\"ACTIVECALL\"]) {\n\t\t\treturn false;\n\t\t}\n\n\t\tif (event.newValue || event.oldValue) {\n\t\t\tlet call;\n\t\t\tif (event.newValue) {\n\t\t\t\tcall = JSON.parse(event.newValue);\n\t\t\t} else if (event.oldValue) {\n\t\t\t\tcall = JSON.parse(event.oldValue);\n\t\t\t}\n\n\t\t\tif (this.state.incomingCall?.getSessionId() === call?.sessionId) {\n\t\t\t\tSoundManager.pause(enums.CONSTANTS.AUDIO[\"INCOMING_CALL\"], this.context);\n\t\t\t\tthis.setState({ incomingCall: null });\n\t\t\t}\n\t\t}\n\t};\n\n\trender() {\n\t\tlet callScreen = null,\n\t\t\tincomingCallAlert = null;\n\t\tif (this.state.incomingCall) {\n\t\t\tlet callType = (\n\t\t\t\t<React.Fragment>\n\t\t\t\t\t<i css={callIconStyle(audioCallIcon, this.context)} title={Translator.translate(\"INCOMING_AUDIO_CALL\", this.props.lang)}></i>\n\t\t\t\t\t{/* <span>{Translator.translate(\"INCOMING_AUDIO_CALL\", this.props.lang)}</span> */}\n\t\t\t\t\t<span>Cuộc gọi đến</span>\n\t\t\t\t</React.Fragment>\n\t\t\t);\n\t\t\tif (this.state.incomingCall.type === CometChat.CALL_TYPE.VIDEO) {\n\t\t\t\tcallType = (\n\t\t\t\t\t<React.Fragment>\n\t\t\t\t\t\t<i css={callIconStyle(videoCallIcon, this.context)} title={Translator.translate(\"INCOMING_VIDEO_CALL\", this.props.lang)}></i>\n\t\t\t\t\t\t{/* <span>{Translator.translate(\"INCOMING_VIDEO_CALL\", this.props.lang)}</span> */}\n\t\t\t\t\t<span>Cuộc gọi video đến</span>\n\t\t\t\t\t</React.Fragment>\n\t\t\t\t);\n\t\t\t}\n\n\t\t\tincomingCallAlert = (\n\t\t\t\t<div css={incomingCallWrapperStyle(this.props, keyframes)} className=\"callalert__wrapper\">\n\t\t\t\t\t<div css={callContainerStyle()} className=\"callalert__container\">\n\t\t\t\t\t\t<div css={headerWrapperStyle()} className=\"callalert__header\">\n\t\t\t\t\t\t\t<div css={callDetailStyle()} className=\"header__detail\">\n\t\t\t\t\t\t\t\t<div css={nameStyle()} className=\"name\">\n\t\t\t\t\t\t\t\t\t{this.state.incomingCall.sender.name}\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t<div css={callTypeStyle(this.props)} className=\"calltype\">\n\t\t\t\t\t\t\t\t\t{callType}\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<div css={thumbnailStyle()} className=\"header__thumbnail\">\n\t\t\t\t\t\t\t\t<CometChatAvatar user={this.state.incomingCall.sender} />\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div css={headerButtonStyle()} className=\"callalert__buttons\" ref={this.callButtonRef}>\n\t\t\t\t\t\t\t<button type=\"button\" css={ButtonStyle(this.props, 0)} className=\"button button__decline\" onClick={() => this.rejectCall(this.state.incomingCall, CometChat.CALL_STATUS.REJECTED)}>\n\t\t\t\t\t\t\t\t{/* {Translator.translate(\"DECLINE\", this.props.lang)} */}\n\t\t\t\t\t\t\t\tTừ chối\n\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t\t<button type=\"button\" css={ButtonStyle(this.props, 1)} className=\"button button__accept\" onClick={this.acceptCall}>\n\t\t\t\t\t\t\t\t{/* {Translator.translate(\"ACCEPT\", this.props.lang)} */}\n\t\t\t\t\t\t\t\tChấp nhận\n\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t);\n\t\t}\n\n\t\tif (this.state.callInProgress) {\n\t\t\tcallScreen = <CometChatCallScreen loggedInUser={this.loggedInUser} call={this.state.callInProgress} lang={this.props.lang} actionGenerated={this.actionHandler} />;\n\t\t}\n\n\t\treturn (\n\t\t\t<React.Fragment>\n\t\t\t\t{incomingCallAlert}\n\t\t\t\t{callScreen}\n\t\t\t</React.Fragment>\n\t\t);\n\t}\n}\n\n// Specifies the default values for props:\nCometChatIncomingCall.defaultProps = {\n    lang: Translator.getDefaultLanguage(),\n    theme: theme\n};\n\nCometChatIncomingCall.propTypes = {\n    lang: PropTypes.string,\n    theme: PropTypes.object\n}\n\nexport { CometChatIncomingCall };\n","import { CometChat } from \"@cometchat-pro/chat\";\n\nimport * as enums from \"../../../util/enums.js\";\n\nexport class CallScreenManager {\n\n\tcallListenerId = \"callscreen_\" + new Date().getTime();\n\n\tattachListeners(callback) {\n\n\t\tCometChat.addCallListener(\n\t\t\tthis.callListenerId,\n\t\t\tnew CometChat.CallListener({\n\t\t\t\tonOutgoingCallAccepted: call => {\n\t\t\t\t\tcallback(enums.OUTGOING_CALL_ACCEPTED, call);\n\t\t\t\t},\n\t\t\t\tonOutgoingCallRejected: call => {\n\t\t\t\t\tcallback(enums.OUTGOING_CALL_REJECTED, call);\n\t\t\t\t},\n\t\t\t\tonIncomingCallCancelled: call => {\n\t\t\t\t\tcallback(enums.INCOMING_CALL_CANCELLED, call);\n\t\t\t\t}\n\t\t\t})\n\t\t);\n\t}\n\n\tremoveListeners() {\n\t\tCometChat.removeCallListener(this.callListenerId);\n\t}\n}","export const callScreenWrapperStyle = (props, keyframes) => {\n\n    let styles = {\n        width: \"100%\",\n        height: \"100%\",\n        position: \"absolute\",\n        top: \"0\",\n        right: \"0\",\n        bottom: \"0\",\n        left: \"0\",\n        zIndex: \"999\",\n    }\n\n    if (props.widgetsettings) {\n\n        styles = {\n            width: \"100%\",\n            height: \"100%\",\n            position: \"fixed\",\n            top: \"0\",\n            right: \"0\",\n            bottom: \"0\",\n            left: \"0\",\n            zIndex: \"2147483000\",\n        }\n    }\n\n    const fadeAnimation = keyframes`\n    from {\n        opacity: 0;\n    }\n    to {\n        opacity: 1;\n    }`;\n\n    return {\n        ...styles,\n        backgroundColor: `${props.theme.backgroundColor.darkGrey}`,\n        color: `${props.theme.color.white}`,\n        textAlign: \"center\",\n        boxSizing: \"border-box\",\n        animation: `${fadeAnimation} 250ms ease`,\n        fontFamily: `${props.theme.fontFamily}`,\n        \"*\": {\n            boxSizing: \"border-box\",\n            fontFamily: `${props.theme.fontFamily}`,\n        },\n    }\n}\n\nexport const callScreenContainerStyle = () => {\n\n    return {\n        display: \"flex\",\n        flexDirection: \"column\",\n        height: \"100%\",\n        width: \"100%\"\n    }\n}\n\nexport const headerStyle = () => {\n\n    return {\n        padding: \"20px 10px\",\n        width: \"100%\",\n        height: \"20%\",\n    }\n}\n\nexport const headerDurationStyle = () => {\n\n    return {\n        fontSize: \"13px\",\n        display: \"inline-block\",\n        padding: \"5px\"\n    }\n}\n\nexport const headerNameStyle = () => {\n\n    return {\n        margin: \"0\",\n        fontWeight: \"700\",\n        textTransform: \"capitalize\",\n        fontSize: \"16px\",\n    }\n}\n\nexport const thumbnailWrapperStyle = () => {\n\n    return {\n        width: \"100%\",\n        height: \"50%\",\n        display: \"flex\",\n        justifyContent: \"center\",\n        alignItems: \"center\"\n    }\n}\n\nexport const thumbnailStyle = () => {\n\n    return {\n        width: \"200px\",\n        flexShrink: \"0\",\n    }\n}\n\nexport const headerIconStyle = () => {\n\n    return {\n        width: \"100%\",\n        height: \"15%\",\n        padding: \"10px\",\n        display: \"flex\",\n        justifyContent: \"center\"\n    }\n}\n\nexport const iconWrapperStyle = () => {\n\n    return {\n        display: \"flex\"\n    }\n}\n\nexport const iconStyle = (img) => {\n\n    return {\n        width: \"50px\",\n        height: \"50px\",\n        borderRadius: \"27px\",\n        backgroundColor: \"red\",\n        display: \"flex\",\n        margin: \"auto 10px\",\n        cursor: \"pointer\",\n        justifyContent: \"center\",\n        alignItems: \"center\",\n        \"i\": {\n            mask: `url(${img}) center center no-repeat`,\n            backgroundColor: `white`,\n            display: \"inline-block\",\n            width: \"24px\",\n            height: \"24px\",\n        },\n    };\n}\n\nexport const errorContainerStyle = () => {\n\n    return {\n        color: \"#fff\",\n        textAlign: \"center\",\n        borderRadius: \"2px\",\n        padding: \"13px 10px\",\n        fontSize: \"13px\",\n        width: \"100%\",\n        height: \"10%\",\n        backgroundColor: \"#333\",\n    }\n}\n","export default __webpack_public_path__ + \"static/media/end-call.0d5e5b21.svg\";","import React from \"react\";\n/** @jsxRuntime classic */\n/** @jsx jsx */\nimport { jsx, keyframes } from \"@emotion/core\";\nimport PropTypes from 'prop-types';\nimport { CometChat } from \"@cometchat-pro/chat\";\n\nimport { CallScreenManager } from \"./controller\";\n\nimport { CometChatCallScreen } from \"../CometChatCallScreen\";\nimport { CometChatAvatar } from \"../../Shared\";\n\nimport { CometChatContext } from \"../../../util/CometChatContext\";\nimport * as enums from \"../../../util/enums.js\";\nimport { SoundManager } from \"../../../util/SoundManager\";\n\nimport Translator from \"../../../resources/localization/translator\";\nimport { theme } from \"../../../resources/theme\";\n\nimport {\n\tcallScreenWrapperStyle,\n\tcallScreenContainerStyle,\n\theaderStyle,\n\theaderDurationStyle,\n\theaderNameStyle,\n\tthumbnailWrapperStyle,\n\tthumbnailStyle,\n\theaderIconStyle,\n\ticonWrapperStyle,\n\ticonStyle,\n\terrorContainerStyle\n} from \"./style\"; \n\nimport callIcon from \"./resources/end-call.svg\";\n\nclass CometChatOutgoingCall extends React.PureComponent {\n\n\tstatic contextType = CometChatContext;\n\n\tconstructor(props) {\n\n\t\tsuper(props);\n\n\t\tthis.callScreenFrame = React.createRef();\n\n\t\tthis.state = {\n\t\t\terrorScreen: false,\n\t\t\terrorMessage: null,\n\t\t\toutgoingCallScreen: false,\n\t\t\tcallInProgress: null,\n\t\t}\n\n\t\tCometChat.getLoggedinUser().then(user => this.loggedInUser = user).catch(error => {\n\t\t\tconsole.error(error);\n\t\t});\n\t}\n\n\tcomponentDidMount() {\n\n\t\tthis.CallScreenManager = new CallScreenManager();\n\t\tthis.CallScreenManager.attachListeners(this.callScreenUpdated);\n\t}\n\n\tcomponentWillUnmount() {\n\t\tthis.CallScreenManager.removeListeners();\n\t\tthis.CallScreenManager = null;\n\t}\n\n\tcallScreenUpdated = (key, call) => {\n\n\t\tswitch (key) {\n\n\t\t\tcase enums.OUTGOING_CALL_ACCEPTED://occurs at the caller end\n\t\t\t\tthis.outgoingCallAccepted(call);\n\t\t\tbreak;\n\t\t\tcase enums.OUTGOING_CALL_REJECTED://occurs at the caller end, callee rejects the call\n\t\t\t\tthis.outgoingCallRejected(call);\n\t\t\tbreak;\n\t\t\tdefault:\n\t\t\tbreak;\n\t\t}\n\t}\n\n\toutgoingCallAccepted = (call) => {\n\n\t\tif (this.state.outgoingCallScreen === true) {\n\n\t\t\tthis.props.actionGenerated(enums.ACTIONS[\"OUTGOING_CALL_ACCEPTED\"], call);\n\n\t\t\tSoundManager.pause(enums.CONSTANTS.AUDIO[\"OUTGOING_CALL\"], this.context);\n\t\t\tthis.setState({ outgoingCallScreen: false, callInProgress: call, errorScreen: false, errorMessage: null });\n\n\t\t\tif(this.context) {\n\t\t\t\tthis.context.setCallInProgress(call, enums.CONSTANTS[\"OUTGOING_DEFAULT_CALLING\"]);\n\t\t\t}\n\t\t}\n\t}\n\n\toutgoingCallRejected = (call) => {\n\n\t\tSoundManager.pause(enums.CONSTANTS.AUDIO[\"OUTGOING_CALL\"], this.context);\n\t\tif (call.hasOwnProperty(\"status\") && call.status === CometChat.CALL_STATUS.BUSY) {\n\n\t\t\t//show busy message.\n\t\t\tconst errorMessage = `${call.sender.name} ${Translator.translate(\"ON_ANOTHER_CALL\", this.props.lang)}`;\n\t\t\tthis.setState({ errorScreen: true, errorMessage: errorMessage });\n\t\t\tthis.clearCallInProgress();\n\n\t\t} else {\n\n\t\t\tthis.props.actionGenerated(enums.ACTIONS[\"OUTGOING_CALL_REJECTED\"], call);\n\t\t\tthis.setState({ outgoingCallScreen: false, callInProgress: null, errorScreen: false, errorMessage: null });\n\t\t\tthis.clearCallInProgress();\n\n\t\t}\n\t}\n\n\tstartCall = (call) => {\n\n\t\tSoundManager.play(enums.CONSTANTS.AUDIO[\"OUTGOING_CALL\"], this.context);\n\t\tthis.setState({ outgoingCallScreen: true, callInProgress: call, errorScreen: false, errorMessage: null });\n\t}\n\n\tactionHandler = (action, call) => {\n\n\t\tswitch (action) {\n\n\t\t\tcase enums.ACTIONS[\"OUTGOING_CALL_ENDED\"]:\n\t\t\t\tthis.setState({ callInProgress: null });\n\t\t\tbreak;\n\t\t\tcase enums.ACTIONS[\"USER_JOINED_CALL\"]:\n\t\t\tcase enums.ACTIONS[\"USER_LEFT_CALL\"]:\n\t\t\t\tthis.props.actionGenerated(action, call);\n\t\t\tbreak;\n\t\t\tdefault:\n\t\t\tbreak;\n\t\t}\n\t}\n\n\t//cancelling an outgoing call\n\tcancelCall = () => {\n\n\t\tSoundManager.pause(enums.CONSTANTS.AUDIO[\"OUTGOING_CALL\"], this.context);\n\t\t//if user busy error, just close the callscreen, no need to reject the call\n\t\tif (this.state.errorScreen) {\n\n\t\t\tthis.setState({ errorScreen: false, errorMessage: null, outgoingCallScreen: false, callInProgress: null });\n\t\t\tthis.clearCallInProgress();\n\t\t\tthis.props.actionGenerated(enums.ACTIONS[\"OUTGOING_CALL_CANCELLED\"]);\n\n\t\t} else {\n\n\t\t\tCometChat.rejectCall(this.state.callInProgress.sessionId, CometChat.CALL_STATUS.CANCELLED).then(call => {\n\n\t\t\t\tthis.setState({ outgoingCallScreen: false, callInProgress: null });\n\t\t\t\tthis.clearCallInProgress();\n\t\t\t\tthis.props.actionGenerated(enums.ACTIONS[\"OUTGOING_CALL_CANCELLED\"]);\n\n\t\t\t}).catch(error => {\n\n\t\t\t\tthis.setState({ outgoingCallScreen: false, callInProgress: null });\n\t\t\t\tthis.clearCallInProgress();\n\n\t\t\t});\n\t\t}\n\t}\n\n\tclearCallInProgress = () => {\n\t\tif (this.context) {\n\t\t\tthis.context.setCallInProgress(null, \"\");\n\t\t}\n\t}\n\n\trender() {\n\n\t\tlet callScreen = null, errorScreen = null;\n\t\tif (this.state.callInProgress) {\n\n\t\t\tlet avatar = (<CometChatAvatar user={this.state.callInProgress.receiver} />);\n\t\t\tif (this.state.errorScreen) {\n\t\t\t\terrorScreen = (\n\t\t\t\t\t<div css={errorContainerStyle()} className=\"callscreen__error__wrapper\"><div>{this.state.errorMessage}</div></div>\n\t\t\t\t);\n\t\t\t}\n\n\t\t\tif (this.state.outgoingCallScreen) {\n\t\t\t\tcallScreen = (\n\t\t\t\t\t<div css={callScreenWrapperStyle(this.props, keyframes)} className=\"callscreen__wrapper\" ref={el => { this.callScreenFrame = el; }}>\n\t\t\t\t\t\t<div css={callScreenContainerStyle()} className=\"callscreen__container\">\n\t\t\t\t\t\t\t<div css={headerStyle()} className=\"callscreen__header\">\n\t\t\t\t\t\t\t\t{/* <span css={headerDurationStyle()} className=\"header__calling\">{Translator.translate(\"CALLING\", this.props.lang)}</span> */}\n\t\t\t\t\t\t\t\t<span css={headerDurationStyle()} className=\"header__calling\">Đang gọi</span>\n\t\t\t\t\t\t\t\t<h6 css={headerNameStyle()} className=\"header__name\">{this.state.callInProgress.receiver.name}</h6>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<div css={thumbnailWrapperStyle()} className=\"callscreen__thumbnail__wrapper\">\n\t\t\t\t\t\t\t\t<div css={thumbnailStyle()} className=\"callscreen__thumbnail\">{avatar}</div>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t{errorScreen}\n\t\t\t\t\t\t\t<div css={headerIconStyle()} className=\"callscreen__icons\">\n\t\t\t\t\t\t\t\t<div css={iconWrapperStyle()} className=\"icon__block\" onClick={this.cancelCall}>\n\t\t\t\t\t\t\t\t\t<div css={iconStyle(callIcon)} className=\"icon icon__end\"><i></i></div>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t);\n\t\t\t} else {\n\t\t\t\tcallScreen = <CometChatCallScreen loggedInUser={this.loggedInUser} call={this.state.callInProgress} lang={this.props.lang} actionGenerated={this.actionHandler} />;\n\t\t\t}\n\t\t}\n\t\treturn callScreen;\n\t}\n}\n\n// Specifies the default values for props:\nCometChatOutgoingCall.defaultProps = {\n\tlang: Translator.getDefaultLanguage(),\n\ttheme: theme,\n};\n\nCometChatOutgoingCall.propTypes = {\n\tlang: PropTypes.string,\n\ttheme: PropTypes.object,\n}\n\nexport { CometChatOutgoingCall };\n","import { CometChat } from \"@cometchat-pro/chat\";\n\nimport * as enums from \"../../../util/enums.js\";\n\nexport class messageAlertManager {\n\n    msgListenerId = \"incoming_message_\" + new Date().getTime();\n\n    attachListeners(callback) {\n\n        CometChat.addMessageListener(\n            this.msgListenerId,\n            new CometChat.MessageListener({\n                onCustomMessageReceived: customMessage => {\n                    callback(enums.CUSTOM_MESSAGE_RECEIVED, customMessage);\n                }\n            })\n        );\n    }\n\n    removeListeners() {\n        CometChat.removeMessageListener(this.msgListenerId);\n    }\n}\n","export const incomingCallWrapperStyle = (props, keyframes) => {\n\n    const slideDown = keyframes`\n    0% { transform: translateY(-50px); }\n    100% { transform: translateY(0px); }\n    `;\n\n    let positionValue = \"absolute\";\n    let leftPos = \"0\";\n    let rightPos = \"0\";\n    let topPos = \"0\";\n    let bottomPos = \"unset\";\n    let zIndexValue = \"998\";\n\n    if (props.hasOwnProperty(\"widgetsettings\")) {\n\n        if (props.widgetsettings.hasOwnProperty(\"dockedview\") && props.widgetsettings.dockedview) {\n\n            //if chat window is open\n            if (props.widgetsettings.hasOwnProperty(\"launched\") && props.widgetsettings.launched) {\n\n                zIndexValue = \"2147483000\";\n                positionValue = \"fixed\";\n                topPos = \"unset\";\n                bottomPos = \"100px\";\n\n                if (props.widgetsettings.hasOwnProperty(\"alignment\") && props.widgetsettings.alignment === \"left\") {\n\n                    rightPos = \"unset\";\n                    leftPos = \"20px\";\n\n                    if (props.widgetsettings.hasOwnProperty(\"width\")) {\n\n                        if (props.widgetsettings.width.includes(\"px\")) {\n\n                            const widgetWidth = props.widgetsettings.width.replace(\"px\", \"\");\n                            rightPos = parseInt(widgetWidth) - 250 - 15;\n                            rightPos = rightPos + \"px\";\n                        }\n                    }\n\n                    if (props.widgetsettings.hasOwnProperty(\"height\")) {\n\n                        if (props.widgetsettings.height.includes(\"px\")) {\n\n                            const widgetHeight = props.widgetsettings.height.replace(\"px\", \"\");\n                            bottomPos = parseInt(widgetHeight) - 140 + 100;\n                            bottomPos = bottomPos + \"px\";\n                        }\n                    }\n\n                } else {\n\n                    leftPos = \"unset\";\n                    rightPos = \"20px\";\n\n                    if (props.widgetsettings.hasOwnProperty(\"width\")) {\n\n                        if (props.widgetsettings.width.includes(\"px\")) {\n\n                            const widgetWidth = props.widgetsettings.width.replace(\"px\", \"\");\n                            rightPos = parseInt(widgetWidth) - 250 - 15;\n                            rightPos = rightPos + \"px\";\n                        }\n                    }\n\n                    if (props.widgetsettings.hasOwnProperty(\"height\")) {\n\n                        if (props.widgetsettings.height.includes(\"px\")) {\n\n                            const widgetHeight = props.widgetsettings.height.replace(\"px\", \"\");\n                            bottomPos = parseInt(widgetHeight) - 140 + 100;\n                            bottomPos = bottomPos + \"px\";\n                        }\n                    }\n                }\n\n            } else {\n\n                leftPos = \"unset\";\n                positionValue = \"fixed\";\n            }\n        } else {\n            zIndexValue = \"2147483000\";\n        }\n    }\n\n    return {\n        position: positionValue,\n        top: topPos,\n        left: leftPos,\n        bottom: bottomPos,\n        right: rightPos,\n        borderRadius: \"10px\",\n        margin: \"16px\",\n        backgroundColor: `${props.theme.backgroundColor.callScreenGrey}`,\n        zIndex: zIndexValue,\n        color: `${props.theme.color.white}`,\n        textAlign: \"center\",\n        boxSizing: \"border-box\",\n        fontFamily: `${props.theme.fontFamily}`,\n        animation: `${slideDown} 250ms ease`,\n        width: \"248px\",\n        \"*\": {\n            boxSizing: \"border-box\",\n            fontFamily: `${props.theme.fontFamily}`,\n        },\n    }\n}\n\nexport const callContainerStyle = () => {\n\n    return {\n        display: \"flex\",\n        flexDirection: \"column\",\n        width: \"100%\",\n        padding: \"16px\",\n    }\n}\n\nexport const headerWrapperStyle = () => {\n\n    return {\n        width: \"100%\",\n        display: \"flex\",\n    }\n}\n\nexport const callDetailStyle = () => {\n\n    return {\n        width: \"calc(100% - 36px)\",\n        display: \"flex\",\n        flexDirection: \"column\",\n        justifyContent: \"center\",\n        alignItems: \"center\",\n        textAlign: \"left\"\n    }\n}\n\nexport const nameStyle = () => {\n\n    return {\n        fontSize: \"15px\",\n        fontWeight: \"600\",\n        display: \"block\",\n        width: \"100%\",\n        overflow: \"hidden\",\n        textOverflow: \"ellipsis\",\n        whiteSpace: \"nowrap\",\n        lineHeight: \"20px\",\n    }\n}\n\nexport const callTypeStyle = (props) => {\n\n    return {\n        fontSize: \"13px\",\n        width: \"100%\",\n        overflow: \"hidden\",\n        textOverflow: \"ellipsis\",\n        whiteSpace: \"nowrap\",\n        textTransform: \"capitalize\",\n        lineHeight: \"20px\",\n        color: \"#8A8A8A\",\n        display: \"flex\",\n        justifyContent: \"start\",\n        alignItems: \"center\",\n        padding: \"2px 0 0 0px\",\n        \"span\": {\n            padding: \"0 5px\"\n        }\n    }\n}\n\nexport const thumbnailStyle = () => {\n\n    return {\n        width: \"36px\",\n        height: \"36px\",\n        display: \"flex\",\n        justifyContent: \"center\",\n    }\n}\n\nexport const headerButtonStyle = () => {\n\n    return {\n        width: \"100%\",\n        display: \"flex\",\n        justifyContent: \"space-between\",\n        margin: \"10px 0 0 0\",\n    }\n}\n\nexport const ButtonStyle = (props, action) => {\n\n    const backgroundColor = (action) ? `${props.theme.backgroundColor.blue}!important` : `${props.theme.backgroundColor.red}!important`;\n\n    return {\n\t\t\tcursor: \"pointer\",\n\t\t\tpadding: \"8px 16px\",\n\t\t\tbackgroundColor: backgroundColor,\n\t\t\tborderRadius: \"5px\",\n\t\t\tcolor: `${props.theme.color.white}`,\n\t\t\tfontSize: \"100%\",\n\t\t\toutline: \"0\",\n\t\t\tborder: \"0\",\n\t\t\twidth: \"49%\",\n\t\t\toverflow: \"hidden\",\n\t\t};\n}\n\nexport const callIconStyle = (img, context) => {\n\treturn {\n\t\twidth: \"24px\",\n\t\theight: \"24px\",\n\t\tdisplay: \"inline-block\",\n\t\tcursor: \"pointer\",\n\t\tmask: `url(${img}) center center no-repeat`,\n\t\tbackgroundColor: `${context.theme.secondaryTextColor}`,\n\t};\n};","export default __webpack_public_path__ + \"static/media/incoming-video-call.37a9f849.svg\";","import React from \"react\";\n/** @jsxRuntime classic */\n/** @jsx jsx */\nimport { jsx, keyframes } from \"@emotion/core\";\nimport PropTypes from \"prop-types\";\nimport { CometChat } from \"@cometchat-pro/chat\";\n\nimport { messageAlertManager } from \"./controller\";\n\nimport { CometChatAvatar } from \"../../Shared\";\nimport { CometChatCallScreen } from \"../CometChatCallScreen\";\n\nimport { CometChatContext } from \"../../../util/CometChatContext\";\nimport * as enums from \"../../../util/enums.js\";\nimport { SoundManager } from \"../../../util/SoundManager\";\nimport { Storage } from \"../../../util/Storage\";\n\nimport Translator from \"../../../resources/localization/translator\";\nimport { theme } from \"../../../resources/theme\";\n\nimport {\n    incomingCallWrapperStyle,\n    callContainerStyle,\n    headerWrapperStyle,\n    callDetailStyle,\n    nameStyle,\n    callTypeStyle,\n    thumbnailStyle,\n    headerButtonStyle,\n    ButtonStyle,\n\tcallIconStyle\n} from \"./style\";\n\nimport videoCallIcon from \"./resources/incoming-video-call.svg\";\n\nclass CometChatIncomingDirectCall extends React.PureComponent {\n\tstatic contextType = CometChatContext;\n\n\tconstructor(props) {\n\t\tsuper(props);\n\t\tthis._isMounted = false;\n\t\tthis.state = {\n\t\t\tincomingCall: null,\n\t\t\tcallInProgress: null,\n\t\t\tmaximize: true,\n\t\t};\n\n\t\tthis.callButtonRef = React.createRef();\n\n\t\tCometChat.getLoggedinUser()\n\t\t\t.then(user => (this.loggedInUser = user))\n\t\t\t.catch(error => {\n\t\t\t\tconsole.error(error);\n\t\t\t});\n\t}\n\n\tcomponentDidMount() {\n\t\tthis._isMounted = true;\n\n\t\tthis.MessageAlertManager = new messageAlertManager();\n\t\tthis.MessageAlertManager.attachListeners(this.messageListenerCallback);\n\n\t\tStorage.attachChangeDetection(this.logStorageChange);\n\t}\n\n\tcomponentDidUpdate() {\n\t\tif (this.state.incomingCall) {\n\t\t\tthis.adjustFontSize();\n\t\t}\n\t}\n\n\tcomponentWillUnmount() {\n\t\tthis._isMounted = false;\n\t\tStorage.detachChangeDetection(this.logStorageChange);\n\t}\n\n\tadjustFontSize = () => {\n\t\tif (this.callButtonRef && this.callButtonRef.current) {\n\t\t\tlet reduceFontSize = false;\n\t\t\tconst buttonNodeList = this.callButtonRef.current.querySelectorAll(\"button\");\n\n\t\t\tbuttonNodeList.forEach(buttonNode => {\n\t\t\t\tconst parentContainerWidth = buttonNode.clientWidth;\n\t\t\t\tconst currentTextWidth = buttonNode.scrollWidth;\n\n\t\t\t\tif (parentContainerWidth < currentTextWidth) {\n\t\t\t\t\treduceFontSize = true;\n\t\t\t\t}\n\t\t\t});\n\n\t\t\tif (reduceFontSize) {\n\t\t\t\tbuttonNodeList.forEach(buttonNode => {\n\t\t\t\t\tbuttonNode.style.fontSize = \"85%\";\n\t\t\t\t});\n\t\t\t}\n\t\t}\n\t};\n\n\tmessageListenerCallback = (key, message) => {\n\t\tswitch (key) {\n\t\t\tcase enums.CUSTOM_MESSAGE_RECEIVED: //occurs at the callee end\n\t\t\t\tthis.incomingCallReceived(message);\n\t\t\t\tbreak;\n\t\t\tdefault:\n\t\t\t\tbreak;\n\t\t}\n\t};\n\n\tincomingCallReceived = message => {\n\t\tif (this._isMounted) {\n\t\t\tif (message.type !== enums.CUSTOM_TYPE_MEETING) {\n\t\t\t\treturn false;\n\t\t\t}\n\n\t\t\tif (Object.keys(this.context.callInProgress).length) {\n\t\t\t\tif (this.context.checkIfDirectCallIsOngoing() && this.context.getActiveCallSessionID() === message.data.customData.sessionID) {\n\t\t\t\t\treturn false;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tif (message?.sender.uid !== this.loggedInUser?.uid) {\n\t\t\t\tSoundManager.play(enums.CONSTANTS.AUDIO[\"INCOMING_CALL\"], this.context);\n\t\t\t\tthis.setState({incomingCall: message});\n\t\t\t}\n\t\t}\n\t};\n\n\tjoinCall = () => {\n\t\tthis.checkForActiveCallAndEndCall()\n\t\t\t.then(response => {\n\t\t\t\tSoundManager.pause(enums.CONSTANTS.AUDIO[\"INCOMING_CALL\"], this.context);\n\t\t\t\tthis.props.actionGenerated(enums.ACTIONS[\"ACCEPT_DIRECT_CALL\"], true);\n\n\t\t\t\tif (this.context) {\n\t\t\t\t\tthis.context.setCallInProgress(this.state.incomingCall, enums.CONSTANTS[\"INCOMING_DIRECT_CALLING\"]);\n\t\t\t\t}\n\t\t\t\tStorage.setItem(enums.CONSTANTS[\"ACTIVECALL\"], this.state.incomingCall);\n\t\t\t\tthis.setState({incomingCall: null, callInProgress: this.state.incomingCall});\n\t\t\t})\n\t\t\t.catch(error => {\n\t\t\t\tconst errorCode = error && error.hasOwnProperty(\"code\") ? error.code : \"ERROR\";\n\t\t\t\tthis.context.setToastMessage(\"error\", errorCode);\n\t\t\t});\n\t};\n\n\tignoreCall = () => {\n\t\tSoundManager.pause(enums.CONSTANTS.AUDIO[\"INCOMING_CALL\"], this.context);\n\t\tStorage.setItem(enums.CONSTANTS[\"ACTIVECALL\"], this.state.incomingCall);\n\t\tthis.setState({incomingCall: null});\n\t};\n\n\tcheckForActiveCallAndEndCall = () => {\n\t\tconst promise = new Promise((resolve, reject) => {\n\t\t\tif (this.isCallActive() === false) {\n\t\t\t\treturn resolve({success: true});\n\t\t\t}\n\n\t\t\tlet sessionID = this.getActiveCallSessionID();\n\t\t\tCometChat.endCall(sessionID)\n\t\t\t\t.then(response => {\n\t\t\t\t\treturn resolve(response);\n\t\t\t\t})\n\t\t\t\t.catch(error => {\n\t\t\t\t\treturn reject(error);\n\t\t\t\t});\n\t\t});\n\n\t\treturn promise;\n\t};\n\n\tisCallActive = () => {\n\t\tif (Object.keys(this.context.callInProgress).length === 0) {\n\t\t\treturn false;\n\t\t}\n\n\t\tlet sessionID = this.getActiveCallSessionID();\n\t\tif (!sessionID) {\n\t\t\treturn false;\n\t\t}\n\n\t\treturn true;\n\t};\n\n\tgetActiveCallSessionID = () => {\n\t\treturn this.context.getActiveCallSessionID();\n\t};\n\n\tactionHandler = action => {\n\t\tswitch (action) {\n\t\t\tcase enums.ACTIONS[\"DIRECT_CALL_ENDED\"]:\n\t\t\tcase enums.ACTIONS[\"DIRECT_CALL_ERROR\"]:\n\t\t\t\tthis.setState({callInProgress: null});\n\t\t\t\tbreak;\n\t\t\tdefault:\n\t\t\t\tbreak;\n\t\t}\n\t};\n\n\tlogStorageChange = event => {\n\t\tif (event?.key !== enums.CONSTANTS[\"ACTIVECALL\"]) {\n\t\t\treturn false;\n\t\t}\n\n\t\tif (event.newValue || event.oldValue) {\n\t\t\tlet call;\n\t\t\tif (event.newValue) {\n\t\t\t\tcall = JSON.parse(event.newValue);\n\t\t\t} else if (event.oldValue) {\n\t\t\t\tcall = JSON.parse(event.oldValue);\n\t\t\t}\n\n\t\t\tif (this.state.incomingCall?.sessionId === call?.sessionId) {\n\t\t\t\tSoundManager.pause(enums.CONSTANTS.AUDIO[\"INCOMING_CALL\"], this.context);\n\t\t\t\tthis.setState({incomingCall: null});\n\t\t\t}\n\t\t}\n\t};\n\n\trender() {\n\t\tlet callScreen = null,\n\t\t\tincomingCallAlert = null;\n\t\tif (this.state.incomingCall) {\n\t\t\tlet avatar = (\n\t\t\t\t<div css={thumbnailStyle()} className=\"header__thumbnail\">\n\t\t\t\t\t<CometChatAvatar cornerRadius=\"50%\" image={this.state.incomingCall.sender.avatar} />\n\t\t\t\t</div>\n\t\t\t);\n\n\t\t\tconst callType = (\n\t\t\t\t<React.Fragment>\n\t\t\t\t\t<i css={callIconStyle(videoCallIcon, this.context)} title={Translator.translate(\"INCOMING_VIDEO_CALL\", this.props.lang)}></i>\n\t\t\t\t\t{/* <span>{Translator.translate(\"INCOMING_VIDEO_CALL\", this.props.lang)}</span> */}\n\t\t\t\t\t<span>Cuộc gọi video đến</span>\n\t\t\t\t</React.Fragment>\n\t\t\t);\n\n\t\t\tincomingCallAlert = (\n\t\t\t\t<div css={incomingCallWrapperStyle(this.props, keyframes)} className=\"callalert__wrapper\">\n\t\t\t\t\t<div css={callContainerStyle()} className=\"callalert__container\">\n\t\t\t\t\t\t<div css={headerWrapperStyle()} className=\"callalert__header\">\n\t\t\t\t\t\t\t<div css={callDetailStyle()} className=\"header__detail\">\n\t\t\t\t\t\t\t\t<div css={nameStyle()} className=\"name\">\n\t\t\t\t\t\t\t\t\t{this.state.incomingCall.sender.name}\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t<div css={callTypeStyle(this.props)} className=\"calltype\">\n\t\t\t\t\t\t\t\t\t{callType}\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t{avatar}\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div css={headerButtonStyle()} className=\"callalert__buttons\" ref={this.callButtonRef}>\n\t\t\t\t\t\t\t<button type=\"button\" css={ButtonStyle(this.props, 0)} className=\"button button__ignore\" onClick={this.ignoreCall}>\n\t\t\t\t\t\t\t\t{/* {Translator.translate(\"IGNORE\", this.props.lang)} */}\n\t\t\t\t\t\t\t\tBỏ qua\n\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t\t<button type=\"button\" css={ButtonStyle(this.props, 1)} className=\"button button__join\" onClick={this.joinCall}>\n\t\t\t\t\t\t\t\t{/* {Translator.translate(\"JOIN\", this.props.lang)} */}\n\t\t\t\t\t\t\t\tTham gia\n\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t);\n\t\t}\n\n\t\tif (this.state.callInProgress) {\n\t\t\tcallScreen = <CometChatCallScreen loggedInUser={this.loggedInUser} call={this.state.callInProgress} lang={this.props.lang} actionGenerated={this.actionHandler} />;\n\t\t}\n\n\t\treturn (\n\t\t\t<React.Fragment>\n\t\t\t\t{incomingCallAlert}\n\t\t\t\t{callScreen}\n\t\t\t</React.Fragment>\n\t\t);\n\t}\n}\n\n// Specifies the default values for props:\nCometChatIncomingDirectCall.defaultProps = {\n    lang: Translator.getDefaultLanguage(),\n    theme: theme,\n};\n\nCometChatIncomingDirectCall.propTypes = {\n    lang: PropTypes.string,\n    theme: PropTypes.object,\n}\n\nexport { CometChatIncomingDirectCall };\n","/* eslint-disable no-useless-concat */\n/* eslint-disable no-extend-native */\nimport dateFormat from \"dateformat\";\nimport Translator from \"../resources/localization/translator\";\nconst milliseconds = 1000;\nconst seconds = 1 * milliseconds;\nconst minute = 60 * seconds;\nconst hour = 60 * minute;\nconst day = 24 * hour;\n\nconst wordBoundary = {\n    start: `(?:^|:|;|'|\"|,|{|}|\\\\.|\\\\s|\\\\!|\\\\?|\\\\(|\\\\)|\\\\[|\\\\]|\\\\*)`,\n    end: `(?=$|:|;|'|\"|,|{|}|\\\\.|\\\\s|\\\\!|\\\\?|\\\\(|\\\\)|\\\\[|\\\\]|\\\\*)`,\n};\n\nconst emailPattern = new RegExp(\n    wordBoundary.start +\n    `[A-Z0-9a-z._%+-]+@[A-Za-z0-9.-]+\\\\.[A-Za-z]{2,6}` +\n    wordBoundary.end,\n    'gi'\n); \nconst urlPattern = new RegExp(\n    wordBoundary.start +\n    `((https?://|www\\\\.|pic\\\\.)[-\\\\w;/?:@&=+$\\\\|\\\\_.!~*\\\\|'()\\\\[\\\\]%#,☺]+[\\\\w/#](\\\\(\\\\))?)` +\n    wordBoundary.end,\n    'gi'\n);\nconst phoneNumPattern = new RegExp(\n    wordBoundary.start +\n    `(?:\\\\+?(\\\\d{1,3}))?([-. (]*(\\\\d{3})[-. )]*)?((\\\\d{3})[-. ]*(\\\\d{2,4})(?:[-.x ]*(\\\\d+))?)` +\n    wordBoundary.end,\n    'gi'\n);\n\nexport const linkify = (message) => {\n\n    let outputStr = message.replace(phoneNumPattern, \"<a target='blank' rel='noopener noreferrer' href='tel:$&'>$&</a>\");\n    outputStr = outputStr.replace(emailPattern, \"<a target='blank' rel='noopener noreferrer' href='mailto:$&'>$&</a>\");\n\n    const results = outputStr.match(urlPattern);\n\n    results &&\n        results.forEach((url) => {\n\n            url = url.trim();\n            let normalizedURL = url;\n            if (!url.startsWith('http')) {\n                normalizedURL = `//${url}`;\n            }\n            outputStr = outputStr.replace(\n                url,\n                `<a target='blank' rel='noopener noreferrer' href=\"${normalizedURL}\">${url}</a>`\n            );\n        });\n\n    return outputStr;\n}\n\nexport const checkMessageForExtensionsData = (message, extensionKey) => {\n\n    let output = null;\n    \n    if (message.hasOwnProperty(\"metadata\")) {\n\n        const metadata = message.metadata;\n        const injectedObject = metadata[\"@injected\"];\n        if (injectedObject && injectedObject.hasOwnProperty(\"extensions\")) {\n\n            const extensionsObject = injectedObject[\"extensions\"];\n            if (extensionsObject && extensionsObject.hasOwnProperty(extensionKey)) {\n\n                output = extensionsObject[extensionKey];\n            }\n        }\n    }\n\n    return output;\n}\n\nexport const getMessageFileMetadata = (message, metadataKey) => {\n\n    let fileMetadata = null;\n    if(message.hasOwnProperty(\"metadata\")) {\n\n        const metadata = message[\"metadata\"];\n        if (metadata.hasOwnProperty(metadataKey)) {\n            fileMetadata = metadata[metadataKey];\n        }\n    }\n\n    return fileMetadata;\n}\n\nexport const ID = () => {\n    // Math.random should be unique because of its seeding algorithm.\n    // Convert it to base 36 (numbers + letters), and grab the first 9 characters\n    // after the decimal.\n    return '_' + Math.random().toString(36).substr(2, 9);\n};\n\nexport const getUnixTimestamp = () => {\n\n    return Math.round(+new Date() / 1000);\n}\n\nconst dateDiffInDays = (a, b) => {\n\n    const milliSecondsPerDay = day;\n\n    // Discard the time and time-zone information.\n    const utc1 = Date.UTC(a.getFullYear(), a.getMonth(), a.getDate());\n    const utc2 = Date.UTC(b.getFullYear(), b.getMonth(), b.getDate());\n\n    return Math.floor((utc2 - utc1) / milliSecondsPerDay);\n}\n\n\nexport const getTimeStampForLastMessage = (timestamp, lang) => {\n\n    const timeStampInMilliSeconds = timestamp * 1000;\n\n    const messageTimestamp = new Date(timeStampInMilliSeconds);\n    const currentTimestamp = new Date(Date.now());\n\n    const dateDifferenceInDays = dateDiffInDays(messageTimestamp, currentTimestamp);\n\n    if (dateDifferenceInDays < 1) {\n\n        timestamp = dateFormat(messageTimestamp, \"shortTime\");\n\n    } else if (dateDifferenceInDays < 2) {\n\n        timestamp = Translator.translate(\"YESTERDAY\", lang);\n\n    } else if (dateDifferenceInDays < 7) {\n\n        timestamp = dateFormat(messageTimestamp, \"dddd\");\n        timestamp = Translator.translate(timestamp, lang);\n\n    } else {\n\n        timestamp = dateFormat(messageTimestamp, \"dS mmm\");\n    }\n\n    return timestamp;\n}\n\nexport const getMessageSentTime = (timestamp, lang) => {\n\n    let oTimestamp = null;\n\n    const messageTimestamp = new Date(timestamp) * 1000;\n    oTimestamp = dateFormat(messageTimestamp, \"shortTime\");\n\n    return oTimestamp;\n}\n\nexport const getMessageDate = (timestamp, lang) => {\n\n    const timeStampInMilliSeconds = timestamp * 1000;\n\n    const messageTimestamp = new Date(timeStampInMilliSeconds);\n    const currentTimestamp = new Date(Date.now());\n\n    const dateDifferenceInDays = dateDiffInDays(messageTimestamp, currentTimestamp);\n\n    if (dateDifferenceInDays < 1) {\n\n        // timestamp = Translator.translate(\"TODAY\", lang);\n        timestamp = \"Hôm nay\"\n\n    } else if (dateDifferenceInDays < 2) {\n\n        // timestamp = Translator.translate(\"YESTERDAY\", lang);\n        timestamp = \"Hôm qua\"\n\n    } else if (dateDifferenceInDays < 7) {\n\n        timestamp = dateFormat(messageTimestamp, \"dddd\");\n        timestamp = Translator.translate(timestamp, lang);\n\n    } else {\n\n        timestamp = dateFormat(timeStampInMilliSeconds, \"dS mmm, yyyy\");\n    }\n\n    return timestamp;\n}","import React from \"react\";\n/** @jsxRuntime classic */\n/** @jsx jsx */\nimport { jsx } from \"@emotion/core\";\nimport PropTypes from \"prop-types\";\nimport { CometChat } from \"@cometchat-pro/chat\";\n\nimport { CometChatCallScreen } from \"../CometChatCallScreen\";\n\nimport { CometChatContext } from \"../../../util/CometChatContext\";\nimport { ID, getUnixTimestamp } from \"../../../util/common\";\nimport * as enums from \"../../../util/enums.js\";\n\nimport Translator from \"../../../resources/localization/translator\";\nimport { theme } from \"../../../resources/theme\";\n\nclass CometChatOutgoingDirectCall extends React.Component {\n\n    sessionID;\n    static contextType = CometChatContext;\n    \n    constructor(props) {\n\n        super(props);\n\n        this.state = {\n            callInProgress: null,\n        }\n\n        this.callScreenRef = React.createRef();\n        \n        CometChat.getLoggedinUser().then(user => this.loggedInUser = user).catch(error => {\n            console.error(error);\n        });\n    }\n\n    actionHandler = (action) => {\n\n        switch(action) {\n\n            case enums.ACTIONS[\"DIRECT_CALL_ENDED\"]:\n            case enums.ACTIONS[\"DIRECT_CALL_ERROR\"]:\n                this.setState({ callInProgress: null });\n            break;\n            default:\n            break;\n        }\n    }\n\n    startCall = (sessionID) => {\n\n        this.sessionID = sessionID;\n        if (!this.sessionID) {\n            const errorCode = \"ERR_EMPTY_CALL_SESSION_ID\";\n            this.context.setToastMessage(\"error\", errorCode);\n            return false;\n        }\n\n        const customMessage = this.prepareCustomMessageData();\n        this.setState({ callInProgress: customMessage });\n        if(this.context) {\n            this.context.setCallInProgress(customMessage, enums.CONSTANTS[\"OUTGOING_DIRECT_CALLING\"]);\n        }\n\n        setTimeout(() => {\n            this.sendCustomMessage();\n        }, 5);\n    }\n\n    joinCall = (sessionID) => {\n\n        this.sessionID = sessionID;\n        if (this.sessionID === null) {\n            const errorCode = \"ERR_EMPTY_CALL_SESSION_ID\";\n            this.context.setToastMessage(\"error\", errorCode);\n            return false;\n        }\n\n        const customMessage = this.prepareCustomMessageData();\n        this.setState({ callInProgress: customMessage });\n        if (this.context) {\n            this.context.setCallInProgress(customMessage, enums.CONSTANTS[\"OUTGOING_DIRECT_CALLING\"]);\n        }\n    }\n\n    prepareCustomMessageData = () => {\n\n        const receiverType = CometChat.RECEIVER_TYPE.GROUP;\n        const customData = { \"sessionID\": this.sessionID, \"sessionId\": this.sessionID, \"callType\": CometChat.CALL_TYPE.VIDEO };\n        const customType = enums.CUSTOM_TYPE_MEETING;\n        const conversationId = `group_${this.sessionID}`;\n\n        const customMessage = new CometChat.CustomMessage(this.sessionID, receiverType, customType, customData);\n        customMessage.setSender(this.loggedInUser);\n        customMessage.setReceiver(receiverType);\n        customMessage.setConversationId(conversationId);\n        customMessage._composedAt = getUnixTimestamp();\n        customMessage._id = ID();\n\n        return customMessage;\n    }\n\n    sendCustomMessage = () => {\n\n        const customMessage = this.prepareCustomMessageData();\n        this.props.actionGenerated(enums.ACTIONS[\"MESSAGE_COMPOSED\"], [customMessage]);\n\n        CometChat.sendCustomMessage(customMessage).then(message => {\n\n            const newMessageObj = { ...message, \"_id\": customMessage._id };\n            this.props.actionGenerated(enums.ACTIONS[\"MESSAGE_SENT\"], [newMessageObj]);\n\n        }).catch(error => {\n\n            const newMessageObj = { ...customMessage, \"error\": error };\n            this.props.actionGenerated(enums.ACTIONS[\"ERROR_IN_SENDING_MESSAGE\"], [newMessageObj]);\n\n            const errorCode = (error && error.hasOwnProperty(\"code\")) ? error.code : \"ERROR\";\n            this.context.setToastMessage(\"error\", errorCode);\n        });\n    }\n\n    render() {\n\n        let callScreen = null;\n        if(this.state.callInProgress) {\n\n            callScreen = (\n                <CometChatCallScreen ref={el => this.callScreenRef = el} loggedInUser={this.loggedInUser} call={this.state.callInProgress} lang={this.props.lang} actionGenerated={this.actionHandler} />\n            );\n        }\n        return callScreen;\n    }\n}\n\n// Specifies the default values for props:\nCometChatOutgoingDirectCall.defaultProps = {\n    lang: Translator.getDefaultLanguage(),\n    theme: theme,\n};\n\nCometChatOutgoingDirectCall.propTypes = {\n    lang: PropTypes.string,\n    theme: PropTypes.object,\n}\n\nexport { CometChatOutgoingDirectCall };\n","import { CometChat } from \"@cometchat-pro/chat\";\n\nimport * as enums from \"../../../util/enums.js\";\nimport { UIKitSettings } from \"../../../util/UIKitSettings\";\n\nexport class ConversationListManager {\n\n    conversationRequest = null;\n\n    conversationListenerId = \"chatlist_\" + new Date().getTime();\n    userListenerId = \"chatlist_user_\" + new Date().getTime();\n    groupListenerId = \"chatlist_group_\" + new Date().getTime();\n    callListenerId = \"chatlist_call_\" + new Date().getTime();\n\n    constructor(context) {\n\n        const chatListMode = context.UIKitSettings.chatListMode;\n        const chatListFilterOptions = UIKitSettings.chatListFilterOptions;\n\n        switch (chatListMode) {\n            case chatListFilterOptions[\"USERS\"]:\n                this.conversationRequest = new CometChat.ConversationsRequestBuilder().setConversationType(CometChat.ACTION_TYPE.TYPE_USER).setLimit(30).build();\n            break;\n            case chatListFilterOptions[\"GROUPS\"]:\n                this.conversationRequest = new CometChat.ConversationsRequestBuilder().setConversationType(CometChat.ACTION_TYPE.TYPE_GROUP).setLimit(30).build();\n                break;\n            default:\n                this.conversationRequest = new CometChat.ConversationsRequestBuilder().setLimit(30).build();\n            break;\n        }\n    }\n\n    fetchNextConversation() {\n        return this.conversationRequest.fetchNext();\n    }\n\n    attachListeners(callback) {\n\n        CometChat.addUserListener(\n            this.userListenerId,\n            new CometChat.UserListener({\n                onUserOnline: onlineUser => {\n                    /* when someuser/friend comes online, user will be received here */\n                    callback(enums.USER_ONLINE, onlineUser);\n                },\n                onUserOffline: offlineUser => {\n                    /* when someuser/friend went offline, user will be received here */\n                    callback(enums.USER_OFFLINE, offlineUser);\n                }\n            })\n        );\n\n        CometChat.addGroupListener(\n            this.groupListenerId,\n            new CometChat.GroupListener({\n                onGroupMemberScopeChanged: (message, changedUser, newScope, oldScope, changedGroup) => {\n                    callback(enums.GROUP_MEMBER_SCOPE_CHANGED, changedGroup, message, {\"user\": changedUser, \"scope\": newScope});\n                }, \n                onGroupMemberKicked: (message, kickedUser, kickedBy, kickedFrom) => {\n                    callback(enums.GROUP_MEMBER_KICKED, kickedFrom, message, {\"user\": kickedUser, \"hasJoined\": false});\n                }, \n                onGroupMemberBanned: (message, bannedUser, bannedBy, bannedFrom) => {\n                    callback(enums.GROUP_MEMBER_BANNED, bannedFrom, message, {\"user\": bannedUser});\n                }, \n                onGroupMemberUnbanned: (message, unbannedUser, unbannedBy, unbannedFrom) => {\n                    callback(enums.GROUP_MEMBER_UNBANNED, unbannedFrom, message, {\"user\": unbannedUser});\n                }, \n                onMemberAddedToGroup: (message, userAdded, userAddedBy, userAddedIn) => {\n                    callback(enums.GROUP_MEMBER_ADDED, userAddedIn, message, {\"user\": userAdded, \"hasJoined\": true});\n                }, \n                onGroupMemberLeft: (message, leavingUser, group) => {\n                    callback(enums.GROUP_MEMBER_LEFT, group, message, {\"user\": leavingUser});\n                }, \n                onGroupMemberJoined: (message, joinedUser, joinedGroup) => {\n                    callback(enums.GROUP_MEMBER_JOINED, joinedGroup, message, {\"user\": joinedUser});\n                }\n            })\n        );\n\n        CometChat.addMessageListener(\n            this.conversationListenerId,\n            new CometChat.MessageListener({\n                onTextMessageReceived: textMessage => {\n                    callback(enums.TEXT_MESSAGE_RECEIVED, null, textMessage);\n                },\n                onMediaMessageReceived: mediaMessage => {\n                    callback(enums.MEDIA_MESSAGE_RECEIVED, null, mediaMessage);\n                },\n                onCustomMessageReceived: customMessage => {\n                    callback(enums.CUSTOM_MESSAGE_RECEIVED, null, customMessage);\n                },\n                onMessageDeleted: deletedMessage => {\n                    callback(enums.MESSAGE_DELETED, null, deletedMessage);\n                },\n                onMessageEdited: editedMessage => {\n                    callback(enums.MESSAGE_EDITED, null, editedMessage);\n                },\n                onMessagesRead: messageReceipt => {\n                    callback(enums.MESSAGE_READ, null, messageReceipt);\n                }\n            })\n        );\n\n        CometChat.addCallListener(\n            this.callListenerId,\n            new CometChat.CallListener({\n                onIncomingCallReceived: call => {\n                  callback(enums.INCOMING_CALL_RECEIVED, null, call);\n                },\n                onIncomingCallCancelled: call => {\n                    callback(enums.INCOMING_CALL_CANCELLED, null, call);\n                }\n            })\n        );\n    }\n\n    removeListeners() {\n        CometChat.removeMessageListener(this.conversationListenerId);\n        CometChat.removeUserListener(this.userListenerId);\n        CometChat.removeGroupListener(this.groupListenerId);\n        CometChat.removeCallListener(this.callListenerId);\n    }\n\n}\n","class CometChatEvent {\n\tstatic _triggers = {};\n\n\tstatic on(event, callback) {\n\t\tif (!CometChatEvent._triggers[event]) CometChatEvent._triggers[event] = [];\n\t\tCometChatEvent._triggers[event].push(callback);\n\t}\n\n\tstatic triggerHandler(event, params) {\n\t\tif (CometChatEvent._triggers[event]) {\n\t\t\tfor (const i in CometChatEvent._triggers[event]) CometChatEvent._triggers[event][i](params);\n\t\t}\n\t}\n}\n\nexport { CometChatEvent };","export const chatsWrapperStyle = (props, theme) => {\n\n    const borderStyle = (props._parent === \"\") ? {\n        border: `1px solid ${theme.borderColor.primary}`\n    } : {};\n\n    return {\n        display: \"flex\",\n        flexDirection: \"column\",\n        height: \"100%\",\n        boxSizing: \"border-box\",\n        ...borderStyle,\n        \"*\": {\n            boxSizing: \"border-box\",\n            \"::-webkit-scrollbar\": {\n                width: \"8px\",\n                height: \"4px\",\n            },\n            \"::-webkit-scrollbar-track\": {\n                background: \"#ffffff00\"\n            },\n            \"::-webkit-scrollbar-thumb\": {\n                background: \"#ccc\",\n                \"&:hover\": {\n                    background: \"#aaa\"\n                }\n            }\n        }\n    }\n}\n\nexport const chatsHeaderStyle = theme => {\n\n\treturn {\n\t\tpadding: \"16px\",\n\t\tdisplay: \"flex\",\n\t\talignItems: \"center\",\n\t\tborderBottom: `1px solid ${theme.borderColor.primary}`,\n\t\theight: \"69px\",\n\t};\n};\n\nexport const chatsHeaderCloseStyle = (img, theme) => {\n\n\tconst mq = [...theme.breakPoints];\n\n\treturn {\n\t\tcursor: \"pointer\",\n\t\tdisplay: \"none\",\n\t\tmask: `url(${img}) no-repeat left center`,\n\t\tbackgroundColor: `${theme.primaryColor}`,\n\t\theight: \"24px\",\n\t\twidth: \"33%\",\n\t\t[`@media ${mq[0]}`]: {\n\t\t\tdisplay: \"block!important\",\n\t\t},\n\t};\n};\n\nexport const chatsHeaderTitleStyle = (props) => {\n\n    const alignment = (props.hasOwnProperty(\"enableCloseMenu\") && props.enableCloseMenu.length > 0) ? {\n        width: \"33%\",\n        textAlign: \"center\"\n    } : {};\n    \n    return {\n        margin: \"0\",\n        display: \"inline-block\",\n        width: \"100%\",\n        textAlign: \"left\",\n        fontSize: \"22px\",\n        fontWeight: \"700\",\n        lineHeight: \"26px\",\n        ...alignment,\n        \"&[dir=rtl]\": {\n            textAlign: \"right\",\n        }\n    }\n}\n\nexport const chatsMsgStyle = () =>{\n\n    return {\n        overflow: \"hidden\",\n        width: \"100%\",\n        display: \"flex\",\n        justifyContent: \"center\",\n        alignItems: \"center\",\n        position: \"absolute\",\n        top: \"50%\",\n    }\n}\n\nexport const chatsMsgTxtStyle = theme => {\n    \n\treturn {\n\t\tmargin: \"0\",\n\t\tminHeight: \"36px\",\n\t\tcolor: `${theme.color.secondary}`,\n\t\tfontSize: \"20px!important\",\n\t\tfontWeight: \"600\",\n\t\tlineHeight: \"30px\",\n\t\twordWrap: \"break-word\",\n\t\tpadding: \"0 16px\",\n\t};\n};\n\nexport const chatsListStyle = () => {\n\n    return {\n        height: \"calc(100% - 75px)\",\n        width: \"100%\",\n        overflowY: \"auto\",\n        margin: \"0\",\n        padding: \"0\",\n    }\n}\n","export default __webpack_public_path__ + \"static/media/back.e8e05e7c.svg\";","import React from \"react\";\n/** @jsxRuntime classic */\n/** @jsx jsx */\nimport { jsx } from \"@emotion/core\";\nimport PropTypes from \"prop-types\";\nimport { CometChat } from \"@cometchat-pro/chat\";\n\nimport { ConversationListManager } from \"./controller\";\n\nimport { CometChatConfirmDialog, CometChatToastNotification } from \"../../Shared\";\nimport { CometChatConversationListItem } from \"../\";\n\nimport { CometChatContextProvider, CometChatContext } from \"../../../util/CometChatContext\";\nimport * as enums from \"../../../util/enums.js\";\nimport { UIKitSettings } from \"../../../util/UIKitSettings\";\nimport { SoundManager } from \"../../../util/SoundManager\";\nimport { CometChatEvent } from \"../../../util/CometChatEvent\";\n\nimport Translator from \"../../../resources/localization/translator\";\nimport { theme } from \"../../../resources/theme\";\n\nimport {\n  chatsWrapperStyle,\n  chatsHeaderStyle,\n  chatsHeaderCloseStyle,\n  chatsHeaderTitleStyle,\n  chatsMsgStyle,\n  chatsMsgTxtStyle,\n  chatsListStyle\n} from \"./style\";\n\nimport navigateIcon from \"./resources/back.svg\";\n\nclass CometChatConversationList extends React.Component {\n\n\tloggedInUser = null;\n\tincrementUnreadCount = false;\n\n\tstatic contextType = CometChatContext;\n\n\tconstructor(props) {\n\t\tsuper(props);\n\t\tthis._isMounted = false;\n\t\tthis.state = {\n\t\t\tconversationlist: [],\n\t\t\tonItemClick: null,\n\t\t\thideGroupActionMessages: false,\n\t\t\tshowConfirmDialog: false,\n\t\t\tdecoratorMessage: Translator.translate(\"LOADING\", props.lang),\n\t\t\tconversationToBeDeleted: null,\n\t\t};\n\n\t\tthis.contextProviderRef = React.createRef();\n\t\tthis.chatListRef = React.createRef();\n\t\tthis.toastRef = React.createRef();\n\n\t\tCometChat.getLoggedinUser()\n\t\t\t.then(user => (this.loggedInUser = user))\n\t\t\t.catch(error => this.setState({ decoratorMessage: Translator.translate(\"SOMETHING_WRONG\", this.props.lang) }));\n\t}\n\n\tcomponentDidMount() {\n\n\t\tthis._isMounted = true;\n\t\tthis.item = this.getContext().type === CometChat.ACTION_TYPE.TYPE_USER || CometChat.ACTION_TYPE.TYPE_GROUP ? this.getContext().item : null;\n\t\tthis.hideGroupActionMessages();\n\n\t\tthis.setState({ conversationlist: [] }, () => {\n\t\t\tthis.ConversationListManager = new ConversationListManager(this.getContext());\n\t\t\tthis.getConversations();\n\t\t\tthis.ConversationListManager.attachListeners(this.conversationCallback);\n\t\t});\n\n\t\t//updating last message whenever a message is composed and sent\n\t\tCometChatEvent.on(\"updateLastMessage\", args => this.updateLastMessage(args));\n\n\t\t//updating unreadcount whenever a new message is received and not read.\n\t\tCometChatEvent.on(enums.EVENTS[\"NEW_MESSAGES\"], args => this.updateUnreadCount(args));\n\n\t\t//clearing unreadcount whenever scrolled to the bottom.\n\t\tCometChatEvent.on(enums.EVENTS[\"CLEAR_UNREAD_MESSAGES\"], args => this.clearUnreadCount(args));\n\t}\n\n\tcomponentDidUpdate() {\n\n\t\t//when a particular chat is selected from the chats list\n\t\tif ((Object.keys(this.getContext().item).length && this.getContext().type.length) || this.getContext().item !== this.item) {\n\t\t\tconst conversationlist = [...this.state.conversationlist];\n\t\t\tconst conversationObj = this.filterConversation();\n\t\t\t\n\t\t\tif (conversationObj && conversationObj.unreadMessageCount > 0 && this.incrementUnreadCount === false) {\n\t\t\t\tlet conversationKey = conversationlist.indexOf(conversationObj);\n\t\t\t\tlet newConversationObj = { ...conversationObj, unreadMessageCount: 0 };\n\n\t\t\t\tconversationlist.splice(conversationKey, 1, newConversationObj);\n\t\t\t\tthis.setState({ conversationlist: conversationlist });\n\t\t\t}\n\t\t}\n\n\t\t//if user is blocked/unblocked, update conversationlist in state\n\t\tif (this.item && Object.keys(this.item).length && this.item.hasOwnProperty(\"uid\") && this.getContext().type === CometChat.ACTION_TYPE.TYPE_USER && this.item.uid === this.getContext().item.uid && this.item.blockedByMe !== this.getContext().item.blockedByMe) {\n\t\t\tlet conversationlist = [...this.state.conversationlist];\n\n\t\t\t//search for user\n\t\t\tlet convKey = conversationlist.findIndex(c => c.conversationType === CometChat.ACTION_TYPE.TYPE_USER && c.conversationWith.uid === this.getContext().item.uid);\n\t\t\tif (convKey > -1) {\n\t\t\t\tconst convObj = conversationlist[convKey];\n\n\t\t\t\tlet convWithObj = { ...convObj.conversationWith };\n\t\t\t\tlet newConvWithObj = Object.assign({}, convWithObj, { blockedByMe: this.getContext().item.blockedByMe });\n\n\t\t\t\tlet newConvObj = Object.assign({}, convObj, { conversationWith: newConvWithObj });\n\n\t\t\t\tconversationlist.splice(convKey, 1, newConvObj);\n\t\t\t\tthis.setState({ conversationlist: conversationlist });\n\t\t\t}\n\t\t}\n\n\t\t//if group detail(membersCount) is updated, update grouplist\n\t\tif (this.item && Object.keys(this.item).length && this.item.hasOwnProperty(\"guid\") && this.getContext().type === CometChat.ACTION_TYPE.TYPE_GROUP && this.item.guid === this.getContext().item.guid && this.item.membersCount !== this.getContext().item.membersCount) {\n\t\t\tconst conversationlist = [...this.state.conversationlist];\n\n\t\t\tlet convKey = conversationlist.findIndex(c => c.conversationType === CometChat.ACTION_TYPE.TYPE_GROUP && c.conversationWith.guid === this.getContext().item.guid);\n\t\t\tif (convKey > -1) {\n\t\t\t\tconst convObj = conversationlist[convKey];\n\n\t\t\t\tlet convWithObj = { ...convObj.conversationWith };\n\t\t\t\tlet newConvWithObj = Object.assign({}, convWithObj, { membersCount: this.getContext().item.membersCount });\n\n\t\t\t\tlet newConvObj = Object.assign({}, convObj, { conversationWith: newConvWithObj });\n\n\t\t\t\tconversationlist.splice(convKey, 1, newConvObj);\n\t\t\t\tthis.setState({ conversationlist: conversationlist });\n\t\t\t}\n\t\t}\n\n\t\t//upon user deleting a group, remove group from conversation list\n\t\tif (this.getContext().deletedGroupId.trim().length) {\n\t\t\tconst guid = this.getContext().deletedGroupId.trim();\n\t\t\tconst conversationlist = [...this.state.conversationlist];\n\n\t\t\tlet conversationKey = conversationlist.findIndex(c => c.conversationType === CometChat.ACTION_TYPE.TYPE_GROUP && c.conversationWith.guid === guid);\n\n\t\t\tif (conversationKey > -1) {\n\t\t\t\tconversationlist.splice(conversationKey, 1);\n\t\t\t\tthis.setState({ conversationlist: conversationlist });\n\t\t\t}\n\t\t}\n\n\t\t//upon user leaving a group, remove group from conversation list\n\t\tif (this.getContext().leftGroupId.trim().length) {\n\t\t\tconst guid = this.getContext().leftGroupId.trim();\n\t\t\tconst conversationlist = [...this.state.conversationlist];\n\n\t\t\tlet conversationKey = conversationlist.findIndex(c => c.conversationType === CometChat.ACTION_TYPE.TYPE_GROUP && c.conversationWith.guid === guid);\n\n\t\t\tif (conversationKey > -1) {\n\t\t\t\tconversationlist.splice(conversationKey, 1);\n\t\t\t\tthis.setState({ conversationlist: conversationlist });\n\t\t\t}\n\t\t}\n\n\t\tthis.item = this.getContext().type === CometChat.ACTION_TYPE.TYPE_USER || CometChat.ACTION_TYPE.TYPE_GROUP ? this.getContext().item : null;\n\t\tthis.hideGroupActionMessages();\n\t}\n\n\tcomponentWillUnmount() {\n\n\t\tthis._isMounted = false;\n\t\tthis.ConversationListManager.removeListeners();\n\t\tthis.ConversationListManager = null;\n\n\t};\n\n\tfilterConversation = () => {\n\n\t\tconst conversationlist = [...this.state.conversationlist];\n\t\tconst conversationObj = conversationlist.find(c => {\n\t\t\tif (\n\t\t\t\t(c.conversationType === this.getContext().type && this.getContext().type === CometChat.RECEIVER_TYPE.USER && c.conversationWith.uid === this.getContext().item.uid) ||\n\t\t\t\t(c.conversationType === this.getContext().type && this.getContext().type === CometChat.RECEIVER_TYPE.GROUP && c.conversationWith.guid === this.getContext().item.guid)\n\t\t\t) {\n\t\t\t\treturn c;\n\t\t\t}\n\n\t\t\treturn false;\n\t\t});\n\n\t\treturn conversationObj;\n\t}\n\n\tupdateLastMessage = lastMessage => {\n\n\t\tconst conversationList = [...this.state.conversationlist];\n\t\tconst conversationKey = conversationList.findIndex(c => c.conversationId === lastMessage.conversationId);\n\n\t\tif (conversationKey > -1) {\n\t\t\tconst conversationObj = conversationList[conversationKey];\n\t\t\tlet newConversationObj = { ...conversationObj, lastMessage: { ...lastMessage } };\n\n\t\t\tif (conversationKey === 0) {\n\t\t\t\tconversationList.splice(conversationKey, 1, newConversationObj);\n\t\t\t} else {\n\t\t\t\tconversationList.splice(conversationKey, 1);\n\t\t\t\tconversationList.unshift(newConversationObj);\n\t\t\t}\n\n\t\t\tif (this._isMounted) {\n\t\t\t\tthis.setState({ conversationlist: conversationList });\n\t\t\t}\n\t\t} else {\n\t\t\tconst chatListMode = this.getContext().UIKitSettings.chatListMode;\n\t\t\tconst chatListFilterOptions = UIKitSettings.chatListFilterOptions;\n\t\t\tif (chatListMode !== chatListFilterOptions[\"USERS_AND_GROUPS\"]) {\n\t\t\t\tif ((chatListMode === chatListFilterOptions[\"USERS\"] && lastMessage.receiverType === CometChat.RECEIVER_TYPE.GROUP) || (chatListMode === chatListFilterOptions[\"GROUPS\"] && lastMessage.receiverType === CometChat.RECEIVER_TYPE.USER)) {\n\t\t\t\t\treturn false;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tlet newConversation = new CometChat.Conversation();\n\t\t\tnewConversation.setConversationId(lastMessage.conversationId);\n\t\t\tnewConversation.setConversationType(this.getContext().type);\n\t\t\tnewConversation.setConversationWith(this.getContext().item);\n\t\t\tnewConversation.setLastMessage(lastMessage);\n\t\t\tnewConversation.setUnreadMessageCount(0);\n\n\t\t\tconversationList.unshift(newConversation);\n\n\t\t\tif (this._isMounted) {\n\t\t\t\tthis.setState({ conversationlist: conversationList });\n\t\t\t}\n\t\t}\n\t};\n\n\tupdateUnreadCount = params => {\n\t\t\n\t\tthis.incrementUnreadCount = true;\n\t\treturn false;\n\t};\n\n\tclearUnreadCount = params => {\n\n\t\tthis.incrementUnreadCount = false;\n\n\t\tlet conversationList = [...this.state.conversationlist];\n\t\tconst conversationObj = this.filterConversation();\n\n\t\tif (conversationObj && conversationObj.unreadMessageCount > 0) {\n\t\t\tlet conversationKey = conversationList.indexOf(conversationObj);\n\t\t\tlet newConversationObj = { ...conversationObj, unreadMessageCount: 0 };\n\n\t\t\tconversationList.splice(conversationKey, 1, newConversationObj);\n\t\t\tthis.setState({ conversationlist: conversationList });\n\t\t}\n\t\treturn false;\n\t};\n\n\tconversationCallback = (key, item, message, options) => {\n\t\tswitch (key) {\n\t\t\tcase enums.USER_ONLINE:\n\t\t\tcase enums.USER_OFFLINE:\n\t\t\t\tthis.updateUser(item);\n\t\t\t\tbreak;\n\t\t\tcase enums.TEXT_MESSAGE_RECEIVED:\n\t\t\tcase enums.MEDIA_MESSAGE_RECEIVED:\n\t\t\tcase enums.CUSTOM_MESSAGE_RECEIVED:\n\t\t\t\tthis.markMessageAsDelivered(message);\n\t\t\t\tthis.conversationUpdated(key, message, options);\n\t\t\t\tbreak;\n\t\t\tcase enums.INCOMING_CALL_RECEIVED:\n\t\t\tcase enums.INCOMING_CALL_CANCELLED:\n\t\t\tcase enums.MESSAGE_EDITED:\n\t\t\tcase enums.MESSAGE_DELETED:\n\t\t\tcase enums.MESSAGE_READ:\n\t\t\tcase enums.GROUP_MEMBER_ADDED:\n\t\t\tcase enums.GROUP_MEMBER_KICKED:\n\t\t\tcase enums.GROUP_MEMBER_BANNED:\n\t\t\tcase enums.GROUP_MEMBER_LEFT:\n\t\t\tcase enums.GROUP_MEMBER_SCOPE_CHANGED:\n\t\t\tcase enums.GROUP_MEMBER_JOINED:\n\t\t\tcase enums.GROUP_MEMBER_UNBANNED:\n\t\t\t\tthis.conversationUpdated(key, message, options);\n\t\t\t\tbreak;\n\t\t\tdefault:\n\t\t\t\tbreak;\n\t\t}\n\t};\n\n\tmarkMessageAsDelivered = message => {\n\n\t\t//if chat window is not open, mark message as delivered\n\t\tif ((this.getContext().type === \"\" || Object.keys(this.getContext().item).length === 0) \n\t\t&& message.hasOwnProperty(\"deliveredAt\") === false) {\n\t\t\tCometChat.markAsDelivered(message);\n\t\t}\n\t};\n\n\tconversationUpdated = (key, message, options) => {\n\t\tconst chatListMode = this.getContext().UIKitSettings.chatListMode;\n\t\tconst chatListFilterOptions = UIKitSettings.chatListFilterOptions;\n\n\t\tif (chatListMode !== chatListFilterOptions[\"USERS_AND_GROUPS\"]) {\n\t\t\tif ((chatListMode === chatListFilterOptions[\"USERS\"] && message.receiverType === CometChat.RECEIVER_TYPE.GROUP) || (chatListMode === chatListFilterOptions[\"GROUPS\"] && message.receiverType === CometChat.RECEIVER_TYPE.USER)) {\n\t\t\t\treturn false;\n\t\t\t}\n\t\t}\n\t\t\n\t\tswitch (key) {\n\t\t\tcase enums.TEXT_MESSAGE_RECEIVED:\n\t\t\tcase enums.MEDIA_MESSAGE_RECEIVED:\n\t\t\tcase enums.CUSTOM_MESSAGE_RECEIVED:\n\t\t\tcase enums.INCOMING_CALL_RECEIVED:\n\t\t\tcase enums.INCOMING_CALL_CANCELLED:\n\t\t\t\tthis.updateConversation(key, message);\n\t\t\t\tbreak;\n\t\t\tcase enums.MESSAGE_EDITED:\n\t\t\tcase enums.MESSAGE_DELETED:\n\t\t\t\tthis.conversationEditedDeleted(message);\n\t\t\t\tbreak;\n\t\t\tcase enums.GROUP_MEMBER_ADDED:\n\t\t\t\tthis.updateGroupMemberAdded(message, options);\n\t\t\t\tbreak;\n\t\t\tcase enums.GROUP_MEMBER_KICKED:\n\t\t\tcase enums.GROUP_MEMBER_BANNED:\n\t\t\tcase enums.GROUP_MEMBER_LEFT:\n\t\t\t\tthis.updateGroupMemberRemoved(message, options);\n\t\t\t\tbreak;\n\t\t\tcase enums.GROUP_MEMBER_SCOPE_CHANGED:\n\t\t\t\tthis.updateGroupMemberScopeChanged(message, options);\n\t\t\t\tbreak;\n\t\t\tcase enums.GROUP_MEMBER_JOINED:\n\t\t\tcase enums.GROUP_MEMBER_UNBANNED:\n\t\t\t\tthis.updateGroupMemberChanged(message, options);\n\t\t\t\tbreak;\n\t\t\tcase enums.MESSAGE_READ:\n\t\t\t\tthis.onMessagesRead(message);\n\t\t\t\tbreak;\n\t\t\tdefault:\n\t\t\t\tbreak;\n\t\t}\n\t};\n\n\tupdateUser = user => {\n\t\tconst conversationlist = [...this.state.conversationlist];\n\t\tconst conversationKey = conversationlist.findIndex(conversationObj => conversationObj.conversationType === \"user\" && conversationObj.conversationWith.uid === user.uid);\n\n\t\tif (conversationKey > -1) {\n\t\t\tlet conversationObj = { ...conversationlist[conversationKey] };\n\t\t\tlet conversationWithObj = { ...conversationObj.conversationWith, status: user.getStatus() };\n\n\t\t\tlet newConversationObj = { ...conversationObj, conversationWith: conversationWithObj };\n\t\t\tconversationlist.splice(conversationKey, 1, newConversationObj);\n\t\t\tthis.setState({ conversationlist: conversationlist });\n\t\t}\n\t};\n\n\thideGroupActionMessages = () => {\n\t\tthis.getContext()\n\t\t\t.FeatureRestriction.isGroupActionMessagesEnabled()\n\t\t\t.then(response => {\n\t\t\t\tif (response !== this.state.hideGroupActionMessages) {\n\t\t\t\t\tthis.setState({ hideGroupActionMessages: response });\n\t\t\t\t}\n\t\t\t})\n\t\t\t.catch(error => {\n\t\t\t\tif (this.state.hideGroupActionMessages !== false) {\n\t\t\t\t\tthis.setState({ hideGroupActionMessages: false });\n\t\t\t\t}\n\t\t\t});\n\t};\n\n\tplayAudio = message => {\n\t\tif (message.category === CometChat.CATEGORY_ACTION && message.type === CometChat.ACTION_TYPE.TYPE_GROUP_MEMBER && this.state.hideGroupActionMessages === true) {\n\t\t\treturn false;\n\t\t}\n\n\t\t/**\n\t\t * Sound alert for incoming messages\n\t\t */\n\t\tconst receiverType = message.getReceiverType();\n\t\tconst receiverId = receiverType === CometChat.RECEIVER_TYPE.USER ? message.getSender().uid : message.getReceiverId();\n\n\t\tif (receiverType === this.getContext().type) {\n\t\t\tif ((receiverType === CometChat.RECEIVER_TYPE.USER && receiverId === this.getContext().item.uid) || (receiverType === CometChat.RECEIVER_TYPE.GROUP && receiverId === this.getContext().item.guid)) {\n\t\t\t\tSoundManager.play(enums.CONSTANTS.AUDIO[\"INCOMING_MESSAGE\"], this.getContext());\n\t\t\t} else {\n\t\t\t\tSoundManager.play(enums.CONSTANTS.AUDIO[\"INCOMING_OTHER_MESSAGE\"], this.getContext());\n\t\t\t}\n\t\t} else {\n\t\t\tSoundManager.play(enums.CONSTANTS.AUDIO[\"INCOMING_OTHER_MESSAGE\"], this.getContext());\n\t\t}\n\t};\n\n\tonMessagesRead = messageReceipt => {\n\t\tconst conversationList = [...this.state.conversationlist];\n\t\tconversationList.forEach((conversation, conversationKey) => {\n\t\t\tif (conversation?.conversationType === messageReceipt.receiverType) {\n\t\t\t\tif ((conversation?.conversationType === CometChat.RECEIVER_TYPE.USER && messageReceipt.receiver === conversation?.conversationWith?.uid) || (conversation?.conversationType === CometChat.RECEIVER_TYPE.GROUP && messageReceipt.receiver === conversation?.conversationWith?.guid)) {\n\t\t\t\t\tlet unreadMessageCount = conversation.unreadMessageCount;\n\t\t\t\t\t/**\n\t\t\t\t\t * If the message id of the read reciept if greater than or equal to the lastmessage id, set unreadmessagecount to 0\n\t\t\t\t\t */\n\t\t\t\t\tif (messageReceipt?.messageId >= conversation?.lastMessage?.id) {\n\t\t\t\t\t\tunreadMessageCount = 0;\n\t\t\t\t\t}\n\n\t\t\t\t\tlet newConversationObj = { ...conversation, unreadMessageCount: unreadMessageCount };\n\t\t\t\t\tconversationList.splice(conversationKey, 1, newConversationObj);\n\t\t\t\t\tthis.setState({ conversationlist: conversationList });\n\t\t\t\t}\n\t\t\t}\n\t\t});\n\t};\n\n\tmakeConversation = message => {\n\t\tconst promise = new Promise(resolve => {\n\t\t\tCometChat.CometChatHelper.getConversationFromMessage(message).then(conversation => {\n\t\t\t\tlet conversationList = [...this.state.conversationlist];\n\t\t\t\tlet conversationKey = conversationList.findIndex(c => c.conversationId === conversation.conversationId);\n\n\t\t\t\tlet conversationObj = { ...conversation };\n\t\t\t\tif (conversationKey > -1) {\n\t\t\t\t\tconversationObj = { ...conversationList[conversationKey] };\n\t\t\t\t}\n\n\t\t\t\tresolve({ conversationKey: conversationKey, conversationObj: conversationObj, conversationList: conversationList });\n\t\t\t});\n\t\t});\n\n\t\treturn promise;\n\t};\n\n\tmakeUnreadMessageCount = (message, conversation = {}) => {\n\t\t/**\n\t\t * If the received message is sent by the logged in user, don't increment the unread count\n\t\t */\n\t\tif (Object.keys(conversation).length === 0) {\n\t\t\tif (message.sender.uid === this.loggedInUser?.uid) {\n\t\t\t\treturn 0;\n\t\t\t} else {\n\t\t\t\treturn 1;\n\t\t\t}\n\t\t}\n\t\t\n\t\tlet unreadMessageCount = parseInt(conversation.unreadMessageCount);\n\t\tif (\n\t\t\t(this.getContext().item.hasOwnProperty(\"guid\") && conversation.conversationWith.hasOwnProperty(\"guid\") && this.getContext().item.guid === conversation.conversationWith.guid) ||\n\t\t\t(this.getContext().item.hasOwnProperty(\"uid\") && conversation.conversationWith.hasOwnProperty(\"uid\") && this.getContext().item.uid === conversation.conversationWith.uid)\n\t\t) {\n\t\t\tif (this.incrementUnreadCount === true) {\n\t\t\t\tunreadMessageCount = ++unreadMessageCount;\n\t\t\t} else {\n\t\t\t\tunreadMessageCount = 0;\n\t\t\t}\n\t\t} else {\n\t\t\tunreadMessageCount = this.shouldIncrementCount(message) ? ++unreadMessageCount : unreadMessageCount;\n\t\t}\n\t\treturn unreadMessageCount;\n\t};\n\n\tshouldIncrementCount = incomingMessage => {\n\t\tlet output = false;\n\t\tif (\n\t\t\t(incomingMessage.category === CometChat.CATEGORY_MESSAGE && incomingMessage.sender.uid !== this.loggedInUser?.uid) ||\n\t\t\t(this.getContext().hasKeyValue(incomingMessage, enums.KEYS[\"METADATA\"]) &&\n\t\t\t\tthis.getContext().hasKeyValue(incomingMessage[enums.KEYS[\"METADATA\"]], enums.KEYS[\"INCREMENT_UNREAD_COUNT\"]) &&\n\t\t\t\tincomingMessage[enums.KEYS[\"METADATA\"]][enums.KEYS[\"INCREMENT_UNREAD_COUNT\"]] === true &&\n\t\t\t\tincomingMessage.sender.uid !== this.loggedInUser?.uid)\n\t\t) {\n\t\t\toutput = true;\n\t\t}\n\t\t\n\t\treturn output;\n\t};\n\n\tmakeLastMessage = (message, conversation = {}) => {\n\t\tconst newMessage = Object.assign({}, message);\n\t\treturn newMessage;\n\t};\n\n\tupdateConversation = (key, message) => {\n\t\tthis.makeConversation(message).then(response => {\n\t\t\tconst { conversationKey, conversationObj, conversationList } = response;\n\n\t\t\tif (conversationKey > -1) {\n\t\t\t\tlet unreadMessageCount = this.makeUnreadMessageCount(message, conversationObj);\n\t\t\t\tlet lastMessageObj = this.makeLastMessage(message, conversationObj);\n\t\t\t\t\n\t\t\t\tlet newConversationObj = { ...conversationObj, lastMessage: lastMessageObj, unreadMessageCount: unreadMessageCount };\n\t\t\t\t\n\t\t\t\tconversationList.splice(conversationKey, 1);\n\t\t\t\tconversationList.unshift(newConversationObj);\n\t\t\t\tthis.setState({ conversationlist: conversationList });\n\n\t\t\t\tif (key !== enums.INCOMING_CALL_RECEIVED && key !== enums.INCOMING_CALL_CANCELLED) {\n\t\t\t\t\tthis.playAudio(message);\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tlet unreadMessageCount = this.makeUnreadMessageCount(message, {});\n\t\t\t\tlet lastMessageObj = this.makeLastMessage(message);\n\t\t\t\t\n\t\t\t\tlet newConversationObj = { ...conversationObj, lastMessage: lastMessageObj, unreadMessageCount: unreadMessageCount };\n\t\t\t\tconversationList.unshift(newConversationObj);\n\t\t\t\tthis.setState({ conversationlist: conversationList });\n\n\t\t\t\tif (key !== enums.INCOMING_CALL_RECEIVED && key !== enums.INCOMING_CALL_CANCELLED) {\n\t\t\t\t\tthis.playAudio(message);\n\t\t\t\t}\n\t\t\t}\n\t\t});\n\t};\n\n\tconversationEditedDeleted = message => {\n\t\tthis.makeConversation(message).then(response => {\n\t\t\tconst { conversationKey, conversationObj, conversationList } = response;\n\n\t\t\tif (conversationKey > -1) {\n\t\t\t\tlet lastMessageObj = conversationObj.lastMessage;\n\n\t\t\t\tif (lastMessageObj.id === message.id) {\n\t\t\t\t\tconst newLastMessageObj = Object.assign({}, lastMessageObj, message);\n\t\t\t\t\tlet newConversationObj = Object.assign({}, conversationObj, { lastMessage: newLastMessageObj });\n\t\t\t\t\tconversationList.splice(conversationKey, 1, newConversationObj);\n\t\t\t\t\tthis.setState({ conversationlist: conversationList });\n\t\t\t\t}\n\t\t\t}\n\t\t});\n\t};\n\n\tupdateGroupMemberAdded = (message, options) => {\n\t\tthis.makeConversation(message).then(response => {\n\t\t\tconst { conversationKey, conversationObj, conversationList } = response;\n\n\t\t\tif (conversationKey > -1) {\n\t\t\t\tlet lastMessageObj = this.makeLastMessage(message, conversationObj);\n\t\t\t\tlet conversationWithObj = { ...conversationObj.conversationWith };\n\n\t\t\t\tlet membersCount = parseInt(conversationWithObj.membersCount);\n\t\t\t\tif (message.hasOwnProperty(\"actionFor\") && message.actionFor.hasOwnProperty(\"membersCount\")) {\n\t\t\t\t\tmembersCount = message.actionFor.membersCount;\n\t\t\t\t}\n\n\t\t\t\tlet newConversationWithObj = { ...conversationWithObj, membersCount: membersCount };\n\n\t\t\t\tlet newConversationObj = { ...conversationObj, conversationWith: newConversationWithObj, lastMessage: lastMessageObj };\n\t\t\t\tconversationList.splice(conversationKey, 1);\n\t\t\t\tconversationList.unshift(newConversationObj);\n\t\t\t\tthis.setState({ conversationlist: conversationList });\n\t\t\t\tthis.playAudio(message);\n\t\t\t} else {\n\t\t\t\tif (options && this.loggedInUser.uid === options.user.uid) {\n\t\t\t\t\tlet lastMessageObj = this.makeLastMessage(message);\n\t\t\t\t\tlet conversationWithObj = { ...conversationObj.conversationWith };\n\n\t\t\t\t\tlet membersCount = parseInt(conversationWithObj.membersCount);\n\t\t\t\t\tif (message.hasOwnProperty(\"actionFor\") && message.actionFor.hasOwnProperty(\"membersCount\")) {\n\t\t\t\t\t\tmembersCount = message.actionFor.membersCount;\n\t\t\t\t\t}\n\t\t\t\t\tlet scope = CometChat.GROUP_MEMBER_SCOPE.PARTICIPANT;\n\t\t\t\t\tlet hasJoined = options.hasJoined;\n\n\t\t\t\t\tlet newConversationWithObj = { ...conversationWithObj, membersCount: membersCount, scope: scope, hasJoined: hasJoined };\n\t\t\t\t\tlet newConversationObj = { ...conversationObj, conversationWith: newConversationWithObj, lastMessage: lastMessageObj };\n\n\t\t\t\t\tconversationList.unshift(newConversationObj);\n\t\t\t\t\tthis.setState({ conversationlist: conversationList });\n\t\t\t\t\tthis.playAudio(message);\n\t\t\t\t}\n\t\t\t}\n\t\t});\n\t};\n\n\tupdateGroupMemberRemoved = (message, options) => {\n\t\tthis.makeConversation(message).then(response => {\n\t\t\tconst { conversationKey, conversationObj, conversationList } = response;\n\n\t\t\tif (conversationKey > -1) {\n\t\t\t\tif (options && this.loggedInUser.uid === options.user.uid) {\n\t\t\t\t\tconversationList.splice(conversationKey, 1);\n\t\t\t\t\tthis.setState({ conversationlist: conversationList });\n\t\t\t\t} else {\n\t\t\t\t\tlet lastMessageObj = this.makeLastMessage(message, conversationObj);\n\t\t\t\t\tlet conversationWithObj = { ...conversationObj.conversationWith };\n\n\t\t\t\t\tlet membersCount = parseInt(conversationWithObj.membersCount);\n\t\t\t\t\tif (message.hasOwnProperty(\"actionFor\") && message.actionFor.hasOwnProperty(\"membersCount\")) {\n\t\t\t\t\t\tmembersCount = message.actionFor.membersCount;\n\t\t\t\t\t}\n\n\t\t\t\t\tlet newConversationWithObj = { ...conversationWithObj, membersCount: membersCount };\n\n\t\t\t\t\tlet newConversationObj = { ...conversationObj, conversationWith: newConversationWithObj, lastMessage: lastMessageObj };\n\t\t\t\t\tconversationList.splice(conversationKey, 1);\n\t\t\t\t\tconversationList.unshift(newConversationObj);\n\t\t\t\t\tthis.setState({ conversationlist: conversationList });\n\t\t\t\t\tthis.playAudio(message);\n\t\t\t\t}\n\t\t\t}\n\t\t});\n\t};\n\n\tupdateGroupMemberScopeChanged = (message, options) => {\n\t\tthis.makeConversation(message).then(response => {\n\t\t\tconst { conversationKey, conversationObj, conversationList } = response;\n\n\t\t\tif (conversationKey > -1) {\n\t\t\t\tlet lastMessageObj = this.makeLastMessage(message, conversationObj);\n\n\t\t\t\tlet conversationWithObj = { ...conversationObj.conversationWith };\n\t\t\t\tlet membersCount = parseInt(conversationWithObj.membersCount);\n\n\t\t\t\tlet scope = conversationWithObj.scope;\n\t\t\t\tif (options && this.loggedInUser.uid === options.user.uid) {\n\t\t\t\t\tscope = options.scope;\n\t\t\t\t}\n\n\t\t\t\tlet newConversationWithObj = { ...conversationWithObj, membersCount: membersCount, scope: scope };\n\t\t\t\tlet newConversationObj = { ...conversationObj, conversationWith: newConversationWithObj, lastMessage: lastMessageObj };\n\t\t\t\tconversationList.splice(conversationKey, 1);\n\t\t\t\tconversationList.unshift(newConversationObj);\n\t\t\t\tthis.setState({ conversationlist: conversationList });\n\t\t\t\tthis.playAudio(message);\n\t\t\t}\n\t\t});\n\t};\n\n\tupdateGroupMemberChanged = (message, options) => {\n\t\tthis.makeConversation(message).then(response => {\n\t\t\tconst { conversationKey, conversationObj, conversationList } = response;\n\t\t\tif (conversationKey > -1) {\n\t\t\t\tif (options && this.loggedInUser.uid !== options.user.uid) {\n\t\t\t\t\tlet lastMessageObj = this.makeLastMessage(message, conversationObj);\n\t\t\t\t\tlet conversationWithObj = { ...conversationObj.conversationWith };\n\n\t\t\t\t\tlet membersCount = parseInt(conversationWithObj.membersCount);\n\t\t\t\t\tif (message.hasOwnProperty(\"actionFor\") && message.actionFor.hasOwnProperty(\"membersCount\")) {\n\t\t\t\t\t\tmembersCount = message.actionFor.membersCount;\n\t\t\t\t\t}\n\n\t\t\t\t\tlet newConversationWithObj = { ...conversationWithObj, membersCount: membersCount };\n\t\t\t\t\tlet newConversationObj = { ...conversationObj, conversationWith: newConversationWithObj, lastMessage: lastMessageObj };\n\t\t\t\t\tconversationList.splice(conversationKey, 1);\n\t\t\t\t\tconversationList.unshift(newConversationObj);\n\t\t\t\t\tthis.setState({ conversationlist: conversationList });\n\t\t\t\t\tthis.playAudio(message);\n\t\t\t\t}\n\t\t\t}\n\t\t});\n\t};\n\n\thandleScroll = e => {\n\t\tconst bottom = Math.round(e.currentTarget.scrollHeight - e.currentTarget.scrollTop) === Math.round(e.currentTarget.clientHeight);\n\t\tif (bottom) this.getConversations();\n\t};\n\n\t//click handler\n\thandleClick = conversation => {\n\n\t\tif (!this.props.onItemClick) return;\n\t\tthis.props.onItemClick(conversation.conversationWith, conversation.conversationType);\n\t};\n\n\thandleMenuClose = () => {\n\t\tif (!this.props.actionGenerated) {\n\t\t\treturn false;\n\t\t}\n\n\t\tthis.props.actionGenerated(enums.ACTIONS[\"TOGGLE_SIDEBAR\"]);\n\t};\n\n\tgetConversations = () => {\n\t\t\n\t\tthis.ConversationListManager.fetchNextConversation()\n\t\t\t.then(conversationList => {\n\n\t\t\t\tif (conversationList.length === 0) {\n\t\t\t\t\tif (this.state.conversationlist.length === 0) {\n\t\t\t\t\t\tthis.setState({ decoratorMessage: Translator.translate(\"NO_CHATS_FOUND\", this.props.lang) });\n\t\t\t\t\t}\n\t\t\t\t} else {\n\t\t\t\t\tthis.setState({ decoratorMessage: \"\" });\n\t\t\t\t}\n\n\t\t\t\tlet conversations = [...this.state.conversationlist];\n\t\t\t\t//if conversation exists already in the state, remove it from this list\n\t\t\t\tconversationList.forEach(eachConversation => {\n\n\t\t\t\t\tlet conversationKey = conversations.findIndex(c => c.conversationId === eachConversation.conversationId);\n\t\t\t\t\tif (conversationKey > -1) {\n\n\t\t\t\t\t\tconst newUnreadMessageCount = conversations[conversationKey][\"unreadMessageCount\"] + eachConversation[\"unreadMessageCount\"];\n\t\t\t\t\t\tconst updatedConversation = { ...conversations[conversationKey], unreadMessageCount: newUnreadMessageCount };\n\t\t\t\t\t\tconversations.splice(conversationKey, 1, updatedConversation);\n\n\t\t\t\t\t\tconversationList.splice(conversationKey, 1);\n\t\t\t\t\t}\n\n\t\t\t\t});\n\n\t\t\t\tthis.setState({ conversationlist: [...conversations, ...conversationList] });\n\t\t\t})\n\t\t\t.catch(error => this.setState({ decoratorMessage: Translator.translate(\"SOMETHING_WRONG\", this.props.lang) }));\n\t};\n\n\tgetContext = () => {\n\t\tif (this.props._parent.length) {\n\t\t\treturn this.context;\n\t\t} else {\n\t\t\treturn this.contextProviderRef.state;\n\t\t}\n\t};\n\n\tactionHandler = (action, conversation) => {\n\t\tswitch (action) {\n\t\t\tcase enums.ACTIONS[\"CONVERSATION_DELETED\"]:\n\t\t\t\tthis.conversationDeleted(conversation);\n\t\t\t\tbreak;\n\t\t\tcase enums.ACTIONS[\"DELETE_CONVERSATION\"]:\n\t\t\t\tthis.deleteConversation(conversation);\n\t\t\t\tbreak;\n\t\t\tdefault:\n\t\t\t\tbreak;\n\t\t}\n\t};\n\n\tdeleteConversation = conversation => {\n\n\t\tif (!this.state.showConfirmDialog) {\n\t\t\tthis.setState({ showConfirmDialog: true, conversationToBeDeleted: conversation });\n\t\t}\n\t};\n\n\tonDeleteConfirm = e => {\n\n\t\tconst optionSelected = e.target.value;\n\n\t\tthis.setState({ showConfirmDialog: false });\n\t\tif (optionSelected === \"yes\") {\n\n\t\t\tconst conversation = this.state.conversationToBeDeleted;\n\t\t\tconst conversationWith = conversation.conversationType === CometChat.RECEIVER_TYPE.GROUP ? conversation?.conversationWith?.guid : conversation?.conversationWith?.uid;\n\t\t\tCometChat.deleteConversation(conversationWith, conversation.conversationType)\n\t\t\t\t.then(deletedConversation => {\n\t\t\t\t\tthis.conversationDeleted(conversation);\n\t\t\t\t})\n\t\t\t\t.catch(error => this.toastRef.setError(\"SOMETHING_WRONG\"));\n\n\t\t} else {\n\n\t\t\tthis.setState({ showConfirmDialog: false, conversationToBeDeleted: null });\n\t\t}\n\t};\n\n\tconversationDeleted = conversation => {\n\n\t\tconst conversationList = [...this.state.conversationlist];\n\t\tconst conversationKey = conversationList.findIndex(c => c.conversationId === conversation.conversationId);\n\n\t\tif (conversationKey > -1) {\n\n\t\t\tif (\n\t\t\t\t(conversation.conversationType === this.getContext().type && this.getContext().type === CometChat.RECEIVER_TYPE.USER && conversation.conversationWith.uid === this.getContext().item.uid) ||\n\t\t\t\t(conversation.conversationType === this.getContext().type && this.getContext().type === CometChat.RECEIVER_TYPE.GROUP && conversation.conversationWith.guid === this.getContext().item.guid)\n\t\t\t) {\n\t\t\t\tthis.getContext().setTypeAndItem(\"\", {});\n\t\t\t}\n\n\t\t\tconversationList.splice(conversationKey, 1);\n\t\t\tthis.setState({ conversationlist: conversationList, conversationToBeDeleted: null });\n\t\t}\n\n\t};\n\n\trender() {\n\n\t\tconst conversationList = this.state.conversationlist.map((conversation, key) => {\n\n\t\t\treturn <CometChatConversationListItem key={conversation.conversationId} conversation={conversation} loggedInUser={this.loggedInUser} handleClick={this.handleClick} actionGenerated={this.actionHandler} />;\n\t\t});\n\n\t\tlet messageContainer = null;\n\t\tif (this.state.decoratorMessage.length !== 0) {\n\t\t\tmessageContainer = (\n\t\t\t\t<div css={chatsMsgStyle()} className=\"chats__decorator-message\">\n\t\t\t\t\t<p css={chatsMsgTxtStyle(theme)} className=\"decorator-message\">\n\t\t\t\t\t\t{this.state.decoratorMessage}\n\t\t\t\t\t</p>\n\t\t\t\t</div>\n\t\t\t);\n\t\t}\n\n\t\tlet closeBtn = <div css={chatsHeaderCloseStyle(navigateIcon, theme)} className=\"header__close\" onClick={this.handleMenuClose}></div>;\n\t\tif (this.getContext() && Object.keys(this.getContext().item).length === 0) {\n\t\t\tcloseBtn = null;\n\t\t}\n\n\t\tlet showConfirmDialog = null;\n\t\tif (this.state.showConfirmDialog) {\n\t\t\tshowConfirmDialog = (\n\t\t\t\t<CometChatConfirmDialog\n\t\t\t\t\t{...this.props}\n\t\t\t\t\tonClick={this.onDeleteConfirm}\n\t\t\t\t\t// message={Translator.translate(\"DELETE_CONFIRM\", this.getContext().language)}\n\t\t\t\t\t// confirmButtonText={Translator.translate(\"DELETE\", this.getContext().language)}\n\t\t\t\t\t// cancelButtonText={Translator.translate(\"CANCEL\", this.getContext().language)}\n\t\t\t\t\tmessage=\"Xác nhận xóa\"\n\t\t\t\t\tconfirmButtonText=\"Xóa\"\n\t\t\t\t\tcancelButtonText=\"Quay lại\"\n\t\t\t\t/>\n\t\t\t);\n\t\t}\n\n\t\tconst chatList = (\n\t\t\t<div css={chatsWrapperStyle(this.props, theme)} className=\"chats\">\n\t\t\t\t<div css={chatsHeaderStyle(theme)} className=\"chats__header\">\n\t\t\t\t\t{closeBtn}\n\t\t\t\t\t<h4 css={chatsHeaderTitleStyle(this.props)} className=\"header__title\" dir={Translator.getDirection(this.props.lang)}>\n\t\t\t\t\t\t{Translator.translate(\"CHATS\", this.props.lang)}\n\t\t\t\t\t</h4>\n\t\t\t\t</div>\n\t\t\t\t{messageContainer}\n\t\t\t\t<div css={chatsListStyle()} className=\"chats__list\" onScroll={this.handleScroll} ref={el => (this.chatListRef = el)}>\n\t\t\t\t\t{conversationList}\n\t\t\t\t</div>\n\t\t\t\t{showConfirmDialog}\n\t\t\t\t<CometChatToastNotification ref={el => (this.toastRef = el)} lang={this.props.lang} />\n\t\t\t</div>\n\t\t);\n\n\t\tlet chatListWrapper = chatList;\n\t\t//if used as a standalone component, add errorboundary and context provider\n\t\tif (this.props._parent === \"\") {\n\t\t\tchatListWrapper = <CometChatContextProvider ref={el => (this.contextProviderRef = el)}>{chatList}</CometChatContextProvider>;\n\t\t}\n\n\t\treturn chatListWrapper;\n\t}\n}\n\n// Specifies the default values for props:\nCometChatConversationList.defaultProps = {\n\tlang: Translator.getDefaultLanguage(),\n\ttheme: theme,\n\tonItemClick: () => { },\n\t_parent: \"\"\n};\n\nCometChatConversationList.propTypes = {\n\tlang: PropTypes.string,\n\ttheme: PropTypes.object,\n\tonItemClick: PropTypes.func,\n\t_parent: PropTypes.string\n}\n\nexport { CometChatConversationList };","export const conversationActionStyle = context => {\n\treturn {\n\t\tdisplay: \"flex\",\n\t\tlistStyleType: \"none\",\n\t\tpadding: \"8px\",\n\t\tmargin: \"0\",\n\t\twidth: \"72px\",\n\t\tbackgroundColor: `${context.theme.backgroundColor.primary}`,\n\t\tborderRadius: \"4px\",\n\t\talignItems: \"center\",\n\t\tjustifyContent: \"flex-end\",\n\t\tposition: \"absolute\",\n\t\tright: \"16px\",\n\t\theight: \"100%\",\n\t};\n};\n\nexport const groupButtonStyle = (actionInProgress, progressIcon, actionIcon) => {\n\n\tconst backgroundImage = actionInProgress ? progressIcon : actionIcon;\n\n\treturn {\n\t\toutline: \"0\",\n\t\tborder: \"0\",\n\t\theight: \"24px\",\n\t\twidth: \"24px\",\n\t\tborderRadius: \"4px\",\n\t\talignItems: \"center\",\n\t\tdisplay: \"inline-flex\",\n\t\tjustifyContent: \"center\",\n\t\tposition: \"relative\",\n\t\tbackground: `url(${backgroundImage}) center center no-repeat`,\n\t};\n};","export default __webpack_public_path__ + \"static/media/progress.446449d0.svg\";","export default __webpack_public_path__ + \"static/media/delete.9436ff08.svg\";","import React from \"react\";\n/** @jsxRuntime classic */\n/** @jsx jsx */\nimport {jsx} from \"@emotion/core\";\n\nimport {CometChatContext} from \"../../../util/CometChatContext\";\nimport * as enums from \"../../../util/enums.js\";\n\nimport Translator from \"../../../resources/localization/translator\";\n\nimport {conversationActionStyle, groupButtonStyle} from \"./style.js\";\n\nimport loadingIcon from \"./resources/progress.svg\";\nimport deleteIcon from \"./resources/delete.svg\";\n\nclass CometChatConversationListActions extends React.PureComponent {\n\tstatic contextType = CometChatContext;\n\n\tconstructor(props) {\n\t\tsuper(props);\n\t\tthis._isMounted = false;\n\t\tthis.state = {\n\t\t\tdeleteInProgress: false,\n\t\t};\n\t}\n\n\tcomponentDidMount() {\n\t\tthis._isMounted = true;\n\t}\n\n\tcomponentWillUnmount() {\n\t\tthis._isMounted = false;\n\t}\n\n\ttoggleTooltip = (event, flag) => {\n\t\tconst elem = event.target;\n\n\t\tif (flag) {\n\t\t\telem.setAttribute(\"title\", elem.dataset.title);\n\t\t} else {\n\t\t\telem.removeAttribute(\"title\");\n\t\t}\n\t};\n\n\tdeleteConversation = event => {\n\n\t\tthis.props.actionGenerated(enums.ACTIONS[\"DELETE_CONVERSATION\"], this.props.conversation);\n\t\tevent.stopPropagation();\n\t};\n\n\trender() {\n\t\tconst deleteConversation = (\n\t\t\t<li>\n\t\t\t\t<button\n\t\t\t\ttype=\"button\"\n\t\t\t\tcss={groupButtonStyle(this.state.deleteInProgress, loadingIcon, deleteIcon)}\n\t\t\t\tclassName=\"group__button button__delete\"\n\t\t\t\tdata-title={Translator.translate(\"DELETE\", this.context.language)}\n\t\t\t\tonMouseEnter={event => this.toggleTooltip(event, true)}\n\t\t\t\tonMouseLeave={event => this.toggleTooltip(event, false)}\n\t\t\t\tonClick={this.deleteConversation} />\n\t\t\t</li>\n\t\t);\n\n\t\treturn (\n\t\t\t<ul css={conversationActionStyle(this.context)} className=\"list__item__actions\">\n\t\t\t\t{deleteConversation}\n\t\t\t</ul>\n\t\t);\n\t}\n}\n\nexport {CometChatConversationListActions};","export const listItem = (props) => {\n\n    const selectedState = (props.selectedConversation && props.selectedConversation.conversationId === props.conversation.conversationId) ? {\n        backgroundColor: `${props.theme.backgroundColor.primary}`\n    } : {};\n\n    return {\n        display: \"flex\",\n        flexDirection: \"row\",\n        justifyContent: \"left\",\n        alignItems: \"center\",\n        cursor: \"pointer\",\n        width: \"100%\",\n        padding: \"8px 16px\",\n        position: \"relative\",\n        ...selectedState,\n        '&:hover': {\n            backgroundColor: `${props.theme.backgroundColor.primary}`\n        },\n    }\n}\n\nexport const itemThumbnailStyle = () => {\n\n    return {\n        display: \"inline-block\",\n        width: \"36px\",\n        height: \"36px\",\n        flexShrink: \"0\",\n    }\n}\n\nexport const itemDetailStyle = () => {\n\n    return {\n        width: \"calc(100% - 45px)\",\n        flexGrow: \"1\",\n        paddingLeft: \"16px\",\n        \"&[dir=rtl]\": {\n            paddingRight: \"16px\",\n            paddingLeft: \"0\",\n        }\n    }\n}\n\nexport const itemRowStyle = () => {\n\n    return {\n        display: \"flex\",\n        justifyContent: \"space-between\",\n        alignItems: \"baseline\",\n    }\n}\n\nexport const itemNameStyle = (props) => {\n\n    return {\n        fontSize: \"15px\",\n        fontWeight: \"600\",\n        display: \"block\",\n        width: \"calc(100% - 70px)\",\n        overflow: \"hidden\",\n        textOverflow: \"ellipsis\",\n        whiteSpace: \"nowrap\",\n        lineHeight: \"22px\",\n        color: `${props.theme.color.primary}`\n    }\n}\n\nexport const itemLastMsgStyle = (props) => {\n\n    return {\n        margin: \"0\",\n        fontSize: \"13px\",\n        fontWeight: \"400\",\n        width: \"calc(100% - 50px)\",\n        overflow: \"hidden\",\n        textOverflow: \"ellipsis\",\n        whiteSpace: \"nowrap\",\n        lineHeight: \"20px\",\n        color: `${props.theme.color.helpText}`,\n    }\n}\n\nexport const itemLastMsgTimeStyle = (props) => {\n\n    return {\n        fontSize: \"11px\",\n        width: \"70px\",\n        textAlign: \"right\",\n        color: `${props.theme.color.helpText}`,\n    }\n}\n","import React from \"react\";\n/** @jsxRuntime classic */\n/** @jsx jsx */\nimport { jsx } from \"@emotion/core\";\nimport PropTypes from \"prop-types\";\nimport { CometChat } from \"@cometchat-pro/chat\";\n\nimport {CometChatAvatar, CometChatBadgeCount, CometChatUserPresence } from \"../../Shared\";\nimport {CometChatConversationListActions} from \"../CometChatConversationListActions\";\n\nimport * as enums from \"../../../util/enums.js\";\nimport { checkMessageForExtensionsData, getTimeStampForLastMessage } from \"../../../util/common\";\nimport { CometChatContext } from \"../../../util/CometChatContext\"\n\nimport { theme } from \"../../../resources/theme\";\nimport Translator from \"../../../resources/localization/translator\";\n\nimport {\n  listItem,\n  itemThumbnailStyle,\n  itemDetailStyle,\n  itemRowStyle,\n  itemNameStyle,\n  itemLastMsgStyle,\n  itemLastMsgTimeStyle\n} from \"./style\";\n\nclass CometChatConversationListItem extends React.PureComponent {\n\tstatic contextType = CometChatContext;\n\n\tconstructor(props) {\n\t\tsuper(props);\n\n\t\tthis.state = {\n\t\t\tlastMessage: \"\",\n\t\t\tlastMessageTimestamp: \"\",\n\t\t\tenableUnreadCount: false,\n\t\t\tisHovering: false,\n\t\t\tenableHideDeletedMessages: false,\n\t\t};\n\t}\n\n\tcomponentDidMount() {\n\t\tconst message = this.getLastMessage();\n\t\tconst timestamp = this.getLastMessageTimestamp();\n\t\tthis.enableUnreadCount();\n\t\tthis.enableHideDeletedMessages();\n\n\t\tthis.setState({ lastMessage: message, lastMessageTimestamp: timestamp });\n\t}\n\n\tcomponentDidUpdate(prevProps) {\n\t\tconst previousItem = JSON.stringify(prevProps.conversation);\n\t\tconst currentItem = JSON.stringify(this.props.conversation);\n\n\t\tif (previousItem !== currentItem) {\n\t\t\tconst message = this.getLastMessage();\n\t\t\tconst timestamp = this.getLastMessageTimestamp();\n\n\t\t\tthis.setState({ lastMessage: message, lastMessageTimestamp: timestamp });\n\t\t}\n\n\t\tthis.enableUnreadCount();\n\t\tthis.enableHideDeletedMessages();\n\t}\n\n\tgetLastMessage = () => {\n\t\tif (this.props.hasOwnProperty(\"conversation\") === false) {\n\t\t\treturn false;\n\t\t}\n\n\t\tif (this.props.conversation.hasOwnProperty(\"lastMessage\") === false) {\n\t\t\treturn false;\n\t\t}\n\n\t\tlet message = null;\n\t\tconst lastMessage = this.props.conversation.lastMessage;\n\n\t\tif (lastMessage.hasOwnProperty(\"deletedAt\")) {\n\t\t\tif (this.state.enableHideDeletedMessages) {\n\t\t\t\tmessage = \"\";\n\t\t\t} else {\n\t\t\t\tmessage = this.props.loggedInUser.uid === lastMessage.sender.uid ? `${Translator.translate(\"YOU_DELETED_THIS_MESSAGE\", this.context.language)}` : `${Translator.translate(\"THIS_MESSAGE_DELETED\", this.context.language)}`;\n\t\t\t}\n\t\t} else {\n\t\t\tswitch (lastMessage.category) {\n\t\t\t\tcase CometChat.CATEGORY_MESSAGE:\n\t\t\t\t\tmessage = this.getMessage(lastMessage);\n\t\t\t\t\tbreak;\n\t\t\t\tcase CometChat.CATEGORY_CALL:\n\t\t\t\t\tmessage = this.getCallMessage(lastMessage);\n\t\t\t\t\tbreak;\n\t\t\t\tcase CometChat.CATEGORY_ACTION:\n\t\t\t\t\tmessage = this.getActionMessage(lastMessage);\n\t\t\t\t\tbreak;\n\t\t\t\tcase CometChat.CATEGORY_CUSTOM:\n\t\t\t\t\tmessage = this.getCustomMessage(lastMessage);\n\t\t\t\t\tbreak;\n\t\t\t\tdefault:\n\t\t\t\t\tbreak;\n\t\t\t}\n\t\t}\n\t\treturn message;\n\t};\n\n\tgetLastMessageTimestamp = () => {\n\t\tif (this.props.hasOwnProperty(\"conversation\") === false) {\n\t\t\treturn false;\n\t\t}\n\n\t\tif (this.props.conversation.hasOwnProperty(\"lastMessage\") === false) {\n\t\t\treturn false;\n\t\t}\n\n\t\tif (this.props.conversation.lastMessage.hasOwnProperty(\"sentAt\") === false && this.props.conversation.lastMessage.hasOwnProperty(\"_composedAt\") === false) {\n\t\t\treturn false;\n\t\t}\n\n\t\tlet timestamp = this.props.conversation.lastMessage._composedAt || this.props.conversation.lastMessage.sentAt;\n\t\ttimestamp = getTimeStampForLastMessage(timestamp, this.context.language);\n\n\t\treturn timestamp;\n\t};\n\n\tgetCustomMessage = lastMessage => {\n\t\tlet message = null;\n\t\tconst sender = this.props.loggedInUser.uid !== lastMessage.sender.uid ? `${lastMessage.sender.name}: ` : ``;\n\n\t\tswitch (lastMessage.type) {\n\t\t\tcase enums.CUSTOM_TYPE_POLL:\n\t\t\t\t{\n\t\t\t\t\tconst pollMessage = Translator.translate(\"CUSTOM_MESSAGE_POLL\", this.context.language);\n\t\t\t\t\tmessage = lastMessage.receiverType === CometChat.RECEIVER_TYPE.GROUP ? `${sender} ${pollMessage}` : `${pollMessage}`;\n\t\t\t\t}\n\t\t\t\tbreak;\n\t\t\tcase enums.CUSTOM_TYPE_STICKER:\n\t\t\t\t{\n\t\t\t\t\tconst stickerMessage = Translator.translate(\"CUSTOM_MESSAGE_STICKER\", this.context.language);\n\t\t\t\t\tmessage = lastMessage.receiverType === CometChat.RECEIVER_TYPE.GROUP ? `${sender} ${stickerMessage}` : `${stickerMessage}`;\n\t\t\t\t}\n\t\t\t\tbreak;\n\t\t\tcase enums.CUSTOM_TYPE_DOCUMENT:\n\t\t\t\t{\n\t\t\t\t\tconst docMessage = Translator.translate(\"CUSTOM_MESSAGE_DOCUMENT\", this.context.language);\n\t\t\t\t\tmessage = lastMessage.receiverType === CometChat.RECEIVER_TYPE.GROUP ? `${sender} ${docMessage}` : `${docMessage}`;\n\t\t\t\t}\n\t\t\t\tbreak;\n\t\t\tcase enums.CUSTOM_TYPE_WHITEBOARD:\n\t\t\t\t{\n\t\t\t\t\tconst whiteboardMessage = Translator.translate(\"CUSTOM_MESSAGE_WHITEBOARD\", this.context.language);\n\t\t\t\t\tmessage = lastMessage.receiverType === CometChat.RECEIVER_TYPE.GROUP ? `${sender} ${whiteboardMessage}` : `${whiteboardMessage}`;\n\t\t\t\t}\n\t\t\t\tbreak;\n\t\t\tcase enums.CUSTOM_TYPE_MEETING:\n\t\t\t\t{\n\t\t\t\t\tconst meetingMessage = Translator.translate(\"VIDEO_CALL\", this.context.language);\n\t\t\t\t\tmessage = `${sender} ${meetingMessage}`;\n\t\t\t\t}\n\t\t\t\tbreak;\n\t\t\tdefault:\n\t\t\t\tbreak;\n\t\t}\n\t\treturn message;\n\t};\n\n\tgetTextMessage = message => {\n\t\tlet messageText = message.text;\n\n\t\t//xss extensions data\n\t\tconst xssData = checkMessageForExtensionsData(message, \"xss-filter\");\n\t\tif (xssData && xssData.hasOwnProperty(\"sanitized_text\")) {\n\t\t\tmessageText = xssData.sanitized_text;\n\t\t}\n\n\t\t//datamasking extensions data\n\t\tconst maskedData = checkMessageForExtensionsData(message, \"data-masking\");\n\t\tif (maskedData && maskedData.hasOwnProperty(\"data\") && maskedData.data.hasOwnProperty(\"sensitive_data\") && maskedData.data.hasOwnProperty(\"message_masked\") && maskedData.data.sensitive_data === \"yes\") {\n\t\t\tmessageText = maskedData.data.message_masked;\n\t\t}\n\n\t\t//profanity extensions data\n\t\tconst profaneData = checkMessageForExtensionsData(message, \"profanity-filter\");\n\t\tif (profaneData && profaneData.hasOwnProperty(\"profanity\") && profaneData.hasOwnProperty(\"message_clean\") && profaneData.profanity === \"yes\") {\n\t\t\tmessageText = profaneData.message_clean;\n\t\t}\n\n\t\treturn messageText;\n\t};\n\n\tgetMessage = lastMessage => {\n\t\tlet message = null;\n\t\tconst sender = this.props?.loggedInUser?.uid !== lastMessage?.sender?.uid ? `${lastMessage?.sender?.name}: ` : ``;\n\n\t\tswitch (lastMessage.type) {\n\t\t\tcase CometChat.MESSAGE_TYPE.TEXT:\n\t\t\t\t{\n\t\t\t\t\tconst textMessage = this.getTextMessage(lastMessage);\n\t\t\t\t\tmessage = lastMessage.receiverType === CometChat.RECEIVER_TYPE.GROUP ? `${sender} ${textMessage}` : `${textMessage}`;\n\t\t\t\t}\n\t\t\t\tbreak;\n\t\t\tcase CometChat.MESSAGE_TYPE.MEDIA:\n\t\t\t\t{\n\t\t\t\t\tconst mediaMessage = Translator.translate(\"MEDIA_MESSAGE\", this.context.language);\n\t\t\t\t\tmessage = lastMessage.receiverType === CometChat.RECEIVER_TYPE.GROUP ? `${sender} ${mediaMessage}` : `${mediaMessage}`;\n\t\t\t\t}\n\t\t\t\tbreak;\n\t\t\tcase CometChat.MESSAGE_TYPE.IMAGE:\n\t\t\t\t{\n\t\t\t\t\tconst imageMessage = Translator.translate(\"MESSAGE_IMAGE\", this.context.language);\n\t\t\t\t\tmessage = lastMessage.receiverType === CometChat.RECEIVER_TYPE.GROUP ? `${sender} ${imageMessage}` : `${imageMessage}`;\n\t\t\t\t}\n\t\t\t\tbreak;\n\t\t\tcase CometChat.MESSAGE_TYPE.FILE:\n\t\t\t\t{\n\t\t\t\t\tconst fileMessage = Translator.translate(\"MESSAGE_FILE\", this.context.language);\n\t\t\t\t\tmessage = lastMessage.receiverType === CometChat.RECEIVER_TYPE.GROUP ? `${sender} ${fileMessage}` : `${fileMessage}`;\n\t\t\t\t}\n\t\t\t\tbreak;\n\t\t\tcase CometChat.MESSAGE_TYPE.VIDEO:\n\t\t\t\t{\n\t\t\t\t\tconst videoMessage = Translator.translate(\"MESSAGE_VIDEO\", this.context.language);\n\t\t\t\t\tmessage = lastMessage.receiverType === CometChat.RECEIVER_TYPE.GROUP ? `${sender} ${videoMessage}` : `${videoMessage}`;\n\t\t\t\t}\n\t\t\t\tbreak;\n\t\t\tcase CometChat.MESSAGE_TYPE.AUDIO:\n\t\t\t\t{\n\t\t\t\t\tconst audioMessage = Translator.translate(\"MESSAGE_AUDIO\", this.context.language);\n\t\t\t\t\tmessage = lastMessage.receiverType === CometChat.RECEIVER_TYPE.GROUP ? `${sender} ${audioMessage}` : `${audioMessage}`;\n\t\t\t\t}\n\t\t\t\tbreak;\n\t\t\tcase CometChat.MESSAGE_TYPE.CUSTOM:\n\t\t\t\t{\n\t\t\t\t\tconst customMessage = Translator.translate(\"CUSTOM_MESSAGE\", this.context.language);\n\t\t\t\t\tmessage = lastMessage.receiverType === CometChat.RECEIVER_TYPE.GROUP ? `${sender} ${customMessage}` : `${customMessage}`;\n\t\t\t\t}\n\t\t\t\tbreak;\n\t\t\tdefault:\n\t\t\t\tbreak;\n\t\t}\n\n\t\treturn message;\n\t};\n\n\tgetCallMessage = lastMessage => {\n\t\tlet message = null;\n\t\tconst sender = this.props.loggedInUser.uid !== lastMessage.sender.uid ? `${lastMessage.sender.name}: ` : ``;\n\n\t\tswitch (lastMessage.type) {\n\t\t\tcase CometChat.MESSAGE_TYPE.VIDEO:\n\t\t\t\t{\n\t\t\t\t\tconst videoMessage = Translator.translate(\"VIDEO_CALL\", this.context.language);\n\t\t\t\t\tmessage = lastMessage.receiverType === CometChat.RECEIVER_TYPE.GROUP ? `${sender} ${videoMessage}` : `${videoMessage}`;\n\t\t\t\t}\n\t\t\t\tbreak;\n\t\t\tcase CometChat.MESSAGE_TYPE.AUDIO:\n\t\t\t\t{\n\t\t\t\t\tconst audioMessage = Translator.translate(\"AUDIO_CALL\", this.context.language);\n\t\t\t\t\tmessage = lastMessage.receiverType === CometChat.RECEIVER_TYPE.GROUP ? `${sender} ${audioMessage}` : `${audioMessage}`;\n\t\t\t\t}\n\t\t\t\tbreak;\n\t\t\tdefault:\n\t\t\t\tbreak;\n\t\t}\n\n\t\treturn message;\n\t};\n\n\tgetActionMessage = message => {\n\t\tlet actionMessage = null;\n\n\t\tif (message.hasOwnProperty(\"actionBy\") === false || message.hasOwnProperty(\"actionOn\") === false) {\n\t\t\treturn actionMessage;\n\t\t}\n\n\t\tif (message.action !== CometChat.ACTION_TYPE.MEMBER_JOINED && message.action !== CometChat.ACTION_TYPE.MEMBER_LEFT && (message.actionBy.hasOwnProperty(\"name\") === false || message.actionOn.hasOwnProperty(\"name\") === false)) {\n\t\t\treturn actionMessage;\n\t\t}\n\n\t\tif (message.action === CometChat.ACTION_TYPE.MEMBER_SCOPE_CHANGED) {\n\t\t\tif (message.hasOwnProperty(\"data\") && message.data.hasOwnProperty(\"extras\")) {\n\t\t\t\tif (message.data.extras.hasOwnProperty(\"scope\")) {\n\t\t\t\t\tif (message.data.extras.scope.hasOwnProperty(\"new\") === false) {\n\t\t\t\t\t\treturn actionMessage;\n\t\t\t\t\t}\n\t\t\t\t} else {\n\t\t\t\t\treturn actionMessage;\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\treturn actionMessage;\n\t\t\t}\n\t\t}\n\n\t\tif (message.action === CometChat.ACTION_TYPE.MEMBER_SCOPE_CHANGED && message.data.extras.hasOwnProperty(\"scope\") === false) {\n\t\t\treturn actionMessage;\n\t\t}\n\n\t\tif (message.action === CometChat.ACTION_TYPE.MEMBER_SCOPE_CHANGED && message.data.extras.scope.hasOwnProperty(\"new\") === false) {\n\t\t\treturn actionMessage;\n\t\t}\n\n\t\tconst byEntity = message.actionBy;\n\t\tconst onEntity = message.actionOn;\n\n\t\tconst byString = byEntity.name;\n\t\tconst forString = message.action !== CometChat.ACTION_TYPE.MEMBER_JOINED && message.action !== CometChat.ACTION_TYPE.MEMBER_LEFT ? onEntity.name : \"\";\n\n\t\tswitch (message.action) {\n\t\t\tcase CometChat.ACTION_TYPE.MEMBER_ADDED:\n\t\t\t\tactionMessage = `${byString} ${Translator.translate(\"ADDED\", this.context.language)} ${forString}`;\n\t\t\t\tbreak;\n\t\t\tcase CometChat.ACTION_TYPE.MEMBER_JOINED:\n\t\t\t\tactionMessage = `${byString} ${Translator.translate(\"JOINED\", this.context.language)}`;\n\t\t\t\tbreak;\n\t\t\tcase CometChat.ACTION_TYPE.MEMBER_LEFT:\n\t\t\t\tactionMessage = `${byString} ${Translator.translate(\"LEFT\", this.context.language)}`;\n\t\t\t\tbreak;\n\t\t\tcase CometChat.ACTION_TYPE.MEMBER_KICKED:\n\t\t\t\tactionMessage = `${byString} ${Translator.translate(\"KICKED\", this.context.language)} ${forString}`;\n\t\t\t\tbreak;\n\t\t\tcase CometChat.ACTION_TYPE.MEMBER_BANNED:\n\t\t\t\tactionMessage = `${byString} ${Translator.translate(\"BANNED\", this.context.language)} ${forString}`;\n\t\t\t\tbreak;\n\t\t\tcase CometChat.ACTION_TYPE.MEMBER_UNBANNED:\n\t\t\t\tactionMessage = `${byString} ${Translator.translate(\"UNBANNED\", this.context.language)} ${forString}`;\n\t\t\t\tbreak;\n\t\t\tcase CometChat.ACTION_TYPE.MEMBER_SCOPE_CHANGED: {\n\t\t\t\tconst newScope = message[\"data\"][\"extras\"][\"scope\"][\"new\"];\n\t\t\t\tactionMessage = `${byString} ${Translator.translate(\"MADE\", this.context.language)} ${forString} ${Translator.translate(newScope, this.context.language)}`;\n\t\t\t\tbreak;\n\t\t\t}\n\t\t\tdefault:\n\t\t\t\tbreak;\n\t\t}\n\n\t\treturn actionMessage;\n\t};\n\n\ttoggleTooltip = (event, flag) => {\n\t\tconst elem = event.target;\n\n\t\tconst scrollWidth = elem.scrollWidth;\n\t\tconst clientWidth = elem.clientWidth;\n\n\t\tif (scrollWidth <= clientWidth) {\n\t\t\treturn false;\n\t\t}\n\n\t\tif (flag) {\n\t\t\telem.setAttribute(\"title\", elem.textContent);\n\t\t} else {\n\t\t\telem.removeAttribute(\"title\");\n\t\t}\n\t};\n\n\tenableUnreadCount = () => {\n\t\tthis.context.FeatureRestriction.isUnreadCountEnabled()\n\t\t\t.then(response => {\n\t\t\t\t/**\n\t\t\t\t * Don't update state if the response has the same value\n\t\t\t\t */\n\t\t\t\tif (response !== this.state.enableUnreadCount) {\n\t\t\t\t\tthis.setState({ enableUnreadCount: response });\n\t\t\t\t}\n\t\t\t})\n\t\t\t.catch(error => {\n\t\t\t\tif (this.state.enableUnreadCount !== false) {\n\t\t\t\t\tthis.setState({ enableUnreadCount: false });\n\t\t\t\t}\n\t\t\t});\n\t};\n\n\tenableHideDeletedMessages = () => {\n\t\tthis.context.FeatureRestriction.isHideDeletedMessagesEnabled()\n\t\t\t.then(response => {\n\t\t\t\tif (response !== this.state.enableHideDeletedMessages) {\n\t\t\t\t\tthis.setState({ enableHideDeletedMessages: response });\n\t\t\t\t}\n\t\t\t})\n\t\t\t.catch(error => {\n\t\t\t\tif (this.state.enableHideDeletedMessages !== false) {\n\t\t\t\t\tthis.setState({ enableHideDeletedMessages: false });\n\t\t\t\t}\n\t\t\t});\n\t};\n\n\thandleMouseHover = toggleFlag => {\n\t\tif (toggleFlag && !this.state.isHovering) {\n\t\t\tthis.setState({ isHovering: true });\n\t\t} else if (!toggleFlag && this.state.isHovering) {\n\t\t\tthis.setState({ isHovering: false });\n\t\t}\n\t};\n\n\trender() {\n\t\tlet lastMessageTimeStamp = null;\n\t\tif (this.state.lastMessage) {\n\t\t\tlastMessageTimeStamp = (\n\t\t\t\t<span css={itemLastMsgTimeStyle(this.props)} className=\"item__details__timestamp\">\n\t\t\t\t\t{this.state.lastMessageTimestamp}\n\t\t\t\t</span>\n\t\t\t);\n\t\t}\n\n\t\tlet presence;\n\t\tif (this.props.conversation.conversationType === CometChat.RECEIVER_TYPE.USER) {\n\t\t\tconst status = this.props.conversation.conversationWith.status;\n\t\t\tpresence = <CometChatUserPresence status={status} borderColor={this.props.theme.borderColor.primary} />;\n\t\t}\n\n\t\tlet avatar = null;\n\t\tif (this.props.conversation.conversationType === CometChat.RECEIVER_TYPE.USER) {\n\t\t\tavatar = <CometChatAvatar user={this.props.conversation.conversationWith} />;\n\t\t} else if (this.props.conversation.conversationType === CometChat.RECEIVER_TYPE.GROUP) {\n\t\t\tavatar = <CometChatAvatar group={this.props.conversation.conversationWith} />;\n\t\t}\n\n\t\tlet unreadCount = null;\n\t\tif (this.state.enableUnreadCount) {\n\t\t\tunreadCount = <CometChatBadgeCount count={this.props.conversation.unreadMessageCount} />;\n\t\t}\n\n\t\tlet toolTipView = null;\n\t\tif (this.state.isHovering) {\n\t\t\ttoolTipView = <CometChatConversationListActions {...this.props} conversation={this.props.conversation} />;\n\t\t}\n\n\t\treturn (\n\t\t\t<div css={listItem(this.props)} className=\"list__item\" onMouseEnter={() => this.handleMouseHover(true)} onMouseLeave={() => this.handleMouseHover(false)} onClick={() => this.props.handleClick(this.props.conversation)}>\n\t\t\t\t<div css={itemThumbnailStyle()} className=\"list__item__thumbnail\">\n\t\t\t\t\t{avatar}\n\t\t\t\t\t{presence}\n\t\t\t\t</div>\n\t\t\t\t<div css={itemDetailStyle()} className=\"list__item__details\" dir={Translator.getDirection(this.context.language)}>\n\t\t\t\t\t<div css={itemRowStyle()} className=\"item__details_block_one\">\n\t\t\t\t\t\t<div css={itemNameStyle(this.props)} className=\"item__details__name\" onMouseEnter={event => this.toggleTooltip(event, true)} onMouseLeave={event => this.toggleTooltip(event, false)}>\n\t\t\t\t\t\t\t{this.props.conversation.conversationWith.name}\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t{lastMessageTimeStamp}\n\t\t\t\t\t</div>\n\t\t\t\t\t<div css={itemRowStyle()} className=\"item__details_block_two\">\n\t\t\t\t\t\t<div css={itemLastMsgStyle(this.props)} className=\"item__details__last-message\" onMouseEnter={event => this.toggleTooltip(event, true)} onMouseLeave={event => this.toggleTooltip(event, false)}>\n\t\t\t\t\t\t\t{this.state.lastMessage}\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t{unreadCount}\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t\t{toolTipView}\n\t\t\t</div>\n\t\t);\n\t}\n}\n\n// Specifies the default values for props:\nCometChatConversationListItem.defaultProps = {\n\ttheme: theme,\n\tloggedInUser: null,\n\tconversation: {\n\t\tconversationWith: {}\n\t}\n};\n\nCometChatConversationListItem.propTypes = {\n\ttheme: PropTypes.object,\n\tloggedInUser: PropTypes.shape(CometChat.User),\n\tconversation: PropTypes.shape(CometChat.Conversation)\n}\n\nexport { CometChatConversationListItem };\n","export const previewWrapperStyle = (context, keyframes) => {\n\n\tconst slideAnimation = keyframes`\n    from {\n        bottom: -55px\n    }\n    to {\n        bottom: 0px\n    }`;\n\n\treturn {\n\t\tpadding: \"8px 8px 16px 8px\",\n        marginBottom: \"-8px\",\n\t\tbackgroundColor: `${context.theme.backgroundColor.white}`,\n\t\tborder: `1px solid ${context.theme.borderColor.primary}`,\n\t\tfontSize: \"13px\",\n\t\tdisplay: \"flex\",\n\t\tflexDirection: \"row-reverse\",\n\t\tjustifyContent: \"space-between\",\n\t\tanimation: `${slideAnimation} 0.5s ease-out`,\n\t\tposition: \"relative\",\n\t};\n};\n\nexport const previewHeadingStyle = () => {\n\n    return {\n        alignSelf: \"flex-start\",\n        display: \"flex\",\n        alignItems: \"baseline\",\n        justifyContent: \"space-between\"\n    }\n}\n\nexport const previewCloseStyle = (img, context) => {\n\n    return {\n        width: \"24px\",\n        height: \"24px\",\n        borderRadius: \"50%\",\n        mask: `url(${img}) center center no-repeat`,\n\t\tbackgroundColor: `${context.theme.primaryColor}`,\n        cursor: \"pointer\",\n    }\n}\n\nexport const previewOptionsWrapperStyle = () => {\n\n    return {\n        display: \"flex\",\n        alignItems: \"center\",\n        justifyContent: \"space-around\",\n        width: \"100%\",\n    }\n}\n\nexport const previewOptionStyle = context => {\n\n\treturn {\n\t\tpadding: \"8px\",\n\t\tmargin: \"0 8px\",\n\t\tbackgroundColor: `${context.theme.backgroundColor.grey}`,\n\t\tborder: `1px solid ${context.theme.borderColor.primary}`,\n\t\tborderRadius: \"10px\",\n\t\tcursor: \"pointer\",\n\t\theight: \"100%\",\n\t\ttextAlign: \"center\",\n\t};\n};","export default __webpack_public_path__ + \"static/media/close.0b0b6f95.svg\";","import { useContext } from 'react';\n\n/** @jsxRuntime classic */\n/** @jsx jsx */\nimport { jsx, keyframes } from '@emotion/core';\nimport PropTypes from 'prop-types';\n\nimport { CometChatContext } from \"../../../../util/CometChatContext\";\n\nimport { theme } from \"../../../../resources/theme\";\n\nimport {\n    previewWrapperStyle,\n    previewHeadingStyle,\n    previewCloseStyle,\n    previewOptionsWrapperStyle,\n    previewOptionStyle,\n} from \"./style\";\n\nimport closeIcon from \"./resources/close.svg\";\n\nconst CometChatSmartReplyPreview = (props) => {\n\n    const context = useContext(CometChatContext);\n\n    const options = props.options.map((option, key) => {\n\n        return (<div key={key} css={previewOptionStyle(context)} className=\"option\" onClick={() => props.clicked(option)}>{option}</div>)\n    })\n\n    return (\n        <div css={previewWrapperStyle(context, keyframes)} className=\"reply__preview__wrapper\">\n            <div css={previewHeadingStyle()} className=\"preview__heading\">\n                <div css={previewCloseStyle(closeIcon, context)} onClick={props.close} className=\"preview__close\"></div>\n            </div>\n            <div css={previewOptionsWrapperStyle()} className=\"preview__options\">{options}</div>\n        </div>\n    )\n}\n\n// Specifies the default values for props:\nCometChatSmartReplyPreview.defaultProps = {\n    theme: theme\n};\n\nCometChatSmartReplyPreview.propTypes = {\n    theme: PropTypes.object\n}\n\nexport { CometChatSmartReplyPreview };","export const stickerWrapperStyle = (context, keyframes) => {\n\n\tconst slideAnimation = keyframes`\n    from {\n        bottom: -55px\n    }\n    to {\n        bottom: 0px\n    }`;\n\n\treturn {\n\t\tbackgroundColor: `${context.theme.backgroundColor.grey}`,\n\t\tborder: `1px solid ${context.theme.borderColor.primary}`,\n\t\tborderBottom: \"none\",\n\t\tanimation: `${slideAnimation} 0.5s ease-out`,\n\t\tborderRadius: \"10px 10px 0 0\",\n\t\theight: \"215px\",\n\t\tdisplay: \"flex\",\n\t\tflexDirection: \"column\",\n\t\tjustifyContent: \"center\",\n\t};\n};\n\nexport const stickerSectionListStyle = context => {\n\n\treturn {\n\t\tborderTop: `1px solid ${context.theme.borderColor.primary}`,\n\t\tbackgroundColor: `${context.theme.backgroundColor.silver}`,\n\t\tdisplay: \"flex\",\n\t\tjustifyContent: \"space-between\",\n\t\talignItems: \"center\",\n\t\ttextTransform: \"uppercase\",\n\t\toverflowX: \"auto\",\n\t\toverflowY: \"hidden\",\n\t\tpadding: \"10px\",\n\t\t\"::-webkit-scrollbar\": {\n\t\t\tbackground: `${context.theme.backgroundColor.primary}`,\n\t\t},\n\t\t\"::-webkit-scrollbar-thumb\": {\n\t\t\tbackground: `${context.theme.backgroundColor.silver}`,\n\t\t},\n\t};\n};\n\nexport const sectionListItemStyle = () => {\n\n    return {\n\n        height: \"35px\",\n        width: \"35px\",\n        cursor: \"pointer\",\n        flexShrink: \"0\",\n        \":not(:first-of-type)\": {\n            marginLeft: \"16px\",\n        },\n    }\n}\n\nexport const stickerListStyle = () => {\n\n    return {\n        height: \"calc(100% - 50px)\",\n        display: \"flex\",\n        overflowX: \"hidden\",\n        overflowY: \"auto\",\n        flexWrap: \"wrap\",\n        justifyContent: \"space-between\",\n        alignItems: \"center\"\n    }\n}\n\nexport const stickerItemStyle = context => {\n\n\tconst mq = [...context.theme.breakPoints];\n\n\treturn {\n\t\tminWidth: \"50px\",\n\t\tminHeight: \"50px\",\n\t\tmaxWidth: \"70px\",\n\t\tmaxHeight: \"70px\",\n\t\tcursor: \"pointer\",\n\t\tflexShrink: \"0\",\n\t\tmarginRight: \"20px\",\n\t\t[`@media ${mq[1]}, ${mq[2]}, ${mq[3]}`]: {\n\t\t\tmaxWidth: \"70px\",\n\t\t\tmaxHeight: \"70px\",\n\t\t},\n\t};\n};\n\nexport const stickerMsgStyle = () => {\n\n    return {\n        overflow: \"hidden\",\n        width: \"100%\",\n        display: \"flex\",\n        justifyContent: \"center\",\n        alignItems: \"center\",\n        position: \"absolute\",\n        top: \"35%\",\n    }\n}\n\nexport const stickerMsgTxtStyle = context => {\n\n\treturn {\n\t\tmargin: \"0\",\n\t\theight: \"30px\",\n\t\tcolor: `${context.theme.color.secondary}`,\n\t\tfontSize: \"24px!important\",\n\t\tfontWeight: \"600\",\n\t};\n};\n\nexport const stickerCloseStyle = (img, context) => {\n\t\n\treturn {\n\t\twidth: \"20px\",\n\t\theight: \"20px\",\n\t\tborderRadius: \"50%\",\n\t\talignSelf: \"flex-end\",\n\t\tmask: `url(${img}) center center no-repeat`,\n\t\tbackgroundColor: `${context.theme.primaryColor}`,\n\t\tcursor: \"pointer\",\n\t\tmargin: \"8px 8px 0 0\",\n\t};\n};\n","export default __webpack_public_path__ + \"static/media/close.0b0b6f95.svg\";","import React from \"react\";\n/** @jsxRuntime classic */\n/** @jsx jsx */\nimport { jsx, keyframes } from '@emotion/core';\nimport PropTypes from 'prop-types';\nimport { CometChat } from \"@cometchat-pro/chat\";\n\nimport { CometChatContext } from \"../../../../util/CometChatContext\";\nimport * as enums from \"../../../../util/enums.js\";\n\nimport { theme } from \"../../../../resources/theme\";\nimport Translator from \"../../../../resources/localization/translator\";\n\nimport { \n    stickerWrapperStyle, \n    stickerSectionListStyle, \n    stickerListStyle,\n    sectionListItemStyle,\n    stickerItemStyle,\n    stickerMsgStyle,\n    stickerMsgTxtStyle,\n    stickerCloseStyle\n} from \"./style\";\n\nimport closeIcon from \"./resources/close.svg\";\n\nclass CometChatStickerKeyboard extends React.PureComponent {\n\n    static contextType = CometChatContext;\n\n    constructor(props, context) {\n\n        super(props, context);\n\n        this.decoratorMessage = Translator.translate(\"LOADING\", context.language);\n\n        this.state = {\n            stickerlist: [],\n            stickerset: {},\n            activestickerlist: [],\n            activestickerset: null\n        }\n    }\n\n    componentDidMount() {\n        this.getStickers();\n    }\n\n    getStickers = () => {\n\n        CometChat.callExtension('stickers', 'GET', 'v1/fetch', null).then(stickers => {\n\n            // Stickers received\n            let activeStickerSet = null; \n            const customStickers = (stickers.hasOwnProperty(\"customStickers\")) ? stickers[\"customStickers\"] : [];\n            const defaultStickers = (stickers.hasOwnProperty(\"defaultStickers\")) ? stickers[\"defaultStickers\"] : [];\n\n            defaultStickers.sort(function (a, b) {\n                return a.stickerSetOrder - b.stickerSetOrder;\n            });\n\n            customStickers.sort(function (a, b) {\n                return a.stickerSetOrder - b.stickerSetOrder;\n            });\n\n            const stickerList = [...defaultStickers, ...customStickers];\n            \n            if (stickerList.length === 0) {\n                this.decoratorMessage = Translator.translate(\"NO_STICKERS_FOUND\", this.context.language);\n            }\n\n            const stickerSet = stickerList.reduce((r, sticker, index) => {\n\n                const { stickerSetName } = sticker;\n                if (index === 0) {\n                    activeStickerSet = stickerSetName;\n                }\n\n                r[stickerSetName] = [...r[stickerSetName] || [], { ...sticker}];\n\n                return r;\n            }, {});\n\n            let activeStickerList = [];\n            if (Object.keys(stickerSet).length) {\n\n                Object.keys(stickerSet).forEach(key => {\n                    stickerSet[key].sort(function (a, b) {\n                        return a.stickerOrder - b.stickerOrder;\n                    });\n                });\n\n                activeStickerList = stickerSet[activeStickerSet];\n            }\n            \n            this.setState({ \n                \"stickerlist\": stickerList, \n                \"stickerset\": stickerSet, \n                \"activestickerlist\": activeStickerList, \n                \"activestickerset\": activeStickerSet \n            });\n\n        }).catch(error => {\n            \n            this.decoratorMessage = Translator.translate(\"SOMETHING_WRONG\", this.context.language);\n            this.setState({ \"activestickerlist\": [], \"stickerset\": {} });\n        });\n    }\n\n    sendStickerMessage = (stickerItem) => {\n        this.props.actionGenerated(enums.ACTIONS[\"SEND_STICKER\"], stickerItem);\n    }\n\n    onStickerSetClicked = (sectionItem) => {\n\n        this.setState({ activestickerlist: [] }, () => {\n\n            const stickerSet = { ...this.state.stickerset };\n            const activeStickerList = stickerSet[sectionItem];\n            this.setState({ \"activestickerset\": sectionItem, \"activestickerlist\": activeStickerList });\n        });\n    }\n\n    closeStickerKeyboard = () => {\n        this.props.actionGenerated(enums.ACTIONS[\"CLOSE_STICKER_KEYBOARD\"]);\n    }\n\n    render() {\n\n        let messageContainer = null;\n        if (this.state.activestickerlist.length === 0) {\n            messageContainer = (\n                <div css={stickerMsgStyle()} className=\"stickers__decorator-message\">\n                    <p css={stickerMsgTxtStyle(this.context)} className=\"decorator-message\">{this.decoratorMessage}</p>\n                </div>\n            );\n        }\n\n        let stickers = null;\n        if (Object.keys(this.state.stickerset).length) {\n\n            const sectionItems = Object.keys(this.state.stickerset).map((sectionItem, key) => {\n\n                const stickerSetThumbnail = this.state.stickerset[sectionItem][0][\"stickerUrl\"];\n                return( <div  key={key}  className=\"stickers__sectionitem\" css={sectionListItemStyle()}  onClick={() => this.onStickerSetClicked(sectionItem)}>\n                    <img src={stickerSetThumbnail} alt={sectionItem} />\n                </div>\n                );\n            });\n\n            let activeStickerList = [];\n            if (this.state.activestickerlist.length) {\n\n                const stickerList = [...this.state.activestickerlist];\n                activeStickerList = stickerList.map((stickerItem, key) => {\n\n                    return (\n                        <div key={key} css={stickerItemStyle(this.context)} onClick={() => this.sendStickerMessage(stickerItem)} className=\"stickers__listitem\">\n                            <img src={stickerItem.stickerUrl} alt={stickerItem.stickerName} />\n                        </div>\n                    );\n                });\n            }\n\n            stickers = (\n                <React.Fragment>\n                    <div css={stickerCloseStyle(closeIcon, this.context)} className=\"stickers__close\" onClick={this.closeStickerKeyboard}></div>\n                    <div css={stickerListStyle(this.props)} className=\"stickers__list\">\n                        {activeStickerList}\n                    </div>\n                    <div css={stickerSectionListStyle(this.context)} className=\"stickers__sections\">\n                        {sectionItems}\n                    </div>\n                </React.Fragment>\n            );\n        }\n\n        return (\n            <div css={stickerWrapperStyle(this.context, keyframes)} className=\"stickers\">\n                {messageContainer}\n                {stickers}\n            </div>\n        );\n    }\n}\n\n// Specifies the default values for props:\nCometChatStickerKeyboard.defaultProps = {\n    theme: theme\n};\n\nCometChatStickerKeyboard.propTypes = {\n    theme: PropTypes.object\n}\n\nexport { CometChatStickerKeyboard };","export const messageReactionsStyle = (props, reactionData, context, loggedInUser) => {\n\n\tconst uid = loggedInUser?.uid;\n\tlet borderStyle = {};\n\tlet hoveredBorderStyle = {};\n\n\tif (reactionData.hasOwnProperty(uid)) {\n\t\tborderStyle = {\n\t\t\tborder: `1px solid ${context.theme.primaryColor}`,\n\t\t};\n\n\t\thoveredBorderStyle = { ...borderStyle };\n\t} else {\n\t\tborderStyle = {\n\t\t\tborder: \"1px solid transparent\",\n\t\t};\n\n\t\thoveredBorderStyle = {\n\t\t\tborder: `1px solid ${context.theme.borderColor.primary}`,\n\t\t};\n\t}\n\n\treturn {\n\t\tfontSize: \"11px\",\n\t\tpadding: \"2px 6px\",\n\t\tdisplay: \"inline-flex\",\n\t\talignItems: \"center\",\n\t\tverticalAlign: \"top\",\n\t\tbackgroundColor: `${context.theme.backgroundColor.secondary}`,\n\t\tborderRadius: \"12px\",\n\t\tmargin: \"4px 4px 0 0\",\n\t\t...borderStyle,\n\t\t\".emoji-mart-emoji\": {\n\t\t\tdisplay: \"inline-flex\",\n\t\t\talignItems: \"center\",\n\t\t\tjustifyContent: \"center\",\n\t\t\tcursor: \"pointer\",\n\t\t},\n\t\t\"&:hover\": {\n\t\t\t...hoveredBorderStyle,\n\t\t},\n\t};\n};\n\nexport const emojiButtonStyle = (img, context) => {\n\n    return {\n        outline: \"0\",\n        border: \"0\",\n        borderRadius: \"4px\",\n        alignItems: \"center\",\n        display: \"inline-flex\",\n        justifyContent: \"center\",\n        position: \"relative\",\n        \"i\": {\n            height: \"24px\",\n            width: \"24px\",\n            mask: `url(${img}) center center no-repeat`,\n\t\t\tbackgroundColor: `${context.theme.secondaryTextColor}`,\n        }        \n    }\n}\n\nexport const reactionCountStyle = context => {\n\n\treturn {\n\t\tcolor: `${context.theme.color.primary}`,\n\t\tpadding: \"0 1px 0 3px\",\n\t};\n};\n","export default __webpack_public_path__ + \"static/media/reactions.db072cb2.svg\";","import React from \"react\";\n/** @jsxRuntime classic */\n/** @jsx jsx */\nimport { jsx } from \"@emotion/core\";\nimport PropTypes from \"prop-types\";\nimport { Emoji } from \"emoji-mart\";\nimport { CometChat } from \"@cometchat-pro/chat\";\n\nimport { CometChatContext } from \"../../../../util/CometChatContext\";\nimport * as enums from \"../../../../util/enums.js\";\nimport { checkMessageForExtensionsData } from \"../../../../util/common\";\n\nimport { theme } from \"../../../../resources/theme\";\nimport Translator from \"../../../../resources/localization/translator\";\n\nimport {\n    messageReactionsStyle,\n    reactionCountStyle,\n    emojiButtonStyle,\n} from \"./style\";\n\nimport reactIcon from \"./resources/reactions.svg\";\n\nclass CometChatMessageReactions extends React.Component {\n\tstatic contextType = CometChatContext;\n\tloggedInUser;\n\n\tconstructor(props, context) {\n\t\tsuper(props, context);\n\t\tthis._isMounted = false;\n\t\tthis.state = {\n\t\t\tenableMessageReaction: false,\n\t\t};\n\n\t\tthis.context.getLoggedinUser().then(user => {\n\t\t\tthis.loggedInUser = { ...user };\n\t\t});\n\t}\n\n\tcomponentDidMount() {\n\t\tthis._isMounted = true;\n\t\tthis.enableMessageReaction();\n\t}\n\n\tcomponentWillUnmount() {\n\t\tthis._isMounted = false;\n\t}\n\n\tenableMessageReaction = () => {\n\t\t/**\n\t\t * If reacting to messages feature is disabled\n\t\t */\n\t\tthis.context.FeatureRestriction.isReactionsEnabled()\n\t\t\t.then(response => {\n\t\t\t\tif (response !== this.state.enableMessageReaction && this._isMounted) {\n\t\t\t\t\tthis.setState({ enableMessageReaction: response });\n\t\t\t\t}\n\t\t\t})\n\t\t\t.catch(error => {\n\t\t\t\tif (this.state.enableMessageReaction !== false) {\n\t\t\t\t\tthis.setState({ enableMessageReaction: false });\n\t\t\t\t}\n\t\t\t});\n\t};\n\n\treactToMessages = emoji => {\n\n\t\tlet messageObject = { ...this.props.message };\n\t\tdelete messageObject[\"metadata\"][\"@injected\"][\"extensions\"][\"reactions\"][emoji.colons][this.loggedInUser.uid];\n\t\tthis.props.actionGenerated(enums.ACTIONS[\"MESSAGE_EDITED\"], messageObject);\n\n\t\tCometChat.callExtension(\"reactions\", \"POST\", \"v1/react\", {\n\t\t\tmsgId: this.props.message.id,\n\t\t\temoji: emoji.colons,\n\t\t}).then(response => {\n\t\t\t\n\t\t\t// Reaction failed\n\t\t\tif (!response || !response.success || response.success !== true) {\n\t\t\t\tthis.props.actionGenerated(enums.ACTIONS[\"ERROR\"], [], \"SOMETHING_WRONG\");\n\t\t\t}\n\t\t})\n\t\t.catch(error => {\n\t\t\tthis.props.actionGenerated(enums.ACTIONS[\"ERROR\"], [], \"SOMETHING_WRONG\");\n\t\t});\n\t};\n\n\tgetMessageReactions = reaction => {\n\t\t\n\t\tif (reaction === null) {\n\t\t\treturn null;\n\t\t}\n\n\t\tconst messageReactions = Object.keys(reaction).map((data, key) => {\n\t\t\tconst reactionData = reaction[data];\n\t\t\tconst reactionName = data.replaceAll(\":\", \"\");\n\t\t\tconst reactionCount = Object.keys(reactionData).length;\n\n\t\t\tif (!reactionCount) {\n\t\t\t\treturn null;\n\t\t\t}\n\n\t\t\tconst userList = [];\n\t\t\tlet reactionTitle = \"\";\n\n\t\t\tfor (const user in reactionData) {\n\t\t\t\tuserList.push(reactionData[user][\"name\"]);\n\t\t\t}\n\n\t\t\tif (userList.length) {\n\t\t\t\treactionTitle = userList.join(\", \");\n\t\t\t\tconst str = ` ${Translator.translate(\"REACTED\", this.context.language)}`;\n\t\t\t\treactionTitle = reactionTitle.concat(str);\n\t\t\t}\n\n\t\t\tconst reactionClassName = `reaction reaction__${reactionName}`;\n\t\t\treturn (\n\t\t\t\t<div key={key} css={messageReactionsStyle(this.props, reactionData, this.context, this.loggedInUser)} className={reactionClassName} title={reactionTitle}>\n\t\t\t\t\t<Emoji emoji={{ id: reactionName }} size={16} native onClick={this.reactToMessages} />\n\t\t\t\t\t<span css={reactionCountStyle(this.context)} className=\"reaction__count\">\n\t\t\t\t\t\t{reactionCount}\n\t\t\t\t\t</span>\n\t\t\t\t</div>\n\t\t\t);\n\t\t});\n\n\t\treturn messageReactions;\n\t};\n\n\taddMessageReaction = () => {\n\t\t//If reacting to messages feature is disabled\n\t\tif (this.state.enableMessageReaction === false) {\n\t\t\treturn null;\n\t\t}\n\n\t\tconst addReactionEmoji = (\n\t\t\t<div key=\"-1\" css={messageReactionsStyle(this.props, {}, this.context)} className=\"reaction reaction__add\" title={Translator.translate(\"ADD_REACTION\", this.context.language)}>\n\t\t\t\t<button type=\"button\" css={emojiButtonStyle(reactIcon, this.context)} className=\"button__reacttomessage\" onClick={() => this.props.actionGenerated(enums.ACTIONS[\"REACT_TO_MESSAGE\"], this.props.message)}>\n\t\t\t\t\t<i></i>\n\t\t\t\t</button>\n\t\t\t</div>\n\t\t);\n\n\t\treturn addReactionEmoji;\n\t};\n\n\trender() {\n\t\tconst reaction = checkMessageForExtensionsData(this.props.message, \"reactions\");\n\t\tconst messageReactions = this.getMessageReactions(reaction);\n\n\t\tconst addReactionEmoji = this.addMessageReaction();\n\n\t\tif (messageReactions !== null && messageReactions.length && addReactionEmoji !== null) {\n\t\t\tif (this.props.message?.sender?.uid !== this.loggedInUser?.uid) {\n\t\t\t\tmessageReactions.push(addReactionEmoji);\n\t\t\t} else {\n\t\t\t\tmessageReactions.unshift(addReactionEmoji);\n\t\t\t}\n\t\t}\n\n\t\treturn messageReactions;\n\t}\n}\n\n// Specifies the default values for props:\nCometChatMessageReactions.defaultProps = {\n\ttheme: theme,\n\tactionGenerated: () => {},\n};\n\nCometChatMessageReactions.propTypes = {\n\ttheme: PropTypes.object,\n\tactionGenerated: PropTypes.func.isRequired,\n\tmessage: PropTypes.object.isRequired,\n};\n\nexport { CometChatMessageReactions };\n","export const modalWrapperStyle = context => {\n\n\tconst mq = [...context.theme.breakPoints];\n\n\treturn {\n\t\tminWidth: \"350px\",\n\t\tminHeight: \"450px\",\n\t\twidth: \"50%\",\n\t\theight: \"40%\",\n\t\toverflow: \"hidden\",\n\t\tbackgroundColor: `${context.theme.backgroundColor.white}`,\n\t\tposition: \"fixed\",\n\t\tleft: \"50%\",\n\t\ttop: \"50%\",\n\t\ttransform: \"translate(-50%, -50%)\",\n\t\tzIndex: \"1002\",\n\t\tmargin: \"0 auto\",\n\t\tboxShadow: \"rgba(20, 20, 20, 0.2) 0 16px 32px, rgba(20, 20, 20, 0.04) 0 0 0 1px\",\n\t\tborderRadius: \"12px\",\n\t\tdisplay: \"block\",\n\t\t[`@media ${mq[1]}, ${mq[2]}`]: {\n\t\t\twidth: \"100%\",\n\t\t\theight: \"100%\",\n\t\t},\n\t};\n};\n\nexport const modalCloseStyle = (img, context) => {\n\n    return {\n        position: \"absolute\",\n        width: \"32px\",\n        height: \"32px\",\n        borderRadius: \"50%\",\n        top: \"16px\",\n        right: \"16px\",\n        mask: `url(${img}) center center no-repeat`,\n\t\tbackgroundColor: `${context.theme.primaryColor}`,\n        cursor: \"pointer\",\n    }\n}\n\nexport const modalBodyStyle = () => {\n\n    return {\n        padding: \"24px\",\n        height: \"100%\",\n        width: \"100%\"\n    }\n}\n\nexport const modalErrorStyle = (context) => {\n\n    return {\n        fontSize: \"12px\",\n\t\tcolor: `${context.theme.color.red}`,\n\t\ttextAlign: \"center\",\n\t\tmargin: \"8px 0\",\n\t\twidth: \"100%\",\n    }\n}\n\nexport const modalTableStyle = context => {\n\n\treturn {\n\t\tborderCollapse: \"collapse\",\n\t\tmargin: \"0\",\n\t\tpadding: \"0\",\n\t\twidth: \"100%\",\n\t\theight: \"90%\",\n\t\ttr: {\n\t\t\tborderBottom: `1px solid ${context.theme.borderColor.primary}`,\n\t\t\tdisplay: \"table\",\n\t\t\twidth: \"100%\",\n\t\t\ttableLayout: \"fixed\",\n\t\t},\n\t};\n};\n\nexport const tableCaptionStyle = () => {\n\n    return {\n        fontSize: \"20px\",\n        marginBottom: \"15px\",\n        fontWeight: \"bold\",\n        textAlign: \"left\",\n    }\n}\n\nexport const tableBodyStyle = () => {\n\n    return {\n        height: \"calc(100% - 40px)\",\n        overflowY: \"auto\",\n        display: \"block\",\n        \"tr\": {\n            \"td\": {\n                padding: \"8px 16px\",\n                fontSize: \"14px\",\n                \"input\": {\n                    width: \"100%\",\n                    border: \"none\",\n                    padding: \"8px 16px\",\n                    fontSize: \"14px\",\n                    \"&:focus\": {\n                        outline: \"none\"\n                    }\n                },\n                \"label\": {\n                    padding: \"8px 16px\", \n                },\n                \":first-of-type\": {\n                    width: \"120px\"\n                }\n            }\n        }\n    }\n}\n\n\nexport const tableFootStyle = (context, state, img) => {\n\n\tlet loadingState = {};\n\tlet textMargin = {};\n\n\tif (state.creatingPoll) {\n\t\tloadingState = {\n\t\t\tdisabled: \"true\",\n\t\t\tpointerEvents: \"none\",\n\t\t\tbackground: `url(${img}) no-repeat right 10px center ${context.theme.primaryColor}`,\n\t\t};\n\n\t\ttextMargin = {\n\t\t\tmarginRight: \"24px\",\n\t\t};\n\t}\n\n\treturn {\n\t\tdisplay: \"inline-block\",\n\t\ttr: {\n\t\t\tborder: \"none\",\n\t\t\ttd: {\n\t\t\t\ttextAlign: \"center\",\n\t\t\t\tbutton: {\n\t\t\t\t\tcursor: \"pointer\",\n\t\t\t\t\tpadding: \"8px 16px\",\n\t\t\t\t\tbackgroundColor: `${context.theme.primaryColor}`,\n\t\t\t\t\tborderRadius: \"5px\",\n\t\t\t\t\tcolor: `${context.theme.color.white}`,\n\t\t\t\t\tfontSize: \"14px\",\n\t\t\t\t\toutline: \"0\",\n\t\t\t\t\tborder: \"0\",\n\t\t\t\t\t...loadingState,\n\t\t\t\t\tspan: {\n\t\t\t\t\t\t...textMargin,\n\t\t\t\t\t},\n\t\t\t\t},\n\t\t\t},\n\t\t},\n\t};\n};\n\nexport const iconWrapperStyle = () => {\n\n    return {\n        width: \"50px\"\n    }\n}\n\nexport const addOptionIconStyle = (img, context) => {\n\n    return {\n        backgroundSize: \"28px 28px\",\n        cursor: \"pointer\",\n        display: \"block\",\n        height: \"24px\",\n        width: \"24px\",\n\t\tmask: `url(${img}) center center no-repeat`,\n\t\tbackgroundColor: `${context.theme.secondaryTextColor}`,\n    }\n}","export default __webpack_public_path__ + \"static/media/creating.446449d0.svg\";","export default __webpack_public_path__ + \"static/media/add-circle-filled.a7750fa2.svg\";","export default __webpack_public_path__ + \"static/media/close.0b0b6f95.svg\";","import React from \"react\";\n/** @jsxRuntime classic */\n/** @jsx jsx */\nimport { jsx } from \"@emotion/core\";\nimport PropTypes from \"prop-types\";\nimport { CometChat } from \"@cometchat-pro/chat\";\n\nimport { CometChatBackdrop } from \"../../../Shared\";\nimport { CometChatCreatePollOptions } from \"../\";\n\nimport { CometChatContext } from \"../../../../util/CometChatContext\";\nimport * as enums from \"../../../../util/enums.js\"; \n\nimport { theme } from \"../../../../resources/theme\";\nimport Translator from \"../../../../resources/localization/translator\";\n\nimport {\n    modalWrapperStyle,\n    modalCloseStyle,\n    modalBodyStyle,\n    modalErrorStyle,\n    modalTableStyle,\n    tableCaptionStyle,\n    tableBodyStyle,\n    tableFootStyle,\n    iconWrapperStyle,\n    addOptionIconStyle\n} from \"./style\";\n\nimport creatingIcon from \"./resources/creating.svg\";\nimport addIcon from \"./resources/add-circle-filled.svg\";\nimport clearIcon from \"./resources/close.svg\";\n\nclass CometChatCreatePoll extends React.Component {\n\n    loggedInUser = null;\n    static contextType = CometChatContext;\n\n    constructor(props) {\n\n        super(props);\n        this.state = {\n            errorMessage: \"\",\n            options: [],\n            creatingPoll: false\n        }\n\n        this.questionRef = React.createRef();\n        this.optionOneRef = React.createRef();\n        this.optionTwoRef = React.createRef();\n        this.optionRef = React.createRef();\n    }\n\n    addPollOption = () => {\n\n        const options = [...this.state.options];\n        options.push({ value: \"\", id: new Date().getTime() });\n        this.setState({options: options});\n    }\n\n    removePollOption = (option) => {\n\n        const options = [...this.state.options];\n        const optionKey = options.findIndex(opt => opt.id === option.id);\n        if (optionKey > -1) {\n\n            options.splice(optionKey, 1);\n            this.setState({ options: options});\n        }\n    }\n\n    optionChangeHandler = (event, option) => {\n\n        const options = [...this.state.options];\n        const optionKey = options.findIndex(opt => opt.id === option.id); \n        if (optionKey > -1) {\n\n            const newOption = { ...option, value: event.target.value}\n            options.splice(optionKey, 1, newOption);\n            this.setState({ options: options });\n        }\n    }\n\n    createPoll = () => {\n\n        const question = this.questionRef.current.value.trim();\n        const firstOption = this.optionOneRef.current.value.trim();\n        const secondOption = this.optionTwoRef.current.value.trim();\n        const optionItems = [firstOption, secondOption];\n\n        if (question.length === 0) {\n\n            this.setState({ errorMessage: Translator.translate(\"INVALID_POLL_QUESTION\", this.context.language) });\n            return false;\n        }\n\n        if (firstOption.length === 0 || secondOption.length === 0) {\n\n            this.setState({ errorMessage: Translator.translate(\"INVALID_POLL_OPTION\", this.context.language) });\n            return false;\n        }\n\n        this.state.options.forEach(function (option) {\n            optionItems.push(option.value)\n        })\n\n        let receiverId;\n        let receiverType = this.context.type;\n        if (this.context.type === CometChat.RECEIVER_TYPE.USER) {\n            receiverId = this.context.item.uid;\n        } else if (this.context.type === CometChat.RECEIVER_TYPE.GROUP) {\n            receiverId = this.context.item.guid;\n        }\n        \n        this.setState({ creatingPoll: true, errorMessage: \"\" });\n\n        CometChat.callExtension('polls', 'POST', 'v2/create', {\n            \"question\": question,\n            \"options\": optionItems,\n            \"receiver\": receiverId,\n            \"receiverType\": receiverType\n        }).then(response => {\n\n            if (response && response.hasOwnProperty(\"success\") && response[\"success\"] === true) {\n\n                this.setState({ creatingPoll: false });\n                this.props.actionGenerated(enums.ACTIONS[\"POLL_CREATED\"]);\n\n            } else {\n                this.setState({ errorMessage: Translator.translate(\"SOMETHING_WRONG\", this.context.language) });\n            }\n\n        }).catch(error => {\n\n            this.setState({ creatingPoll: false });\n            this.setState({ errorMessage: Translator.translate(\"SOMETHING_WRONG\", this.context.language) });\n        });\n    }\n\n    render() {\n\n        const optionList = [...this.state.options];\n        const pollOptionView = optionList.map((option, index) => {\n            return (\n                <CometChatCreatePollOptions \n                key={index} \n                option={option} \n                tabIndex={index+4}\n                lang={this.context.language}\n                optionChangeHandler={this.optionChangeHandler}\n                removePollOption={this.removePollOption} />\n            );\n        });\n\n        const createText = (this.state.creatingPoll) ? Translator.translate(\"CREATING\", this.context.language) : Translator.translate(\"CREATE\", this.context.language);\n        return (\n            <React.Fragment>\n                <CometChatBackdrop show={true} clicked={this.props.close} />\n                <div css={modalWrapperStyle(this.context)} className=\"modal__createpoll\">\n                    <span css={modalCloseStyle(clearIcon, this.context)} className=\"modal__close\" onClick={this.props.close} title={Translator.translate(\"CLOSE\", this.context.language)}></span>\n                    <div css={modalBodyStyle()} className=\"modal__body\">\n                        <table css={modalTableStyle(this.context)}>\n                            <caption css={tableCaptionStyle()} className=\"modal__title\">{Translator.translate(\"CREATE_POLL\", this.context.language)}</caption>\n                            <tbody css={tableBodyStyle()}>\n                                <tr className=\"error\">\n                                    <td colSpan=\"3\"><div css={modalErrorStyle(this.context)}>{this.state.errorMessage}</div></td>\n                                </tr>\n                                <tr className=\"poll__question\">\n                                    <td><label>{Translator.translate(\"QUESTION\", this.context.language)}</label></td>\n                                    <td colSpan=\"2\">\n                                        <input type=\"text\" autoFocus tabIndex=\"1\" placeholder={Translator.translate(\"ENTER_YOUR_QUESTION\", this.context.language)} ref={this.questionRef} />\n                                    </td>\n                                </tr>\n                                <tr className=\"poll__options\">\n                                    <td>\n                                        <label>{Translator.translate(\"OPTIONS\", this.context.language)}</label>\n                                    </td>\n                                    <td colSpan=\"2\">\n                                        <input type=\"text\" tabIndex=\"2\" placeholder={Translator.translate(\"ENTER_YOUR_OPTION\", this.context.language)} ref={this.optionOneRef} />\n                                    </td>\n                                </tr>\n                                <tr ref={this.optionRef} className=\"poll__options\">\n                                    <td>&nbsp;</td>\n                                    <td colSpan=\"2\">\n                                        <input type=\"text\" tabIndex=\"3\" placeholder={Translator.translate(\"ENTER_YOUR_OPTION\", this.context.language)} ref={this.optionTwoRef} />\n                                    </td>\n                                </tr>\n                                {pollOptionView}\n                                <tr>\n                                    <td>&nbsp;</td>\n                                    <td>\n                                        <label>{Translator.translate(\"ADD_NEW_OPTION\", this.context.language)}</label>\n                                    </td>\n                                    <td css={iconWrapperStyle()}>\n                                        <i tabIndex=\"100\" css={addOptionIconStyle(addIcon, this.context)} className=\"option__add\" onClick={this.addPollOption}></i>\n                                    </td>\n                                </tr>\n                            </tbody>\n                            <tfoot css={tableFootStyle(this.context, this.state, creatingIcon)}>\n                                <tr className=\"createpoll\">\n                                    <td colSpan=\"2\">\n                                        <button type=\"button\" onClick={this.createPoll}>\n                                            <span>{createText}</span>\n                                        </button>\n                                    </td>\n                                </tr>\n                            </tfoot>\n                        </table>\n                    </div>\n                </div>\n            </React.Fragment>\n        );\n    }\n}\n\n// Specifies the default values for props:\nCometChatCreatePoll.defaultProps = {\n\ttheme: theme,\n};\n\nCometChatCreatePoll.propTypes = {\n\ttheme: PropTypes.object,\n};\n\nexport { CometChatCreatePoll };\n","export const removeOptionIconStyle = (img, context) => {\n\n\treturn {\n\t\tmask: `url(${img}) center center no-repeat`,\n\t\tbackgroundColor: `${context.theme.color.red}`,\n\t\tcursor: \"pointer\",\n\t\tdisplay: \"block\",\n\t\theight: \"24px\",\n\t\twidth: \"24px\",\n\t};\n};\n\nexport const iconWrapperStyle = () => {\n    return {\n        width: \"50px\"\n    }\n}","export default __webpack_public_path__ + \"static/media/remove.b83180e3.svg\";","import { useContext } from \"react\";\n/** @jsxRuntime classic */\n/** @jsx jsx */\nimport { jsx } from \"@emotion/core\";\n\nimport { CometChatContext } from \"../../../../util/CometChatContext\";\n\nimport { iconWrapperStyle } from \"../CometChatCreatePoll/style\";\n\nimport Translator from \"../../../../resources/localization/translator\";\n\nimport { removeOptionIconStyle } from \"./style\";\nimport removeIcon from \"./resources/remove.svg\";\n\nconst CometChatCreatePollOptions = (props) => {\n\n    const context = useContext(CometChatContext);\n\n    return (\n        <tr className=\"poll__options\">\n            <td>&nbsp;</td>\n            <td>\n                <input \n                autoFocus\n                tabIndex={props.tabIndex}\n                type=\"text\" \n                autoComplete=\"off\" \n                placeholder={Translator.translate(\"ENTER_YOUR_OPTION\", context.language)}\n                value={props.value}\n                onChange={(event) => props.optionChangeHandler(event, props.option)} />\n            </td>\n            <td css={iconWrapperStyle()} className=\"option__remove\">\n                <span css={removeOptionIconStyle(removeIcon, context)} onClick={() => props.removePollOption(props.option)}></span>\n            </td>\n        </tr>\n    );\n}\n\nexport { CometChatCreatePollOptions };","export const messageContainerStyle = () => {\n\n    return {\n        alignSelf: \"flex-start\",\n        marginBottom: \"16px\",\n        paddingLeft: \"16px\",\n        paddingRight: \"16px\",\n        maxWidth: \"305px\",\n        clear: \"both\",\n        position: \"relative\",\n        display: \"flex\",\n        flexDirection: \"column\",\n        flexShrink: \"0\",\n    }\n}\n\nexport const messageWrapperStyle = () => {\n\n    return {\n        width: \"auto\",\n        flex: \"1 1\",\n        alignSelf: \"flex-start\",\n        display: \"flex\",\n    }\n}\n\nexport const messageThumbnailStyle = () => {\n\n    return {\n        width: \"36px\",\n        height: \"36px\",\n        margin: \"10px 5px\",\n        float: \"left\",\n        flexShrink: \"0\",\n    }\n}\n\nexport const messageDetailStyle = () => {\n\n    return {\n        flex: \"1 1\",\n        display: \"flex\",\n        flexDirection: \"column\",\n    }\n}\n\nexport const nameWrapperStyle = (avatar) => {\n\n    const paddingValue = (avatar) ? {\n        padding: \"3px 5px\",\n    } : {};\n\n    return {\n        alignSelf: \"flex-start\",\n        ...paddingValue\n    }\n}\n\nexport const nameStyle = context => {\n\n\treturn {\n\t\tfontSize: \"11px\",\n\t\tcolor: `${context.theme.color.search}`,\n\t};\n};\n\nexport const messageTxtContainerStyle = () => {\n\n    return {\n        width: \"auto\",\n        flex: \"1 1\",\n        alignSelf: \"flex-start\",\n        display: \"flex\",\n    }\n}\n\nexport const messageTxtWrapperStyle = context => {\n\n\treturn {\n\t\tdisplay: \"flex\",\n\t\tflexDirection: \"column\",\n\t\tborderRadius: \"12px\",\n\t\tbackgroundColor: `${context.theme.backgroundColor.secondary}`,\n\t\tpadding: \"16px\",\n\t\talignSelf: \"flex-start\",\n\t\twidth: \"100%\",\n\t};\n};\n\nexport const messageTxtTitleStyle = context => {\n\n\treturn {\n\t\tdisplay: \"flex\",\n\t\tjustifyContent: \"center\",\n\t\talignItems: \"center\",\n\t\tcolor: `${context.theme.color.primary}`,\n\t};\n};\n\nexport const messageTxtStyle = () => {\n\n    return {\n        margin: \"0\",\n        whiteSpace: \"pre-wrap\",\n        wordWrap: \"break-word\",\n        textAlign: \"left\",\n        width: \"calc(100% - 24px)\",\n        fontSize: \"14px\",\n        marginLeft: \"8px\"\n    }\n}\n\nexport const iconStyle = (img, context) => {\n\n\treturn {\n\t\twidth: \"24px\",\n\t\theight: \"24px\",\n\t\tdisplay: \"inline-block\",\n\t\tmask: `url(${img}) center center no-repeat`,\n\t\tbackgroundColor: `${context.theme.primaryColor}`,\n\t};\n};\n\nexport const messageBtnStyle = context => {\n\n\treturn {\n\t\tlistStyleType: \"none\",\n\t\tpadding: \"0\",\n\t\tmargin: \"0\",\n\t\tli: {\n\t\t\tbackgroundColor: `${context.theme.backgroundColor.white}`,\n\t\t\tborderRadius: \"8px\",\n\t\t\tdisplay: \"flex\",\n\t\t\tjustifyContent: \"center\",\n\t\t\talignItems: \"center\",\n\t\t\twidth: \"100%\",\n\t\t\tcursor: \"pointer\",\n\t\t\tposition: \"relative\",\n\t\t\tmargin: \"16px 0 0 0\",\n\t\t\tpadding: \"8px\",\n\t\t\t\"> p\": {\n\t\t\t\tbackground: \"0 0\",\n\t\t\t\ttextAlign: \"center\",\n\t\t\t\tcolor: `${context.theme.primaryColor}`,\n\t\t\t\twidth: \"100%\",\n\t\t\t\tdisplay: \"inline-block\",\n\t\t\t\tfontSize: \"14px\",\n\t\t\t\tfontWeight: \"600\",\n\t\t\t\tmargin: \"0\",\n\t\t\t},\n\t\t},\n\t};\n};\n\nexport const messageInfoWrapperStyle = () => {\n\n    return {\n        alignSelf: \"flex-start\",\n        padding: \"4px 8px\",\n        display: \"flex\",\n        alignItems: \"center\",\n        justifyContent: \"flex-start\",\n        height: \"25px\"\n    }\n}\n\nexport const messageReactionsWrapperStyle = () => {\n\n    return {\n        display: \"flex\",\n        alignSelf: \"flex-start\",\n        width: \"100%\",\n        flexWrap: \"wrap\",\n        justifyContent: \"flex-start\",\n        minHeight: \"36px\",\n    }\n}\n","export default __webpack_public_path__ + \"static/media/collaborative-document.3c15f5d4.svg\";","import React from \"react\";\n/** @jsxRuntime classic */\n/** @jsx jsx */\nimport { jsx } from \"@emotion/core\";\nimport PropTypes from \"prop-types\";\nimport { CometChat } from \"@cometchat-pro/chat\";\n\nimport { CometChatMessageActions, CometChatThreadedMessageReplyCount, CometChatReadReceipt } from \"../../\";\nimport { CometChatMessageReactions } from \"../\";\nimport { CometChatAvatar } from \"../../../Shared\";\n\nimport { CometChatContext } from \"../../../../util/CometChatContext\";\nimport { checkMessageForExtensionsData } from \"../../../../util/common\";\n\nimport { theme } from \"../../../../resources/theme\";\nimport Translator from \"../../../../resources/localization/translator\";\n\nimport {\n    messageContainerStyle,\n    messageWrapperStyle,\n    messageThumbnailStyle,\n    messageDetailStyle,\n    nameWrapperStyle,\n    nameStyle,\n    messageTxtContainerStyle,\n    messageTxtWrapperStyle,\n    messageTxtTitleStyle,\n    messageTxtStyle,\n    messageBtnStyle,\n    messageInfoWrapperStyle,\n    messageReactionsWrapperStyle,\n    iconStyle\n} from \"./style\";\n\n\nimport documentIcon from \"./resources/collaborative-document.svg\";\n\nclass CometChatReceiverDocumentBubble extends React.Component {\n\tstatic contextType = CometChatContext;\n\n\tconstructor(props) {\n\t\tsuper(props);\n\n\t\tthis.state = {\n\t\t\tisHovering: false,\n\t\t};\n\t}\n\n\tshouldComponentUpdate(nextProps, nextState) {\n\n\t\tconst currentMessageStr = JSON.stringify(this.props.message);\n\t\tconst nextMessageStr = JSON.stringify(nextProps.message);\n\n\t\tif (currentMessageStr !== nextMessageStr \n        || this.state.isHovering !== nextState.isHovering) {\n\t\t\treturn true;\n\t\t}\n\t\treturn false;\n\t}\n\n\thandleMouseHover = () => {\n\t\tthis.setState(this.toggleHoverState);\n\t};\n\n\ttoggleHoverState = state => {\n\t\treturn {\n\t\t\tisHovering: !state.isHovering,\n\t\t};\n\t};\n\n\tlaunchCollaborativeDocument = () => {\n\t\tlet documentUrl = null;\n\t\tlet documentData = checkMessageForExtensionsData(this.props.message, \"document\");\n\t\tif (documentData && documentData.hasOwnProperty(\"document_url\") && documentData.document_url.length) {\n\t\t\tdocumentUrl = documentData.document_url;\n\t\t\twindow.open(documentUrl, \"\", \"fullscreen=yes, scrollbars=auto\");\n\t\t}\n\t};\n\n\trender() {\n\t\tlet avatar = null,\n\t\t\tname = null;\n\t\tif (this.props.message.receiverType === CometChat.RECEIVER_TYPE.GROUP) {\n\t\t\tavatar = (\n\t\t\t\t<div css={messageThumbnailStyle} className=\"message__thumbnail\">\n\t\t\t\t\t<CometChatAvatar user={this.props.message.sender} />\n\t\t\t\t</div>\n\t\t\t);\n\n\t\t\tname = (\n\t\t\t\t<div css={nameWrapperStyle(avatar)} className=\"message__name__wrapper\">\n\t\t\t\t\t<span css={nameStyle(this.context)} className=\"message__name\">\n\t\t\t\t\t\t{this.props.message.sender.name}\n\t\t\t\t\t</span>\n\t\t\t\t</div>\n\t\t\t);\n\t\t}\n\n\t\tlet messageReactions = null;\n\t\tconst reactionsData = checkMessageForExtensionsData(this.props.message, \"reactions\");\n\t\tif (reactionsData) {\n\t\t\tif (Object.keys(reactionsData).length) {\n\t\t\t\tmessageReactions = (\n\t\t\t\t\t<div css={messageReactionsWrapperStyle()} className=\"message__reaction__wrapper\">\n\t\t\t\t\t\t<CometChatMessageReactions message={this.props.message} actionGenerated={this.props.actionGenerated} />\n\t\t\t\t\t</div>\n\t\t\t\t);\n\t\t\t}\n\t\t}\n\n\t\tlet toolTipView = null;\n\t\tif (this.state.isHovering) {\n\t\t\ttoolTipView = <CometChatMessageActions message={this.props.message} actionGenerated={this.props.actionGenerated} />;\n\t\t}\n\n\t\tconst documentTitle = `${this.props.message.sender.name} ${Translator.translate(\"SHARED_COLLABORATIVE_DOCUMENT\", this.context.language)}`;\n\n\t\treturn (\n\t\t\t<div css={messageContainerStyle()} className=\"receiver__message__container message__document\" onMouseEnter={this.handleMouseHover} onMouseLeave={this.handleMouseHover}>\n\t\t\t\t<div css={messageWrapperStyle()} className=\"message__wrapper\">\n\t\t\t\t\t{avatar}\n\t\t\t\t\t<div css={messageDetailStyle()} className=\"message__details\">\n\t\t\t\t\t\t{name}\n\t\t\t\t\t\t{toolTipView}\n\t\t\t\t\t\t<div css={messageTxtContainerStyle()} className=\"message__document__container\">\n\t\t\t\t\t\t\t<div css={messageTxtWrapperStyle(this.context)} className=\"message__document__wrapper\">\n\t\t\t\t\t\t\t\t<div css={messageTxtTitleStyle(this.context)} className=\"message__document__title\">\n\t\t\t\t\t\t\t\t\t<i css={iconStyle(documentIcon, this.context)} title={Translator.translate(\"COLLABORATIVE_DOCUMENT\", this.context.language)}></i>\n\t\t\t\t\t\t\t\t\t<p css={messageTxtStyle()} className=\"document__title\">\n\t\t\t\t\t\t\t\t\t\t{documentTitle}\n\t\t\t\t\t\t\t\t\t</p>\n\t\t\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t\t\t<ul css={messageBtnStyle(this.context)} className=\"document__button\">\n\t\t\t\t\t\t\t\t\t<li onClick={this.launchCollaborativeDocument}>\n\t\t\t\t\t\t\t\t\t\t<p>{Translator.translate(\"JOIN\", this.context.language)}</p>\n\t\t\t\t\t\t\t\t\t</li>\n\t\t\t\t\t\t\t\t</ul>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t{messageReactions}\n\n\t\t\t\t\t\t<div css={messageInfoWrapperStyle()} className=\"message__info__wrapper\">\n\t\t\t\t\t\t\t<CometChatReadReceipt message={this.props.message} />\n\t\t\t\t\t\t\t<CometChatThreadedMessageReplyCount message={this.props.message} actionGenerated={this.props.actionGenerated} />\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t);\n\t}\n}\n\n// Specifies the default values for props:\nCometChatReceiverDocumentBubble.defaultProps = {\n\ttheme: theme,\n\tactionGenerated: () => {},\n};\n\nCometChatReceiverDocumentBubble.propTypes = {\n\ttheme: PropTypes.object,\n\tactionGenerated: PropTypes.func.isRequired,\n\tmessage: PropTypes.object.isRequired,\n};\n\nexport { CometChatReceiverDocumentBubble };\n","export const messageContainerStyle = () => {\n\n    return {\n        alignSelf: \"flex-start\",\n        marginBottom: \"16px\",\n        paddingLeft: \"16px\",\n        paddingRight: \"16px\",\n        maxWidth: \"65%\",\n        clear: \"both\",\n        position: \"relative\",\n        display: \"flex\",\n        flexDirection: \"column\",\n        flexShrink: \"0\",\n    }\n}\n\nexport const messageWrapperStyle = () => {\n\n    return {\n        width: \"auto\",\n        flex: \"1 1\",\n        alignSelf: \"flex-start\",\n        display: \"flex\",\n    }\n}\n\nexport const messageThumbnailStyle = () => {\n\n    return {\n        width: \"36px\",\n        height: \"36px\",\n        margin: \"10px 5px\",\n        float: \"left\",\n        flexShrink: \"0\",\n    }\n}\n\nexport const messageDetailStyle = () => {\n\n    return {\n        flex: \"1 1\",\n        display: \"flex\",\n        flexDirection: \"column\",\n    }\n}\n\nexport const nameWrapperStyle = (avatar) => {\n\n    const paddingValue = (avatar) ? {\n        padding: \"3px 5px\",\n    } : {};\n\n    return {\n        alignSelf: \"flex-start\",\n        ...paddingValue\n    }\n}\n\nexport const nameStyle = context => {\n\n\treturn {\n\t\tfontSize: \"11px\",\n\t\tcolor: `${context.theme.color.search}`,\n\t};\n};\n\nexport const messageTxtContainerStyle = () => {\n\n    return {\n        width: \"auto\",\n        flex: \"1 1\",\n        alignSelf: \"flex-start\",\n        display: \"flex\",\n    }\n}\n\nexport const messageTxtWrapperStyle = context => {\n\n\treturn {\n\t\tdisplay: \"flex\",\n\t\tflexDirection: \"column\",\n\t\tborderRadius: \"12px\",\n\t\tbackgroundColor: `${context.theme.backgroundColor.secondary}`,\n\t\tpadding: \"8px 16px\",\n\t\talignSelf: \"flex-start\",\n\t\twidth: \"100%\",\n\t};\n};\n\nexport const pollQuestionStyle = () => {\n\n    return {\n        margin: \"0\",\n        whiteSpace: \"pre-wrap\",\n        wordWrap: \"break-word\",\n        textAlign: \"left\",\n        width: \"100%\",\n        fontSize: \"14px\",\n    }\n}\n\nexport const pollAnswerStyle = context => {\n\n\treturn {\n\t\tlistStyleType: \"none\",\n\t\tpadding: \"0\",\n\t\tmargin: \"0\",\n\t\tli: {\n\t\t\tbackgroundColor: `${context.theme.backgroundColor.white}`,\n\t\t\tmargin: \"10px 0\",\n\t\t\tborderRadius: \"8px\",\n\t\t\tdisplay: \"flex\",\n\t\t\twidth: \"100%\",\n\t\t\tcursor: \"pointer\",\n\t\t\tposition: \"relative\",\n\t\t},\n\t};\n};\n\nexport const pollTotalStyle = () => {\n\n    return {\n        fontSize: \"13px\",\n        margin: \"0\",\n        alignSelf: \"flex-end\"\n    }\n}\n\nexport const pollPercentStyle = (context, width) => {\n\n    const curvedBorders = (width === \"100%\") ? { borderRadius: \"8px\" } : {\n        borderRadius: \"8px 0 0 8px\"\n    };\n\n    return {\n        maxWidth: \"100%\",\n        width: width,\n        ...curvedBorders,\n        backgroundColor: `${context.theme.backgroundColor.primary}`,\n        minHeight: \"35px\",\n        height: \"100%\",\n        position: \"absolute\",\n        zIndex: \"1\",\n    }\n}\n\nexport const answerWrapperStyle = (state, optionData, context) => {\n\n\tlet countPadding = \"0px 16px 0px 0px\";\n    let widthProp = \"calc(100% - 40px)\";\n\tif (optionData.hasOwnProperty(\"voters\") && optionData.voters.hasOwnProperty(state?.loggedInUser?.uid)) {\n\t\t//countPadding = \"0px 8px\";\n\t\twidthProp = \"calc(100% - 40px)\";\n\t}\n\n\treturn {\n\t\twidth: \"100%\",\n\t\tcolor: `${context.theme.color.primary}`,\n\t\tdisplay: \"flex\",\n\t\talignItems: \"center\",\n\t\tminHeight: \"35px\",\n        padding: \"0 16px\",\n\t\theight: \"100%\",\n\t\tzIndex: \"2\",\n\t\tp: {\n\t\t\tmargin: \"0\",\n\t\t\twidth: widthProp,\n\t\t\twhiteSpace: \"pre-wrap\",\n\t\t\twordWrap: \"break-word\",\n\t\t\tfontSize: \"14px\",\n\t\t},\n\t\tspan: {\n\t\t\tmaxWidth: \"40px\",\n\t\t\tpadding: countPadding,\n\t\t\tfontWeight: \"bold\",\n\t\t\tdisplay: \"inline-block\",\n\t\t\tfontSize: \"13px\",\n\t\t},\n\t};\n};\n\nexport const checkIconStyle = (img, context) => {\n\n\treturn {\n\t\twidth: \"24px\",\n\t\theight: \"24px\",\n\t\tmask: `url(${img}) center center no-repeat`,\n\t\tbackgroundColor: `${context.theme.secondaryTextColor}`,\n\t};\n};\n\nexport const messageInfoWrapperStyle = () => {\n\n    return {\n        alignSelf: \"flex-start\",\n        padding: \"4px 8px\",\n        display: \"flex\",\n        alignItems: \"center\",\n        justifyContent: \"flex-start\",\n        height: \"25px\"\n    }\n}\n\nexport const messageReactionsWrapperStyle = () => {\n\n    return {\n        display: \"flex\",\n        alignSelf: \"flex-start\",\n        width: \"100%\",\n        flexWrap: \"wrap\",\n        justifyContent: \"flex-start\",\n        minHeight: \"36px\",\n    }\n}\n","export default __webpack_public_path__ + \"static/media/checkmark.2fca5711.svg\";","import React from \"react\";\n/** @jsxRuntime classic */\n/** @jsx jsx */\nimport { jsx } from \"@emotion/core\";\nimport PropTypes from \"prop-types\";\nimport { CometChat } from \"@cometchat-pro/chat\";\n\nimport { CometChatMessageActions, CometChatThreadedMessageReplyCount, CometChatReadReceipt } from \"../../\";\nimport { CometChatMessageReactions } from \"../\";\nimport { CometChatAvatar } from \"../../../Shared\";\n\nimport { CometChatContext } from \"../../../../util/CometChatContext\";\nimport { checkMessageForExtensionsData } from \"../../../../util/common\";\nimport * as enums from \"../../../../util/enums.js\";\n\nimport { theme } from \"../../../../resources/theme\";\nimport Translator from \"../../../../resources/localization/translator\";\n\nimport {\n    messageContainerStyle,\n    messageWrapperStyle,\n    messageThumbnailStyle,\n    messageDetailStyle,\n    nameWrapperStyle,\n    nameStyle,\n    messageTxtContainerStyle,\n    messageTxtWrapperStyle,\n    pollQuestionStyle,\n    pollAnswerStyle,\n    pollPercentStyle,\n    answerWrapperStyle,\n    checkIconStyle,\n    pollTotalStyle,\n    messageInfoWrapperStyle,\n    messageReactionsWrapperStyle\n} from \"./style\";\n\n\nimport checkImg from \"./resources/checkmark.svg\";\n\nclass CometChatReceiverPollMessageBubble extends React.Component {\n\tpollId;\n\tstatic contextType = CometChatContext;\n\tloggedInUser;\n\n\tconstructor(props, context) {\n\t\tsuper(props, context);\n\n\t\tthis.state = {\n\t\t\tisHovering: false,\n\t\t\tloggedInUser: null\n\t\t};\n\t}\n\n\tcomponentDidMount() {\n\n\t\tthis.context.getLoggedinUser().then(user => {\n\t\t\tthis.setState({ loggedInUser: {...user} });\n\t\t});\n\t}\n\n\tshouldComponentUpdate(nextProps, nextState) {\n        \n\t\tconst currentMessageStr = JSON.stringify(this.props.message);\n\t\tconst nextMessageStr = JSON.stringify(nextProps.message);\n\n\t\tif (currentMessageStr !== nextMessageStr \n        || this.state.isHovering !== nextState.isHovering) {\n\t\t\treturn true;\n\t\t}\n\t\treturn false;\n\t}\n\n\tanswerPollQuestion = (event, selectedOption) => {\n\t\tCometChat.callExtension(\"polls\", \"POST\", \"v2/vote\", {\n\t\t\tvote: selectedOption,\n\t\t\tid: this.pollId,\n\t\t})\n\t\t\t.then(response => {\n\t\t\t\tif (response.hasOwnProperty(\"success\") === false || (response.hasOwnProperty(\"success\") && response[\"success\"] === false)) {\n\t\t\t\t\tthis.props.actionGenerated(enums.ACTIONS[\"ERROR\"], [], \"SOMETHING_WRONG\");\n\t\t\t\t}\n\t\t\t})\n\t\t\t.catch(error => this.props.actionGenerated(enums.ACTIONS[\"ERROR\"], [], \"SOMETHING_WRONG\"));\n\t};\n\n\thandleMouseHover = () => {\n\t\tthis.setState(this.toggleHoverState);\n\t};\n\n\ttoggleHoverState = state => {\n\t\treturn {\n\t\t\tisHovering: !state.isHovering,\n\t\t};\n\t};\n\n\trender() {\n\t\tconst pollExtensionData = checkMessageForExtensionsData(this.props.message, \"polls\");\n\t\tif (!pollExtensionData) {\n\t\t\treturn null;\n\t\t}\n\n\t\t// if (!this.props.message.hasOwnProperty(\"metadata\")) {\n\t\t//     return null;\n\t\t// }\n\n\t\t// if (!this.props.message.metadata.hasOwnProperty(\"@injected\")) {\n\t\t//     return null;\n\t\t// }\n\n\t\t// if (!this.props.message.metadata[\"@injected\"].hasOwnProperty(\"extensions\")) {\n\t\t//     return null;\n\t\t// }\n\n\t\t// if (!this.props.message.metadata[\"@injected\"][\"extensions\"].hasOwnProperty(\"polls\")) {\n\t\t//     return null;\n\t\t// }\n\n\t\tlet avatar = null,\n\t\t\tname = null;\n\t\tif (this.props.message.receiverType === CometChat.RECEIVER_TYPE.GROUP) {\n\t\t\tavatar = (\n\t\t\t\t<div css={messageThumbnailStyle} className=\"message__thumbnail\">\n\t\t\t\t\t<CometChatAvatar user={this.props.message.sender} />\n\t\t\t\t</div>\n\t\t\t);\n\n\t\t\tname = (\n\t\t\t\t<div css={nameWrapperStyle(avatar)} className=\"message__name__wrapper\">\n\t\t\t\t\t<span css={nameStyle(this.context)} className=\"message__name\">\n\t\t\t\t\t\t{this.props.message.sender.name}\n\t\t\t\t\t</span>\n\t\t\t\t</div>\n\t\t\t);\n\t\t}\n\n\t\tconst pollOptions = [];\n\t\t//const pollExtensionData = this.props.message.metadata[\"@injected\"][\"extensions\"][\"polls\"];\n\n\t\tthis.pollId = pollExtensionData.id;\n\t\tconst total = pollExtensionData.results.total;\n\t\tlet totalText = Translator.translate(\"NO_VOTE\", this.context.language);\n\n\t\tif (total === 1) {\n\t\t\ttotalText = `${total} ${Translator.translate(\"VOTE\", this.context.language)}`;\n\t\t} else if (total > 1) {\n\t\t\ttotalText = `${total} ${Translator.translate(\"VOTES\", this.context.language)}`;\n\t\t}\n\n\t\tfor (const option in pollExtensionData.options) {\n\t\t\tconst optionData = pollExtensionData.results.options[option];\n\t\t\tconst vote = optionData[\"count\"];\n\n\t\t\tlet width = \"0%\";\n\t\t\tif (total) {\n\t\t\t\tconst fraction = vote / total;\n\t\t\t\twidth = fraction.toLocaleString(\"en\", { style: \"percent\" });\n\t\t\t}\n\n\t\t\tlet checkIcon = null;\n\t\t\tif (optionData.hasOwnProperty(\"voters\") && optionData.voters.hasOwnProperty(this.loggedInUser?.uid)) {\n\t\t\t\tcheckIcon = <i css={checkIconStyle(checkImg, this.context)}></i>;\n\t\t\t}\n\n\t\t\tconst template = (\n\t\t\t\t<li key={option} onClick={event => this.answerPollQuestion(event, option)}>\n\t\t\t\t\t<div css={pollPercentStyle(this.context, width)}> </div>\n\t\t\t\t\t<div css={answerWrapperStyle(this.state, optionData, this.context)}>\n\t\t\t\t\t\t{checkIcon}\n\t\t\t\t\t\t<span>{width}</span>\n\t\t\t\t\t\t<p>{optionData.text}</p>\n\t\t\t\t\t</div>\n\t\t\t\t</li>\n\t\t\t);\n\t\t\tpollOptions.push(template);\n\t\t}\n\n\t\tlet messageReactions = null;\n\t\tconst reactionsData = checkMessageForExtensionsData(this.props.message, \"reactions\");\n\t\tif (reactionsData) {\n\t\t\tif (Object.keys(reactionsData).length) {\n\t\t\t\tmessageReactions = (\n\t\t\t\t\t<div css={messageReactionsWrapperStyle()} className=\"message__reaction__wrapper\">\n\t\t\t\t\t\t<CometChatMessageReactions message={this.props.message} actionGenerated={this.props.actionGenerated} />\n\t\t\t\t\t</div>\n\t\t\t\t);\n\t\t\t}\n\t\t}\n\n\t\tlet toolTipView = null;\n\t\tif (this.state.isHovering) {\n\t\t\ttoolTipView = <CometChatMessageActions message={this.props.message} actionGenerated={this.props.actionGenerated} />;\n\t\t}\n\n\t\treturn (\n\t\t\t<div css={messageContainerStyle()} className=\"receiver__message__container message__poll\" onMouseEnter={this.handleMouseHover} onMouseLeave={this.handleMouseHover}>\n\t\t\t\t<div css={messageWrapperStyle()} className=\"message__wrapper\">\n\t\t\t\t\t{avatar}\n\t\t\t\t\t<div css={messageDetailStyle()} className=\"message__details\">\n\t\t\t\t\t\t{name}\n\t\t\t\t\t\t{toolTipView}\n\t\t\t\t\t\t<div css={messageTxtContainerStyle()} className=\"message__poll__container\">\n\t\t\t\t\t\t\t<div css={messageTxtWrapperStyle(this.context)} className=\"message__poll__wrapper\">\n\t\t\t\t\t\t\t\t<p css={pollQuestionStyle()} className=\"poll__question\">\n\t\t\t\t\t\t\t\t\t{pollExtensionData.question}\n\t\t\t\t\t\t\t\t</p>\n\t\t\t\t\t\t\t\t<ul css={pollAnswerStyle(this.context)} className=\"poll__options\">\n\t\t\t\t\t\t\t\t\t{pollOptions}\n\t\t\t\t\t\t\t\t</ul>\n\t\t\t\t\t\t\t\t<p css={pollTotalStyle()} className=\"poll__votes\">\n\t\t\t\t\t\t\t\t\t{totalText}\n\t\t\t\t\t\t\t\t</p>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t{messageReactions}\n\n\t\t\t\t\t\t<div css={messageInfoWrapperStyle()} className=\"message__info__wrapper\">\n\t\t\t\t\t\t\t<CometChatReadReceipt message={this.props.message} />\n\t\t\t\t\t\t\t<CometChatThreadedMessageReplyCount message={this.props.message} actionGenerated={this.props.actionGenerated} />\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t);\n\t}\n}\n\n// Specifies the default values for props:\nCometChatReceiverPollMessageBubble.defaultProps = {\n\ttheme: theme,\n\tactionGenerated: () => {},\n};\n\nCometChatReceiverPollMessageBubble.propTypes = {\n\ttheme: PropTypes.object,\n\tactionGenerated: PropTypes.func.isRequired,\n\tmessage: PropTypes.object.isRequired,\n};\n\nexport { CometChatReceiverPollMessageBubble };","export const messageContainerStyle = () => {\n\n    return {\n        alignSelf: \"flex-start\",\n        marginBottom: \"16px\",\n        paddingLeft: \"16px\",\n        paddingRight: \"16px\",\n        maxWidth: \"65%\",\n        clear: \"both\",\n        position: \"relative\",\n        display: \"flex\",\n        flexDirection: \"column\",\n        flexShrink: \"0\",\n    }\n}\n\nexport const messageWrapperStyle = () => {\n\n    return {\n        width: \"auto\",\n        flex: \"1 1\",\n        alignSelf: \"flex-start\",\n        display: \"flex\",\n    }\n}\n\nexport const messageThumbnailStyle = () => {\n\n    return {\n        width: \"36px\",\n        height: \"36px\",\n        margin: \"10px 5px\",\n        float: \"left\",\n        flexShrink: \"0\",\n    }\n}\n\nexport const messageDetailStyle = () => {\n\n    return {\n        flex: \"1 1\",\n        display: \"flex\",\n        flexDirection: \"column\",\n    }\n}\n\nexport const nameWrapperStyle = (avatar) => {\n\n    const paddingValue = (avatar) ? {\n        padding: \"3px 5px\",\n    } : {};\n\n    return {\n        alignSelf: \"flex-start\",\n        ...paddingValue\n    }\n}\n\nexport const nameStyle = context => {\n\n\treturn {\n\t\tfontSize: \"11px\",\n\t\tcolor: `${context.theme.color.search}`,\n\t};\n};\n\nexport const messageImgContainerStyle = () => {\n\n    return {\n        width: \"auto\",\n        flex: \"1 1\",\n        alignSelf: \"flex-start\",\n        display: \"flex\",\n    }\n}\n\nexport const messageImgWrapperStyle = context => {\n\n\tconst mq = [...context.theme.breakPoints];\n\n\treturn {\n\t\tdisplay: \"inline-block\",\n\t\talignSelf: \"flex-start\",\n\t\tmaxWidth: \"128px\",\n\t\theight: \"128px\",\n\t\tcursor: \"pointer\",\n\t\t[`@media ${mq[1]}, ${mq[2]}`]: {\n\t\t\tmaxWidth: \"128px\",\n\t\t\theight: \"128px\",\n\t\t\tpadding: \"2px 2px\",\n\t\t},\n\t};\n};\n\nexport const messageInfoWrapperStyle = () => {\n\n    return {\n        alignSelf: \"flex-start\",\n        padding: \"4px 8px\",\n        display: \"flex\",\n        alignItems: \"center\",\n        justifyContent: \"flex-start\",\n        height: \"25px\"\n    }\n}\n\nexport const messageReactionsWrapperStyle = () => {\n\n    return {\n        display: \"flex\",\n        alignSelf: \"flex-start\",\n        width: \"100%\",\n        flexWrap: \"wrap\",\n        justifyContent: \"flex-start\",\n        minHeight: \"36px\",\n    }\n}\n","import React from \"react\";\n/** @jsxRuntime classic */\n/** @jsx jsx */\nimport { jsx } from \"@emotion/core\";\nimport PropTypes from \"prop-types\";\nimport { CometChat } from \"@cometchat-pro/chat\";\n\nimport { CometChatMessageActions, CometChatThreadedMessageReplyCount, CometChatReadReceipt } from \"../../\";\nimport { CometChatMessageReactions } from \"../\";\nimport { CometChatAvatar } from \"../../../Shared\";\n\nimport { CometChatContext } from \"../../../../util/CometChatContext\";\nimport { checkMessageForExtensionsData } from \"../../../../util/common\";\n\nimport { theme } from \"../../../../resources/theme\";\nimport Translator from \"../../../../resources/localization/translator\";\n\nimport {\n    messageContainerStyle,\n    messageWrapperStyle,\n    messageThumbnailStyle,\n    messageDetailStyle,\n    nameWrapperStyle,\n    nameStyle,\n    messageImgContainerStyle,\n    messageImgWrapperStyle,\n    messageInfoWrapperStyle,\n    messageReactionsWrapperStyle\n} from \"./style\";\n\nclass CometChatReceiverStickerMessageBubble extends React.Component {\n\tstatic contextType = CometChatContext;\n\n\tconstructor(props) {\n\t\tsuper(props);\n\n\t\tthis.state = {\n\t\t\tisHovering: false,\n\t\t};\n\t}\n\n\tshouldComponentUpdate(nextProps, nextState) {\n\n\t\tconst currentMessageStr = JSON.stringify(this.props.message);\n\t\tconst nextMessageStr = JSON.stringify(nextProps.message);\n\n\t\tif (currentMessageStr !== nextMessageStr \n        || this.state.isHovering !== nextState.isHovering) {\n\t\t\treturn true;\n\t\t}\n\t\treturn false;\n\t}\n\n\thandleMouseHover = () => {\n\t\tthis.setState(this.toggleHoverState);\n\t};\n\n\ttoggleHoverState = state => {\n\t\treturn {\n\t\t\tisHovering: !state.isHovering,\n\t\t};\n\t};\n\n\trender() {\n\t\tlet avatar = null,\n\t\t\tname = null;\n\t\tif (this.props.message.receiverType === CometChat.RECEIVER_TYPE.GROUP) {\n\t\t\tavatar = (\n\t\t\t\t<div css={messageThumbnailStyle()} className=\"message__thumbnail\">\n\t\t\t\t\t<CometChatAvatar user={this.props.message.sender} />\n\t\t\t\t</div>\n\t\t\t);\n\n\t\t\tname = (\n\t\t\t\t<div css={nameWrapperStyle(avatar)} className=\"message__name__wrapper\">\n\t\t\t\t\t<span css={nameStyle(this.context)} className=\"message__name\">\n\t\t\t\t\t\t{this.props.message.sender.name}\n\t\t\t\t\t</span>\n\t\t\t\t</div>\n\t\t\t);\n\t\t}\n\n\t\tlet stickerData = null;\n\t\tlet stickerImg = null;\n\t\tif (this.props.message.hasOwnProperty(\"data\") && this.props.message.data.hasOwnProperty(\"customData\")) {\n\t\t\tstickerData = this.props.message.data.customData;\n\n\t\t\tif (stickerData.hasOwnProperty(\"sticker_url\")) {\n\t\t\t\tconst stickerName = stickerData.hasOwnProperty(\"sticker_name\") ? stickerData.sticker_name : Translator.translate(\"STICKER\", this.context.language);\n\t\t\t\tstickerImg = <img src={stickerData.sticker_url} alt={stickerName} />;\n\t\t\t}\n\t\t}\n\n\t\tlet messageReactions = null;\n\t\tconst reactionsData = checkMessageForExtensionsData(this.props.message, \"reactions\");\n\t\tif (reactionsData) {\n\t\t\tif (Object.keys(reactionsData).length) {\n\t\t\t\tmessageReactions = (\n\t\t\t\t\t<div css={messageReactionsWrapperStyle()} className=\"message__reaction__wrapper\">\n\t\t\t\t\t\t<CometChatMessageReactions message={this.props.message} actionGenerated={this.props.actionGenerated} />\n\t\t\t\t\t</div>\n\t\t\t\t);\n\t\t\t}\n\t\t}\n\n\t\tlet toolTipView = null;\n\t\tif (this.state.isHovering) {\n\t\t\ttoolTipView = <CometChatMessageActions message={this.props.message} actionGenerated={this.props.actionGenerated} />;\n\t\t}\n\n\t\treturn (\n\t\t\t<div css={messageContainerStyle()} className=\"receiver__message__container message__sticker\" onMouseEnter={this.handleMouseHover} onMouseLeave={this.handleMouseHover}>\n\t\t\t\t<div css={messageWrapperStyle()} className=\"message__wrapper\">\n\t\t\t\t\t{avatar}\n\t\t\t\t\t<div css={messageDetailStyle(name)} className=\"message__details\">\n\t\t\t\t\t\t{name}\n\t\t\t\t\t\t{toolTipView}\n\t\t\t\t\t\t<div css={messageImgContainerStyle()} className=\"message__image__container\">\n\t\t\t\t\t\t\t<div css={messageImgWrapperStyle(this.context)} className=\"message__image__wrapper\">\n\t\t\t\t\t\t\t\t{stickerImg}\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t{messageReactions}\n\n\t\t\t\t\t\t<div css={messageInfoWrapperStyle()} className=\"message__info__wrapper\">\n\t\t\t\t\t\t\t<CometChatReadReceipt message={this.props.message} />\n\t\t\t\t\t\t\t<CometChatThreadedMessageReplyCount message={this.props.message} actionGenerated={this.props.actionGenerated} />\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t);\n\t}\n}\n\n// Specifies the default values for props:\nCometChatReceiverStickerMessageBubble.defaultProps = {\n\ttheme: theme,\n\tactionGenerated: () => {},\n};\n\nCometChatReceiverStickerMessageBubble.propTypes = {\n\ttheme: PropTypes.object,\n\tactionGenerated: PropTypes.func.isRequired,\n\tmessage: PropTypes.object.isRequired,\n};\n\nexport { CometChatReceiverStickerMessageBubble };","export const messageContainerStyle = () => {\n\n    return {\n        alignSelf: \"flex-start\",\n        marginBottom: \"16px\",\n        paddingLeft: \"16px\",\n        paddingRight: \"16px\",\n        maxWidth: \"305px\",\n        clear: \"both\",\n        position: \"relative\",\n        display: \"flex\",\n        flexDirection: \"column\",\n        flexShrink: \"0\",\n    }\n}\n\nexport const messageWrapperStyle = () => {\n\n    return {\n        width: \"auto\",\n        flex: \"1 1\",\n        alignSelf: \"flex-start\",\n        display: \"flex\",\n    }\n}\n\nexport const messageThumbnailStyle = () => {\n\n    return {\n        width: \"36px\",\n        height: \"36px\",\n        margin: \"10px 5px\",\n        float: \"left\",\n        flexShrink: \"0\",\n    }\n}\n\nexport const messageDetailStyle = () => {\n\n    return {\n        flex: \"1 1\",\n        display: \"flex\",\n        flexDirection: \"column\",\n    }\n}\n\nexport const nameWrapperStyle = (avatar) => {\n\n    const paddingValue = (avatar) ? {\n        padding: \"3px 5px\",\n    } : {};\n\n    return {\n        alignSelf: \"flex-start\",\n        ...paddingValue\n    }\n}\n\nexport const nameStyle = context => {\n\n\treturn {\n\t\tfontSize: \"11px\",\n\t\tcolor: `${context.theme.color.search}`,\n\t};\n};\n\nexport const messageTxtContainerStyle = () => {\n\n    return {\n        width: \"auto\",\n        flex: \"1 1\",\n        alignSelf: \"flex-start\",\n        display: \"flex\",\n    }\n}\n\nexport const messageTxtWrapperStyle = context => {\n\n\treturn {\n\t\tdisplay: \"flex\",\n\t\tflexDirection: \"column\",\n\t\tborderRadius: \"12px\",\n\t\tbackgroundColor: `${context.theme.backgroundColor.secondary}`,\n\t\tpadding: \"16px\",\n\t\talignSelf: \"flex-start\",\n\t\twidth: \"100%\",\n\t};\n};\n\nexport const messageTxtTitleStyle = context => {\n\n\treturn {\n\t\tdisplay: \"flex\",\n\t\tjustifyContent: \"center\",\n\t\talignItems: \"center\",\n\t\tcolor: `${context.theme.color.primary}`,\n\t};\n};\n\nexport const messageTxtStyle = () => {\n\n    return {\n        margin: \"0\",\n        whiteSpace: \"pre-wrap\",\n        wordWrap: \"break-word\",\n        textAlign: \"left\",\n        width: \"calc(100% - 24px)\",\n        fontSize: \"14px\",\n        marginLeft: \"8px\"\n    }\n}\n\nexport const iconStyle = (img, context) => {\n\treturn {\n\t\twidth: \"24px\",\n\t\theight: \"24px\",\n\t\tdisplay: \"inline-block\",\n\t\tmask: `url(${img}) center center no-repeat`,\n\t\tbackgroundColor: `${context.theme.primaryColor}`,\n\t};\n};\n\nexport const messageBtnStyle = context => {\n\n\treturn {\n\t\tlistStyleType: \"none\",\n\t\tpadding: \"0\",\n\t\tmargin: \"0\",\n\t\tli: {\n\t\t\tbackgroundColor: `${context.theme.backgroundColor.white}`,\n\t\t\tborderRadius: \"8px\",\n\t\t\tdisplay: \"flex\",\n\t\t\tjustifyContent: \"center\",\n\t\t\talignItems: \"center\",\n\t\t\twidth: \"100%\",\n\t\t\tcursor: \"pointer\",\n\t\t\tposition: \"relative\",\n\t\t\tmargin: \"16px 0 0 0\",\n\t\t\tpadding: \"8px\",\n\t\t\t\"> p\": {\n\t\t\t\tbackground: \"0 0\",\n\t\t\t\ttextAlign: \"center\",\n\t\t\t\tcolor: `${context.theme.primaryColor}`,\n\t\t\t\twidth: \"100%\",\n\t\t\t\tdisplay: \"inline-block\",\n\t\t\t\tfontSize: \"14px\",\n\t\t\t\tfontWeight: \"600\",\n\t\t\t\tmargin: \"0\",\n\t\t\t},\n\t\t},\n\t};\n};\n\n\nexport const messageInfoWrapperStyle = () => {\n\n    return {\n        alignSelf: \"flex-start\",\n        padding: \"4px 8px\",\n        display: \"flex\",\n        alignItems: \"center\",\n        justifyContent: \"flex-start\",\n        height: \"25px\"\n    }\n}\n\nexport const messageReactionsWrapperStyle = () => {\n\n    return {\n        display: \"flex\",\n        alignSelf: \"flex-start\",\n        width: \"100%\",\n        flexWrap: \"wrap\",\n        justifyContent: \"flex-start\",\n        minHeight: \"36px\",\n    }\n}\n","export default __webpack_public_path__ + \"static/media/collaborative-whiteboard.78916c4e.svg\";","import React from \"react\";\n/** @jsxRuntime classic */\n/** @jsx jsx */\nimport { jsx } from \"@emotion/core\";\nimport PropTypes from \"prop-types\";\nimport { CometChat } from \"@cometchat-pro/chat\";\n\nimport { CometChatMessageActions, CometChatThreadedMessageReplyCount, CometChatReadReceipt } from \"../../\";\nimport { CometChatMessageReactions } from \"../\";\nimport { CometChatAvatar } from \"../../../Shared\";\n\nimport { CometChatContext } from \"../../../../util/CometChatContext\";\nimport { checkMessageForExtensionsData } from \"../../../../util/common\";\n\nimport { theme } from \"../../../../resources/theme\";\nimport Translator from \"../../../../resources/localization/translator\";\n\nimport {\n\tmessageContainerStyle,\n\tmessageWrapperStyle,\n\tmessageThumbnailStyle,\n\tmessageDetailStyle,\n\tnameWrapperStyle,\n\tnameStyle,\n\tmessageTxtContainerStyle,\n\tmessageTxtWrapperStyle,\n\tmessageTxtTitleStyle,\n\tmessageTxtStyle,\n\tmessageBtnStyle,\n\tmessageInfoWrapperStyle,\n\tmessageReactionsWrapperStyle,\n\ticonStyle,\n} from \"./style\";\n\nimport whiteboardIcon from \"./resources/collaborative-whiteboard.svg\";\n\nclass CometChatReceiverWhiteboardBubble extends React.Component {\n\tstatic contextType = CometChatContext;\n\tloggedInUser;\n\n\tconstructor(props, context) {\n\t\tsuper(props, context);\n\n\t\tthis.state = {\n\t\t\tisHovering: false,\n\t\t};\n\n\t\tthis.context.getLoggedinUser().then(user => {\n\t\t\tthis.loggedInUser = { ...user };\n\t\t});\n\t}\n\n\tshouldComponentUpdate(nextProps, nextState) {\n\t\tconst currentMessageStr = JSON.stringify(this.props.message);\n\t\tconst nextMessageStr = JSON.stringify(nextProps.message);\n\n\t\tif (currentMessageStr !== nextMessageStr || this.state.isHovering !== nextState.isHovering) {\n\t\t\treturn true;\n\t\t}\n\t\treturn false;\n\t}\n\n\tlaunchCollaborativeWhiteboard = () => {\n\t\tlet whiteboardUrl = null;\n\t\tlet whiteboardData = checkMessageForExtensionsData(this.props.message, \"whiteboard\");\n\t\tif (whiteboardData && whiteboardData.hasOwnProperty(\"board_url\") && whiteboardData.board_url.length) {\n\t\t\tlet username = this.loggedInUser?.name.split(\" \").join(\"_\");\n\t\t\t// Appending the username to the board_url\n\t\t\twhiteboardUrl = whiteboardData.board_url + \"&username=\" + username;\n\t\t\twindow.open(whiteboardUrl, \"\", \"fullscreen=yes, scrollbars=auto\");\n\t\t}\n\t};\n\n\thandleMouseHover = () => {\n\t\tthis.setState(this.toggleHoverState);\n\t};\n\n\ttoggleHoverState = state => {\n\t\treturn {\n\t\t\tisHovering: !state.isHovering,\n\t\t};\n\t};\n\n\trender() {\n\t\tlet avatar = null,\n\t\t\tname = null;\n\t\tif (this.props.message.receiverType === CometChat.RECEIVER_TYPE.GROUP) {\n\t\t\tavatar = (\n\t\t\t\t<div css={messageThumbnailStyle} className=\"message__thumbnail\">\n\t\t\t\t\t<CometChatAvatar user={this.props.message.sender} />\n\t\t\t\t</div>\n\t\t\t);\n\n\t\t\tname = (\n\t\t\t\t<div css={nameWrapperStyle(avatar)} className=\"message__name__wrapper\">\n\t\t\t\t\t<span css={nameStyle(this.context)} className=\"message__name\">\n\t\t\t\t\t\t{this.props.message.sender.name}\n\t\t\t\t\t</span>\n\t\t\t\t</div>\n\t\t\t);\n\t\t}\n\n\t\tlet messageReactions = null;\n\t\tconst reactionsData = checkMessageForExtensionsData(this.props.message, \"reactions\");\n\t\tif (reactionsData) {\n\t\t\tif (Object.keys(reactionsData).length) {\n\t\t\t\tmessageReactions = (\n\t\t\t\t\t<div css={messageReactionsWrapperStyle()} className=\"message__reaction__wrapper\">\n\t\t\t\t\t\t<CometChatMessageReactions message={this.props.message} actionGenerated={this.props.actionGenerated} />\n\t\t\t\t\t</div>\n\t\t\t\t);\n\t\t\t}\n\t\t}\n\n\t\tlet toolTipView = null;\n\t\tif (this.state.isHovering) {\n\t\t\ttoolTipView = <CometChatMessageActions message={this.props.message} actionGenerated={this.props.actionGenerated} />;\n\t\t}\n\n\t\tconst documentTitle = `${this.props.message.sender.name} ${Translator.translate(\"SHARED_COLLABORATIVE_WHITEBOARD\", this.context.language)}`;\n\n\t\treturn (\n\t\t\t<div css={messageContainerStyle()} className=\"receiver__message__container message__whiteboard\" onMouseEnter={this.handleMouseHover} onMouseLeave={this.handleMouseHover}>\n\t\t\t\t<div css={messageWrapperStyle()} className=\"message__wrapper\">\n\t\t\t\t\t{avatar}\n\t\t\t\t\t<div css={messageDetailStyle()} className=\"message__details\">\n\t\t\t\t\t\t{name}\n\t\t\t\t\t\t{toolTipView}\n\t\t\t\t\t\t<div css={messageTxtContainerStyle()} className=\"message__whiteboard__container\">\n\t\t\t\t\t\t\t<div css={messageTxtWrapperStyle(this.context)} className=\"message__whiteboard__wrapper\">\n\t\t\t\t\t\t\t\t<div css={messageTxtTitleStyle(this.context)} className=\"message__whiteboard__title\">\n\t\t\t\t\t\t\t\t\t<i css={iconStyle(whiteboardIcon, this.context)} title={Translator.translate(\"COLLABORATIVE_WHITEBOARD\", this.context.language)}></i>\n\t\t\t\t\t\t\t\t\t<p css={messageTxtStyle()} className=\"whiteboard__title\">\n\t\t\t\t\t\t\t\t\t\t{documentTitle}\n\t\t\t\t\t\t\t\t\t</p>\n\t\t\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t\t\t<ul css={messageBtnStyle(this.context)} className=\"whiteboard__button\">\n\t\t\t\t\t\t\t\t\t<li onClick={this.launchCollaborativeWhiteboard}>\n\t\t\t\t\t\t\t\t\t\t<p>{Translator.translate(\"JOIN\", this.context.language)}</p>\n\t\t\t\t\t\t\t\t\t</li>\n\t\t\t\t\t\t\t\t</ul>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t{messageReactions}\n\n\t\t\t\t\t\t<div css={messageInfoWrapperStyle()} className=\"message__info__wrapper\">\n\t\t\t\t\t\t\t<CometChatReadReceipt message={this.props.message} />\n\t\t\t\t\t\t\t<CometChatThreadedMessageReplyCount message={this.props.message} actionGenerated={this.props.actionGenerated} />\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t);\n\t}\n}\n\n// Specifies the default values for props:\nCometChatReceiverWhiteboardBubble.defaultProps = {\n\ttheme: theme,\n\tactionGenerated: () => {},\n};\n\nCometChatReceiverWhiteboardBubble.propTypes = {\n\ttheme: PropTypes.object,\n\tactionGenerated: PropTypes.func.isRequired,\n\tmessage: PropTypes.object.isRequired,\n};\n\nexport { CometChatReceiverWhiteboardBubble };","export const messageContainerStyle = () => {\n\n    return {\n        alignSelf: \"flex-end\",\n        marginBottom: \"16px\",\n        paddingLeft: \"16px\",\n        paddingRight: \"16px\",\n        maxWidth: \"305px\",\n        clear: \"both\",\n        position: \"relative\",\n        display: \"flex\",\n        flexDirection: \"column\",\n        flexShrink: \"0\",\n    }\n}\n\nexport const messageWrapperStyle = () => {\n\n    return {\n        width: \"auto\",\n        flex: \"1 1\",\n        alignSelf: \"flex-end\",\n        display: \"flex\",\n    }\n}\n\nexport const messageTxtWrapperStyle = context => {\n\n\treturn {\n\t\tdisplay: \"inline-block\",\n\t\tborderRadius: \"12px\",\n\t\tbackgroundColor: `${context.theme.primaryColor}`,\n\t\tcolor: `${context.theme.color.white}`,\n\t\tpadding: \"16px\",\n\t\talignSelf: \"flex-end\",\n\t\twidth: \"auto\",\n\t};\n};\n\nexport const messageTxtContainerStyle = () => {\n\n    return {\n        display: \"flex\",\n        justifyContent: \"center\",\n        alignItems: \"center\"\n    }\n}\n\nexport const messageTxtStyle = () => {\n\n    return {\n        margin: \"0\",\n        whiteSpace: \"pre-wrap\",\n        wordBreak: \"break-word\",\n        textAlign: \"left\",\n        width: \"calc(100% - 24px)\",\n        fontSize: \"14px\",\n        marginLeft: \"8px\"\n    }\n}\n\nexport const iconStyle = (img, context) => {\n\treturn {\n\t\twidth: \"24px\",\n\t\theight: \"24px\",\n\t\tdisplay: \"inline-block\",\n\t\tmask: `url(${img}) center center no-repeat`,\n\t\tbackgroundColor: `${context.theme.color.white}`,\n\t};\n};\n\nexport const messageBtnStyle = context => {\n\n\treturn {\n\t\tlistStyleType: \"none\",\n\t\tpadding: \"0\",\n\t\tmargin: \"0\",\n\t\twidth: \"100%\",\n\t\tli: {\n\t\t\tbackgroundColor: `${context.theme.backgroundColor.white}`,\n\t\t\tborderRadius: \"8px\",\n\t\t\tdisplay: \"flex\",\n\t\t\tjustifyContent: \"center\",\n\t\t\talignItems: \"center\",\n\t\t\twidth: \"100%\",\n\t\t\tposition: \"relative\",\n\t\t\tmargin: \"16px 0 0 0\",\n\t\t\tpadding: \"8px\",\n\t\t\tcursor: \"pointer\",\n\t\t\t\"> p\": {\n\t\t\t\tbackground: \"0 0\",\n\t\t\t\ttextAlign: \"center\",\n\t\t\t\tcolor: `${context.theme.primaryColor}`,\n\t\t\t\twidth: \"100%\",\n\t\t\t\tfontWeight: \"600\",\n\t\t\t\tdisplay: \"inline-block\",\n\t\t\t\tfontSize: \"14px\",\n\t\t\t\tmargin: \"0\",\n\t\t\t},\n\t\t},\n\t};\n};\n\nexport const messageInfoWrapperStyle = () => {\n\n    return {\n        alignSelf: \"flex-end\",\n        display: \"flex\",\n        justifyContent: \"flex-end\",\n        alignItems: \"center\",\n        padding: \"4px 8px\",\n        height: \"25px\",\n    }\n}\n\nexport const messageReactionsWrapperStyle = () => {\n\n    return {\n        display: \"flex\",\n        alignSelf: \"flex-end\",\n        width: \"100%\",\n        flexWrap: \"wrap\",\n        justifyContent: \"flex-end\",\n        minHeight: \"36px\",\n    }\n}\n","export default __webpack_public_path__ + \"static/media/collaborative-document.3c15f5d4.svg\";","import React from \"react\";\n/** @jsxRuntime classic */\n/** @jsx jsx */\nimport { jsx } from \"@emotion/core\";\nimport PropTypes from \"prop-types\";\n\nimport { CometChatMessageActions, CometChatThreadedMessageReplyCount, CometChatReadReceipt } from \"../../\";\nimport { CometChatMessageReactions } from \"../\";\n\nimport { CometChatContext } from \"../../../../util/CometChatContext\";\nimport { checkMessageForExtensionsData } from \"../../../../util/common\";\n\nimport { theme } from \"../../../../resources/theme\";\nimport Translator from \"../../../../resources/localization/translator\";\n\nimport {\n    messageContainerStyle,\n    messageWrapperStyle,\n    messageTxtWrapperStyle,\n    messageTxtContainerStyle,\n    messageTxtStyle,\n    messageBtnStyle,\n    messageInfoWrapperStyle,\n    messageReactionsWrapperStyle,\n    iconStyle,\n} from \"./style\";\n\nimport documentIcon from \"./resources/collaborative-document.svg\";\n\nclass CometChatSenderDocumentBubble extends React.Component {\n\tstatic contextType = CometChatContext;\n\n\tconstructor(props) {\n\t\tsuper(props);\n\n\t\tthis.state = {\n\t\t\tisHovering: false,\n\t\t};\n\t}\n\n\tshouldComponentUpdate(nextProps, nextState) {\n\n\t\tconst currentMessageStr = JSON.stringify(this.props.message);\n\t\tconst nextMessageStr = JSON.stringify(nextProps.message);\n\n\t\tif (currentMessageStr !== nextMessageStr \n        || this.state.isHovering !== nextState.isHovering) {\n            \n\t\t\treturn true;\n\t\t}\n\t\treturn false;\n\t}\n\n\tlaunchCollaborativeDocument = () => {\n\t\tlet documentUrl = null;\n\t\tlet documentData = checkMessageForExtensionsData(this.props.message, \"document\");\n\t\tif (documentData && documentData.hasOwnProperty(\"document_url\") && documentData.document_url.length) {\n\t\t\tdocumentUrl = documentData.document_url;\n\t\t\twindow.open(documentUrl, \"\", \"fullscreen=yes, scrollbars=auto\");\n\t\t}\n\t};\n\n\thandleMouseHover = () => {\n\t\tthis.setState(this.toggleHoverState);\n\t};\n\n\ttoggleHoverState = state => {\n\t\treturn {\n\t\t\tisHovering: !state.isHovering,\n\t\t};\n\t};\n\n\trender() {\n\t\tlet messageReactions = null;\n\t\tconst reactionsData = checkMessageForExtensionsData(this.props.message, \"reactions\");\n\t\tif (reactionsData) {\n\t\t\tif (Object.keys(reactionsData).length) {\n\t\t\t\tmessageReactions = (\n\t\t\t\t\t<div css={messageReactionsWrapperStyle()} className=\"message__reaction__wrapper\">\n\t\t\t\t\t\t<CometChatMessageReactions message={this.props.message} actionGenerated={this.props.actionGenerated} />\n\t\t\t\t\t</div>\n\t\t\t\t);\n\t\t\t}\n\t\t}\n\n\t\tlet toolTipView = null;\n\t\tif (this.state.isHovering) {\n\t\t\ttoolTipView = <CometChatMessageActions message={this.props.message} actionGenerated={this.props.actionGenerated} />;\n\t\t}\n\n\t\tconst documentTitle = Translator.translate(\"CREATED_DOCUMENT\", this.context.language);\n\t\treturn (\n\t\t\t<div css={messageContainerStyle()} className=\"sender__message__container message__document\" onMouseEnter={this.handleMouseHover} onMouseLeave={this.handleMouseHover}>\n\t\t\t\t{toolTipView}\n\n\t\t\t\t<div css={messageWrapperStyle()} className=\"message__wrapper\">\n\t\t\t\t\t<div css={messageTxtWrapperStyle(this.context)} className=\"message__document__wrapper\">\n\t\t\t\t\t\t<div css={messageTxtContainerStyle()} className=\"message__document__container\">\n\t\t\t\t\t\t\t<i css={iconStyle(documentIcon, this.context)} title={Translator.translate(\"COLLABORATIVE_DOCUMENT\", this.context.language)}></i>\n\t\t\t\t\t\t\t<p css={messageTxtStyle()} className=\"document__title\">\n\t\t\t\t\t\t\t\t{documentTitle}\n\t\t\t\t\t\t\t</p>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<ul css={messageBtnStyle(this.context)} className=\"document__button\">\n\t\t\t\t\t\t\t<li onClick={this.launchCollaborativeDocument}>\n\t\t\t\t\t\t\t\t<p>{Translator.translate(\"LAUNCH\", this.context.language)}</p>\n\t\t\t\t\t\t\t</li>\n\t\t\t\t\t\t</ul>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\n\t\t\t\t{messageReactions}\n\n\t\t\t\t<div css={messageInfoWrapperStyle()} className=\"message__info__wrapper\">\n\t\t\t\t\t<CometChatThreadedMessageReplyCount message={this.props.message} actionGenerated={this.props.actionGenerated} />\n\t\t\t\t\t<CometChatReadReceipt message={this.props.message} />\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t);\n\t}\n}\n\n// Specifies the default values for props:\nCometChatSenderDocumentBubble.defaultProps = {\n\ttheme: theme,\n\tactionGenerated: () => {},\n};\n\nCometChatSenderDocumentBubble.propTypes = {\n\ttheme: PropTypes.object,\n\tactionGenerated: PropTypes.func.isRequired,\n\tmessage: PropTypes.object.isRequired,\n};\n\nexport { CometChatSenderDocumentBubble };\n","export const messageContainerStyle = () => {\n\n    return {\n        alignSelf: \"flex-end\",\n        marginBottom: \"16px\",\n        paddingLeft: \"16px\",\n        paddingRight: \"16px\",\n        maxWidth: \"65%\",\n        clear: \"both\",\n        position: \"relative\",\n        display: \"flex\",\n        flexDirection: \"column\",\n        flexShrink: \"0\",\n    }\n}\n\nexport const messageWrapperStyle = () => {\n\n    return {\n        width: \"auto\",\n        flex: \"1 1\",\n        alignSelf: \"flex-end\",\n        display: \"flex\",\n    }\n}\n\nexport const messageTxtWrapperStyle = context => {\n\n\treturn {\n\t\tdisplay: \"inline-block\",\n\t\tborderRadius: \"12px\",\n\t\tbackgroundColor: `${context.theme.primaryColor}`,\n\t\tcolor: `${context.theme.color.white}`,\n\t\tpadding: \"8px 16px\",\n\t\talignSelf: \"flex-end\",\n\t\twidth: \"auto\",\n\t};\n};\n\nexport const pollQuestionStyle = () => {\n\n    return {\n        margin: \"0\",\n        whiteSpace: \"pre-wrap\",\n        wordWrap: \"break-word\",\n        textAlign: \"left\",\n        width: \"100%\",\n        fontSize: \"14px\",\n    }\n}\n\nexport const pollAnswerStyle = context => {\n\n\treturn {\n\t\tlistStyleType: \"none\",\n\t\tpadding: \"0\",\n\t\tmargin: \"0\",\n\t\twidth: \"100%\",\n\t\tli: {\n\t\t\tbackgroundColor: `${context.theme.backgroundColor.white}`,\n\t\t\tmargin: \"10px 0\",\n\t\t\tborderRadius: \"8px\",\n\t\t\tdisplay: \"flex\",\n\t\t\twidth: \"100%\",\n\t\t\tposition: \"relative\",\n\t\t},\n\t};\n};\n\nexport const pollTotalStyle = () => {\n\n    return {\n        fontSize: \"13px\",\n        margin: \"0\",\n        alignSelf: \"flex-end\"\n    }\n}\n\nexport const pollPercentStyle = (context, width) => {\n\n    const curvedBorders = (width === \"100%\") ? { borderRadius: \"8px\" } : {\n        borderRadius: \"8px 0 0 8px\"\n    };\n\n    return {\n        maxWidth: \"100%\",\n        width: width,\n        ...curvedBorders,\n        backgroundColor: `${context.theme.backgroundColor.primary}`,\n        minHeight: \"35px\",\n        height: \"100%\",\n        position: \"absolute\",\n        zIndex: \"1\",\n    }\n}\n\nexport const answerWrapperStyle = (context, width) => {\n\n    return {\n        width: \"100%\",\n        color: `${context.theme.color.primary}`,\n        display: \"flex\",\n        alignItems: \"center\",\n        minHeight: \"35px\",\n        padding: \"0 16px\",\n        height: \"100%\",\n        zIndex: \"2\",\n        \"p\": {\n            margin: \"0\",\n            width: \"calc(100% - 40px)\",\n            whiteSpace: \"pre-wrap\",\n            wordWrap: \"break-word\",\n            fontSize: \"14px\",\n        },\n        \"span\": {\n            maxWidth: \"40px\",\n            padding: \"0px 16px 0px 0px\",\n            fontWeight: \"bold\",\n            display: \"inline-block\",\n            fontSize: \"13px\",\n        }\n    }\n}\n\nexport const messageInfoWrapperStyle = () => {\n\n    return {\n        alignSelf: \"flex-end\",\n        display: \"flex\",\n        justifyContent: \"flex-end\",\n        alignItems: \"center\",\n        padding: \"4px 8px\",\n        height: \"25px\",\n    }\n}\n\nexport const messageReactionsWrapperStyle = () => {\n\n    return {\n        display: \"flex\",\n        alignSelf: \"flex-end\",\n        width: \"100%\",\n        flexWrap: \"wrap\",\n        justifyContent: \"flex-end\",\n        minHeight: \"36px\",\n    }\n}\n","import React from \"react\";\n/** @jsxRuntime classic */\n/** @jsx jsx */\nimport { jsx } from \"@emotion/core\";\nimport PropTypes from \"prop-types\";\n\nimport { CometChatMessageActions, CometChatThreadedMessageReplyCount, CometChatReadReceipt } from \"../../\";\nimport { CometChatMessageReactions } from \"../\";\n\nimport { CometChatContext } from \"../../../../util/CometChatContext\";\nimport { checkMessageForExtensionsData } from \"../../../../util/common\";\n\nimport { theme } from \"../../../../resources/theme\";\nimport Translator from \"../../../../resources/localization/translator\";\n\nimport {\n    messageContainerStyle,\n    messageWrapperStyle,\n    messageTxtWrapperStyle,\n    pollQuestionStyle,\n    pollAnswerStyle,\n    pollTotalStyle,\n    pollPercentStyle,\n    answerWrapperStyle,\n    messageInfoWrapperStyle,\n    messageReactionsWrapperStyle,\n} from \"./style\";\n\nclass CometChatSenderPollMessageBubble extends React.Component {\n\tpollId;\n\tstatic contextType = CometChatContext;\n\n\tconstructor(props) {\n\t\tsuper(props);\n\n\t\tthis.state = {\n\t\t\tisHovering: false,\n\t\t};\n\t}\n\n\tshouldComponentUpdate(nextProps, nextState) {\n\n\t\tconst currentMessageStr = JSON.stringify(this.props.message);\n\t\tconst nextMessageStr = JSON.stringify(nextProps.message);\n\n\t\tif (currentMessageStr !== nextMessageStr \n        || this.state.isHovering !== nextState.isHovering) {\n\t\t\treturn true;\n\t\t}\n\t\treturn false;\n\t}\n\n\thandleMouseHover = () => {\n\t\tthis.setState(this.toggleHoverState);\n\t};\n\n\ttoggleHoverState = state => {\n\t\treturn {\n\t\t\tisHovering: !state.isHovering,\n\t\t};\n\t};\n\n\trender() {\n\t\tconst pollExtensionData = checkMessageForExtensionsData(this.props.message, \"polls\");\n\t\tif (!pollExtensionData) {\n\t\t\treturn null;\n\t\t}\n\n\t\tconst pollOptions = [];\n\n\t\tthis.pollId = pollExtensionData.id;\n\t\tconst total = pollExtensionData.results.total;\n\t\tlet totalText = Translator.translate(\"NO_VOTE\", this.context.language);\n\n\t\tif (total === 1) {\n\t\t\ttotalText = `${total} ${Translator.translate(\"VOTE\", this.context.language)}`;\n\t\t} else if (total > 1) {\n\t\t\ttotalText = `${total} ${Translator.translate(\"VOTES\", this.context.language)}`;\n\t\t}\n\n\t\tfor (const option in pollExtensionData.results.options) {\n\t\t\tconst optionData = pollExtensionData.results.options[option];\n\t\t\tconst vote = optionData[\"count\"];\n\n\t\t\tlet width = \"0%\";\n\t\t\tif (total) {\n\t\t\t\tconst fraction = vote / total;\n\t\t\t\twidth = fraction.toLocaleString(\"en\", { style: \"percent\" });\n\t\t\t}\n\n\t\t\tconst template = (\n\t\t\t\t<li key={option}>\n\t\t\t\t\t<div css={pollPercentStyle(this.context, width)}> </div>\n\t\t\t\t\t<div css={answerWrapperStyle(this.context, width)}>\n\t\t\t\t\t\t<span>{width}</span>\n\t\t\t\t\t\t<p>{optionData.text}</p>\n\t\t\t\t\t</div>\n\t\t\t\t</li>\n\t\t\t);\n\t\t\tpollOptions.push(template);\n\t\t}\n\n\t\tlet messageReactions = null;\n\t\tconst reactionsData = checkMessageForExtensionsData(this.props.message, \"reactions\");\n\t\tif (reactionsData) {\n\t\t\tif (Object.keys(reactionsData).length) {\n\t\t\t\tmessageReactions = (\n\t\t\t\t\t<div css={messageReactionsWrapperStyle()} className=\"message__reaction__wrapper\">\n\t\t\t\t\t\t<CometChatMessageReactions message={this.props.message} actionGenerated={this.props.actionGenerated} />\n\t\t\t\t\t</div>\n\t\t\t\t);\n\t\t\t}\n\t\t}\n\n\t\tlet toolTipView = null;\n\t\tif (this.state.isHovering) {\n\t\t\ttoolTipView = <CometChatMessageActions message={this.props.message} actionGenerated={this.props.actionGenerated} />;\n\t\t}\n\n\t\treturn (\n\t\t\t<div css={messageContainerStyle()} className=\"sender__message__container message__poll\" onMouseEnter={this.handleMouseHover} onMouseLeave={this.handleMouseHover}>\n\t\t\t\t{toolTipView}\n\n\t\t\t\t<div css={messageWrapperStyle()} className=\"message__wrapper\">\n\t\t\t\t\t<div css={messageTxtWrapperStyle(this.context)} className=\"message__poll__wrapper\">\n\t\t\t\t\t\t<p css={pollQuestionStyle()} className=\"poll__question\">\n\t\t\t\t\t\t\t{pollExtensionData.question}\n\t\t\t\t\t\t</p>\n\t\t\t\t\t\t<ul css={pollAnswerStyle(this.context)} className=\"poll__options\">\n\t\t\t\t\t\t\t{pollOptions}\n\t\t\t\t\t\t</ul>\n\t\t\t\t\t\t<p css={pollTotalStyle()} className=\"poll__votes\">\n\t\t\t\t\t\t\t{totalText}\n\t\t\t\t\t\t</p>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\n\t\t\t\t{messageReactions}\n\n\t\t\t\t<div css={messageInfoWrapperStyle()} className=\"message__info__wrapper\">\n\t\t\t\t\t<CometChatThreadedMessageReplyCount message={this.props.message} actionGenerated={this.props.actionGenerated} />\n\t\t\t\t\t<CometChatReadReceipt message={this.props.message} />\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t);\n\t}\n}\n\n// Specifies the default values for props:\nCometChatSenderPollMessageBubble.defaultProps = {\n\ttheme: theme,\n\tactionGenerated: () => {},\n};\n\nCometChatSenderPollMessageBubble.propTypes = {\n\ttheme: PropTypes.object,\n\tactionGenerated: PropTypes.func.isRequired,\n\tmessage: PropTypes.object.isRequired,\n};\n\nexport { CometChatSenderPollMessageBubble };\n","export const messageContainerStyle = () => {\n\n    return {\n        alignSelf: \"flex-end\",\n        marginBottom: \"16px\",\n        paddingLeft: \"16px\",\n        paddingRight: \"16px\",\n        maxWidth: \"65%\",\n        clear: \"both\",\n        position: \"relative\",\n        display: \"flex\",\n        flexDirection: \"column\",\n        flexShrink: \"0\",\n    }\n}\n\nexport const messageWrapperStyle = () => {\n\n    return {\n        width: \"auto\",\n        flex: \"1 1\",\n        alignSelf: \"flex-end\",\n        display: \"flex\",\n    }\n}\n\nexport const messageImgWrapper = context => {\n\n\tconst mq = [...context.theme.breakPoints];\n\n\treturn {\n\t\tdisplay: \"inline-block\",\n\t\talignSelf: \"flex-end\",\n\t\tmaxWidth: \"128px\",\n\t\theight: \"128px\",\n\t\tcursor: \"pointer\",\n\t\tflexShrink: \"0\",\n\t\t[`@media ${mq[1]}, ${mq[2]}`]: {\n\t\t\tmaxWidth: \"128px\",\n\t\t\theight: \"128px\",\n\t\t\tpadding: \"2px 2px\",\n\t\t},\n\t};\n};\n\nexport const messageInfoWrapperStyle = () => {\n\n    return {\n        alignSelf: \"flex-end\",\n        display: \"flex\",\n        justifyContent: \"flex-end\",\n        alignItems: \"center\",\n        padding: \"4px 8px\",\n        height: \"25px\",\n    }\n}\n\nexport const messageReactionsWrapperStyle = () => {\n\n    return {\n        display: \"flex\",\n        alignSelf: \"flex-end\",\n        width: \"100%\",\n        flexWrap: \"wrap\",\n        justifyContent: \"flex-end\",\n        minHeight: \"36px\",\n    }\n}\n","import React from \"react\";\n/** @jsxRuntime classic */\n/** @jsx jsx */\nimport { jsx } from \"@emotion/core\";\nimport PropTypes from \"prop-types\";\n\nimport { CometChatMessageActions, CometChatThreadedMessageReplyCount, CometChatReadReceipt } from \"../../\";\nimport { CometChatMessageReactions } from \"../\";\n\nimport { CometChatContext } from \"../../../../util/CometChatContext\";\nimport { checkMessageForExtensionsData } from \"../../../../util/common\";\n\nimport { theme } from \"../../../../resources/theme\";\nimport Translator from \"../../../../resources/localization/translator\";\n\nimport {\n    messageContainerStyle,\n    messageWrapperStyle,\n    messageImgWrapper,\n    messageInfoWrapperStyle,\n    messageReactionsWrapperStyle,\n} from \"./style\";\n\nclass CometChatSenderStickerBubble extends React.Component {\n\tstatic contextType = CometChatContext;\n\n\tconstructor(props) {\n\t\tsuper(props);\n\n\t\tthis.state = {\n\t\t\tisHovering: false,\n\t\t};\n\t}\n\n\tshouldComponentUpdate(nextProps, nextState) {\n\n\t\tconst currentMessageStr = JSON.stringify(this.props.message);\n\t\tconst nextMessageStr = JSON.stringify(nextProps.message);\n\n\t\tif (currentMessageStr !== nextMessageStr \n\t\t|| this.state.isHovering !== nextState.isHovering) {\n\t\t\treturn true;\n\t\t}\n\t\treturn false;\n\t}\n\n\thandleMouseHover = () => {\n\t\tthis.setState(this.toggleHoverState);\n\t};\n\n\ttoggleHoverState = state => {\n\t\treturn {\n\t\t\tisHovering: !state.isHovering,\n\t\t};\n\t};\n\n\trender() {\n\t\tlet stickerData = null;\n\t\tlet stickerImg = null;\n\t\tif (this.props.message.hasOwnProperty(\"data\") && this.props.message.data.hasOwnProperty(\"customData\")) {\n\t\t\tstickerData = this.props.message.data.customData;\n\n\t\t\tif (stickerData.hasOwnProperty(\"sticker_url\")) {\n\t\t\t\tconst stickerName = stickerData.hasOwnProperty(\"sticker_name\") ? stickerData.sticker_name : Translator.translate(\"STICKER\", this.context.language);\n\t\t\t\tstickerImg = <img src={stickerData.sticker_url} alt={stickerName} />;\n\t\t\t}\n\t\t}\n\n\t\tlet messageReactions = null;\n\t\tconst reactionsData = checkMessageForExtensionsData(this.props.message, \"reactions\");\n\t\tif (reactionsData) {\n\t\t\tif (Object.keys(reactionsData).length) {\n\t\t\t\tmessageReactions = (\n\t\t\t\t\t<div css={messageReactionsWrapperStyle()} className=\"message__reaction__wrapper\">\n\t\t\t\t\t\t<CometChatMessageReactions message={this.props.message} actionGenerated={this.props.actionGenerated} />\n\t\t\t\t\t</div>\n\t\t\t\t);\n\t\t\t}\n\t\t}\n\n\t\tlet toolTipView = null;\n\t\tif (this.state.isHovering) {\n\t\t\ttoolTipView = <CometChatMessageActions message={this.props.message} actionGenerated={this.props.actionGenerated} />;\n\t\t}\n\n\t\treturn (\n\t\t\t<div css={messageContainerStyle()} className=\"sender__message__container message__sticker\" onMouseEnter={this.handleMouseHover} onMouseLeave={this.handleMouseHover}>\n\t\t\t\t{toolTipView}\n\n\t\t\t\t<div css={messageWrapperStyle()} className=\"message__wrapper\">\n\t\t\t\t\t<div css={messageImgWrapper(this.context)} className=\"message__img__wrapper\">\n\t\t\t\t\t\t{stickerImg}{\" \"}\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\n\t\t\t\t{messageReactions}\n\n\t\t\t\t<div css={messageInfoWrapperStyle()} className=\"message__info__wrapper\">\n\t\t\t\t\t<CometChatThreadedMessageReplyCount message={this.props.message} actionGenerated={this.props.actionGenerated} />\n\t\t\t\t\t<CometChatReadReceipt message={this.props.message} />\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t);\n\t}\n}\n\n// Specifies the default values for props:\nCometChatSenderStickerBubble.defaultProps = {\n\ttheme: theme,\n\tactionGenerated: () => {},\n};\n\nCometChatSenderStickerBubble.propTypes = {\n\ttheme: PropTypes.object,\n\tactionGenerated: PropTypes.func.isRequired,\n\tmessage: PropTypes.object.isRequired,\n};\n\nexport { CometChatSenderStickerBubble };","export const messageContainerStyle = () => {\n\n    return {\n        alignSelf: \"flex-end\",\n        marginBottom: \"16px\",\n        paddingLeft: \"16px\",\n        paddingRight: \"16px\",\n        maxWidth: \"305px\",\n        clear: \"both\",\n        position: \"relative\",\n        display: \"flex\",\n        flexDirection: \"column\",\n        flexShrink: \"0\",\n    }\n}\n\nexport const messageWrapperStyle = () => {\n\n    return {\n        width: \"auto\",\n        flex: \"1 1\",\n        alignSelf: \"flex-end\",\n        display: \"flex\",\n    }\n}\n\nexport const messageTxtWrapperStyle = context => {\n\n\treturn {\n\t\tdisplay: \"inline-block\",\n\t\tborderRadius: \"12px\",\n\t\tbackgroundColor: `${context.theme.primaryColor}`,\n\t\tcolor: `${context.theme.color.white}`,\n\t\tpadding: \"16px\",\n\t\talignSelf: \"flex-end\",\n\t\twidth: \"auto\",\n\t};\n};\n\nexport const messageTxtContainerStyle = () => {\n\n    return {\n        display: \"flex\",\n        justifyContent: \"center\",\n        alignItems: \"center\",\n        \"> img\": {\n            backgroundColor: \"white\"\n        }\n    }\n}\n\nexport const messageTxtStyle = () => {\n\n    return {\n        margin: \"0\",\n        whiteSpace: \"pre-wrap\",\n        wordBreak: \"break-word\",\n        textAlign: \"left\",\n        width: \"calc(100% - 24px)\",\n        fontSize: \"14px\",\n        paddingLeft: \"8px\"\n    }\n}\n\nexport const messageTxtIconStyle = (img, context) => {\n\n    return {\n        mask: `url(${img}) no-repeat left center`,\n        backgroundColor: `${context.theme.color.white}`,\n        width: \"24px\",\n        height: \"24px\"\n    }\n}\n\nexport const messageBtnStyle = context => {\n\n\treturn {\n\t\tlistStyleType: \"none\",\n\t\tpadding: \"0\",\n\t\tmargin: \"0\",\n\t\twidth: \"100%\",\n\t\tli: {\n\t\t\tbackgroundColor: `${context.theme.backgroundColor.white}`,\n\t\t\tborderRadius: \"8px\",\n\t\t\tdisplay: \"flex\",\n\t\t\tjustifyContent: \"center\",\n\t\t\talignItems: \"center\",\n\t\t\twidth: \"100%\",\n\t\t\tposition: \"relative\",\n\t\t\tmargin: \"16px 0 0 0\",\n\t\t\tpadding: \"8px\",\n\t\t\tcursor: \"pointer\",\n\t\t\t\"> p\": {\n\t\t\t\tbackground: \"0 0\",\n\t\t\t\ttextAlign: \"center\",\n\t\t\t\tcolor: `${context.theme.primaryColor}`,\n\t\t\t\twidth: \"100%\",\n                fontWeight: \"600\",\n\t\t\t\tdisplay: \"inline-block\",\n\t\t\t\tfontSize: \"14px\",\n\t\t\t\tmargin: \"0\",\n\t\t\t},\n\t\t},\n\t};\n};\n\nexport const messageInfoWrapperStyle = () => {\n\n    return {\n        alignSelf: \"flex-end\",\n        display: \"flex\",\n        justifyContent: \"flex-end\",\n        alignItems: \"center\",\n        padding: \"4px 8px\",\n        height: \"25px\",\n    }\n}\n\nexport const messageReactionsWrapperStyle = () => {\n\n    return {\n        display: \"flex\",\n        alignSelf: \"flex-end\",\n        width: \"100%\",\n        flexWrap: \"wrap\",\n        justifyContent: \"flex-end\",\n        minHeight: \"36px\",\n    }\n}\n","export default __webpack_public_path__ + \"static/media/collaborative-whiteboard.78916c4e.svg\";","import React from \"react\";\n/** @jsxRuntime classic */\n/** @jsx jsx */\nimport { jsx } from \"@emotion/core\";\nimport PropTypes from \"prop-types\";\n\nimport { CometChatMessageActions, CometChatThreadedMessageReplyCount, CometChatReadReceipt } from \"../../\";\nimport { CometChatMessageReactions } from \"../\";\n\nimport { CometChatContext } from \"../../../../util/CometChatContext\";\nimport { checkMessageForExtensionsData } from \"../../../../util/common\";\n\nimport { theme } from \"../../../../resources/theme\";\nimport Translator from \"../../../../resources/localization/translator\";\n\nimport {\n    messageContainerStyle,\n    messageWrapperStyle,\n    messageTxtWrapperStyle,\n    messageTxtContainerStyle,\n    messageTxtStyle,\n    messageTxtIconStyle,\n    messageBtnStyle,\n    messageInfoWrapperStyle,\n    messageReactionsWrapperStyle,\n} from \"./style\";\n\nimport whiteboardIcon from \"./resources/collaborative-whiteboard.svg\";\n\nclass CometChatSenderWhiteboardBubble extends React.Component {\n\tstatic contextType = CometChatContext;\n\tloggedInUser;\n\n\tconstructor(props, context) {\n\t\tsuper(props, context);\n\n\t\tthis.state = {\n\t\t\tisHovering: false,\n\t\t};\n\n\t\tthis.context.getLoggedinUser().then(user => {\n\t\t\tthis.loggedInUser = { ...user };\n\t\t});\n\t}\n\n\tshouldComponentUpdate(nextProps, nextState) {\n\t\tconst currentMessageStr = JSON.stringify(this.props.message);\n\t\tconst nextMessageStr = JSON.stringify(nextProps.message);\n\n\t\tif (currentMessageStr !== nextMessageStr || this.state.isHovering !== nextState.isHovering) {\n\t\t\treturn true;\n\t\t}\n\t\treturn false;\n\t}\n\n\tlaunchCollaborativeWhiteboard = () => {\n\t\tlet whiteboardUrl = null;\n\t\tlet whiteboardData = checkMessageForExtensionsData(this.props.message, \"whiteboard\");\n\t\tif (whiteboardData && whiteboardData.hasOwnProperty(\"board_url\") && whiteboardData.board_url.length) {\n\t\t\tlet username = this.loggedInUser?.name.split(\" \").join(\"_\");\n\t\t\t// Appending the username to the board_url\n\t\t\twhiteboardUrl = whiteboardData.board_url + \"&username=\" + username;\n\t\t\twindow.open(whiteboardUrl, \"\", \"fullscreen=yes, scrollbars=auto\");\n\t\t}\n\t};\n\n\thandleMouseHover = () => {\n\t\tthis.setState(this.toggleHoverState);\n\t};\n\n\ttoggleHoverState = state => {\n\t\treturn {\n\t\t\tisHovering: !state.isHovering,\n\t\t};\n\t};\n\n\trender() {\n\t\tlet messageReactions = null;\n\t\tconst reactionsData = checkMessageForExtensionsData(this.props.message, \"reactions\");\n\t\tif (reactionsData) {\n\t\t\tif (Object.keys(reactionsData).length) {\n\t\t\t\tmessageReactions = (\n\t\t\t\t\t<div css={messageReactionsWrapperStyle()} className=\"message__reaction__wrapper\">\n\t\t\t\t\t\t<CometChatMessageReactions message={this.props.message} actionGenerated={this.props.actionGenerated} />\n\t\t\t\t\t</div>\n\t\t\t\t);\n\t\t\t}\n\t\t}\n\n\t\tlet toolTipView = null;\n\t\tif (this.state.isHovering) {\n\t\t\ttoolTipView = <CometChatMessageActions message={this.props.message} actionGenerated={this.props.actionGenerated} />;\n\t\t}\n\n\t\tconst documentTitle = Translator.translate(\"CREATED_WHITEBOARD\", this.context.language);\n\t\treturn (\n\t\t\t<div css={messageContainerStyle()} className=\"sender__message__container message__whiteboard\" onMouseEnter={this.handleMouseHover} onMouseLeave={this.handleMouseHover}>\n\t\t\t\t{toolTipView}\n\n\t\t\t\t<div css={messageWrapperStyle()} className=\"message__wrapper\">\n\t\t\t\t\t<div css={messageTxtWrapperStyle(this.context)} className=\"message__whiteboard__wrapper\">\n\t\t\t\t\t\t<div css={messageTxtContainerStyle()} className=\"message__whiteboard__container\">\n\t\t\t\t\t\t\t<i css={messageTxtIconStyle(whiteboardIcon, this.context)}></i>\n\t\t\t\t\t\t\t<p css={messageTxtStyle()} className=\"document__title\">\n\t\t\t\t\t\t\t\t{documentTitle}\n\t\t\t\t\t\t\t</p>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<ul css={messageBtnStyle(this.context)} className=\"document__button\">\n\t\t\t\t\t\t\t<li onClick={this.launchCollaborativeWhiteboard}>\n\t\t\t\t\t\t\t\t<p>{Translator.translate(\"LAUNCH\", this.context.language)}</p>\n\t\t\t\t\t\t\t</li>\n\t\t\t\t\t\t</ul>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\n\t\t\t\t{messageReactions}\n\n\t\t\t\t<div css={messageInfoWrapperStyle()} className=\"message__info__wrapper\">\n\t\t\t\t\t<CometChatThreadedMessageReplyCount message={this.props.message} actionGenerated={this.props.actionGenerated} />\n\t\t\t\t\t<CometChatReadReceipt message={this.props.message} />\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t);\n\t}\n}\n\n// Specifies the default values for props:\nCometChatSenderWhiteboardBubble.defaultProps = {\n\ttheme: theme,\n\tactionGenerated: () => {},\n};\n\nCometChatSenderWhiteboardBubble.propTypes = {\n\ttheme: PropTypes.object,\n\tactionGenerated: PropTypes.func.isRequired,\n\tmessage: PropTypes.object.isRequired,\n};\n\nexport { CometChatSenderWhiteboardBubble };","export const actionMessageStyle = () => {\n\n    return {\n        padding: \"8px 16px\",\n        marginBottom: \"16px\",\n        textAlign: \"center\",\n        height: \"36px\"\n    }\n}\n\nexport const actionMessageTxtStyle = () => {\n\n    return {\n        fontSize: \"13.5px\",\n        margin: \"0\",\n        lineHeight: \"20px\",\n    }\n}\n","import React from \"react\";\n/** @jsxRuntime classic */\n/** @jsx jsx */\nimport { jsx } from \"@emotion/core\";\nimport PropTypes from \"prop-types\";\nimport { CometChat } from \"@cometchat-pro/chat\";\n\nimport { CometChatContext } from \"../../../util/CometChatContext\";\n\nimport { theme } from \"../../../resources/theme\";\nimport Translator from \"../../../resources/localization/translator\";\n\nimport { actionMessageStyle, actionMessageTxtStyle } from \"./style\"\n\nclass CometChatActionMessageBubble extends React.Component {\n\tstatic contextType = CometChatContext;\n\tloggedInUser;\n\n\tconstructor(props, context) {\n\t\tsuper(props, context);\n\n\t\tthis.context.getLoggedinUser().then(user => {\n\t\t\tthis.loggedInUser = { ...user };\n\t\t});\n\t}\n\n\tgetCallActionMessage = message => {\n\t\tconst call = message;\n\t\tlet actionMessage = null;\n\n\t\tswitch (call.status) {\n\t\t\tcase CometChat.CALL_STATUS.INITIATED: {\n\t\t\t\tactionMessage = Translator.translate(\"CALL_INITIATED\", this.context.language);\n\t\t\t\tif (call.type === CometChat.CALL_TYPE.AUDIO) {\n\t\t\t\t\tif (call.receiverType === CometChat.RECEIVER_TYPE.USER) {\n\t\t\t\t\t\tactionMessage = call.callInitiator.uid === this.loggedInUser?.uid ? Translator.translate(\"OUTGOING_AUDIO_CALL\", this.context.language) : Translator.translate(\"INCOMING_AUDIO_CALL\", this.context.language);\n\t\t\t\t\t} else if (call.receiverType === CometChat.RECEIVER_TYPE.GROUP) {\n\t\t\t\t\t\tif (call.action === CometChat.CALL_STATUS.INITIATED) {\n\t\t\t\t\t\t\tactionMessage = call.callInitiator.uid === this.loggedInUser?.uid ? Translator.translate(\"OUTGOING_AUDIO_CALL\", this.context.language) : Translator.translate(\"INCOMING_AUDIO_CALL\", this.context.language);\n\t\t\t\t\t\t} else if (call.action === CometChat.CALL_STATUS.REJECTED) {\n\t\t\t\t\t\t\tactionMessage = call.sender.uid === this.loggedInUser?.uid ? Translator.translate(\"CALL_REJECTED\", this.context.language) : `${call.sender.name} ${Translator.translate(\"REJECTED_CALL\", this.context.language)}`;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t} else if (call.type === CometChat.CALL_TYPE.VIDEO) {\n\t\t\t\t\tif (call.receiverType === CometChat.RECEIVER_TYPE.USER) {\n\t\t\t\t\t\tactionMessage = call.callInitiator.uid === this.loggedInUser?.uid ? Translator.translate(\"OUTGOING_VIDEO_CALL\", this.context.language) : Translator.translate(\"INCOMING_VIDEO_CALL\", this.context.language);\n\t\t\t\t\t} else if (call.receiverType === CometChat.RECEIVER_TYPE.GROUP) {\n\t\t\t\t\t\tif (call.action === CometChat.CALL_STATUS.INITIATED) {\n\t\t\t\t\t\t\tactionMessage = call.callInitiator.uid === this.loggedInUser?.uid ? Translator.translate(\"OUTGOING_VIDEO_CALL\", this.context.language) : Translator.translate(\"INCOMING_VIDEO_CALL\", this.context.language);\n\t\t\t\t\t\t} else if (call.action === CometChat.CALL_STATUS.REJECTED) {\n\t\t\t\t\t\t\tactionMessage = call.sender.uid === this.loggedInUser?.uid ? Translator.translate(\"CALL_REJECTED\", this.context.language) : `${call.sender.name} ${Translator.translate(\"REJECTED_CALL\", this.context.language)}`;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tbreak;\n\t\t\t}\n\t\t\tcase CometChat.CALL_STATUS.ONGOING: {\n\t\t\t\tif (call.receiverType === CometChat.RECEIVER_TYPE.USER) {\n\t\t\t\t\tactionMessage = Translator.translate(\"CALL_ACCEPTED\", this.context.language);\n\t\t\t\t} else if (call.receiverType === CometChat.RECEIVER_TYPE.GROUP) {\n\t\t\t\t\tif (call.action === CometChat.CALL_STATUS.ONGOING) {\n\t\t\t\t\t\tactionMessage = call.sender.uid === this.loggedInUser?.uid ? Translator.translate(\"CALL_ACCEPTED\", this.context.language) : `${call.sender.name} ${Translator.translate(\"JOINED\", this.context.language)}`;\n\t\t\t\t\t} else if (call.action === CometChat.CALL_STATUS.REJECTED) {\n\t\t\t\t\t\tactionMessage = call.sender.uid === this.loggedInUser?.uid ? Translator.translate(\"CALL_REJECTED\", this.context.language) : `${call.sender.name} ${Translator.translate(\"REJECTED_CALL\", this.context.language)}`;\n\t\t\t\t\t} else if (call.action === \"left\") {\n\t\t\t\t\t\tif (call.sender.uid === this.loggedInUser?.uid) {\n\t\t\t\t\t\t\tactionMessage = `${Translator.translate(\"YOU\", this.context.language)} ${Translator.translate(\"LEFT_THE_CALL\", this.context.language)}`;\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tactionMessage = `${call.sender.name} ${Translator.translate(\"LEFT_THE_CALL\", this.context.language)}`;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tbreak;\n\t\t\t}\n\t\t\tcase CometChat.CALL_STATUS.UNANSWERED: {\n\t\t\t\tactionMessage = Translator.translate(\"CALL_UNANSWERED\", this.context.language);\n\n\t\t\t\tif (call.type === CometChat.CALL_TYPE.AUDIO && (call.receiverType === CometChat.RECEIVER_TYPE.USER || call.receiverType === CometChat.RECEIVER_TYPE.GROUP)) {\n\t\t\t\t\tactionMessage = call.callInitiator.uid === this.loggedInUser?.uid ? Translator.translate(\"UNANSWERED_AUDIO_CALL\", this.context.language) : Translator.translate(\"MISSED_AUDIO_CALL\", this.context.language);\n\t\t\t\t} else if (call.type === CometChat.CALL_TYPE.VIDEO && (call.receiverType === CometChat.RECEIVER_TYPE.USER || call.receiverType === CometChat.RECEIVER_TYPE.GROUP)) {\n\t\t\t\t\tactionMessage = call.callInitiator.uid === this.loggedInUser?.uid ? Translator.translate(\"UNANSWERED_VIDEO_CALL\", this.context.language) : Translator.translate(\"MISSED_VIDEO_CALL\", this.context.language);\n\t\t\t\t}\n\t\t\t\tbreak;\n\t\t\t}\n\t\t\tcase CometChat.CALL_STATUS.REJECTED:\n\t\t\t\tactionMessage = Translator.translate(\"CALL_REJECTED\", this.context.language);\n\t\t\t\tbreak;\n\t\t\tcase CometChat.CALL_STATUS.ENDED:\n\t\t\t\tactionMessage = Translator.translate(\"CALL_ENDED\", this.context.language);\n\t\t\t\tbreak;\n\t\t\tcase CometChat.CALL_STATUS.CANCELLED:\n\t\t\t\tactionMessage = Translator.translate(\"CALL_CANCELLED\", this.context.language);\n\t\t\t\tbreak;\n\t\t\tcase CometChat.CALL_STATUS.BUSY:\n\t\t\t\tactionMessage = Translator.translate(\"CALL_BUSY\", this.context.language);\n\t\t\t\tbreak;\n\t\t\tdefault:\n\t\t\t\tbreak;\n\t\t}\n\n\t\treturn actionMessage;\n\t};\n\n\tgetActionMessage = message => {\n\t\tlet actionMessage = null;\n\n\t\tconst byUser = message?.actionBy?.name;\n\t\tconst onUser = message?.actionOn?.name;\n\n\t\tswitch (message.action) {\n\t\t\tcase CometChat.ACTION_TYPE.MEMBER_JOINED:\n\t\t\t\tactionMessage = `${byUser} ${Translator.translate(\"JOINED\", this.context.language)}`;\n\t\t\t\tbreak;\n\t\t\tcase CometChat.ACTION_TYPE.MEMBER_LEFT:\n\t\t\t\tactionMessage = `${byUser} ${Translator.translate(\"LEFT\", this.context.language)}`;\n\t\t\t\tbreak;\n\t\t\tcase CometChat.ACTION_TYPE.MEMBER_ADDED:\n\t\t\t\tactionMessage = `${byUser} ${Translator.translate(\"ADDED\", this.context.language)} ${onUser}`;\n\t\t\t\tbreak;\n\t\t\tcase CometChat.ACTION_TYPE.MEMBER_KICKED:\n\t\t\t\tactionMessage = `${byUser} ${Translator.translate(\"KICKED\", this.context.language)} ${onUser}`;\n\t\t\t\tbreak;\n\t\t\tcase CometChat.ACTION_TYPE.MEMBER_BANNED:\n\t\t\t\tactionMessage = `${byUser} ${Translator.translate(\"BANNED\", this.context.language)} ${onUser}`;\n\t\t\t\tbreak;\n\t\t\tcase CometChat.ACTION_TYPE.MEMBER_UNBANNED:\n\t\t\t\tactionMessage = `${byUser} ${Translator.translate(\"UNBANNED\", this.context.language)} ${onUser}`;\n\t\t\t\tbreak;\n\t\t\tcase CometChat.ACTION_TYPE.MEMBER_SCOPE_CHANGED: {\n\t\t\t\tconst newScope = message?.newScope;\n\t\t\t\tactionMessage = `${byUser} ${Translator.translate(\"MADE\", this.context.language)} ${onUser} ${Translator.translate(newScope, this.context.language)}`;\n\t\t\t\tbreak;\n\t\t\t}\n\t\t\tdefault:\n\t\t\t\tbreak;\n\t\t}\n\n\t\treturn actionMessage;\n\t};\n\n\tgetMessage = message => {\n\t\tlet actionMessage = null;\n\n\t\tif (message.category === CometChat.CATEGORY_CALL) {\n\t\t\tactionMessage = this.getCallActionMessage(message);\n\t\t} else if (message.category === CometChat.CATEGORY_ACTION) {\n\t\t\tactionMessage = this.getActionMessage(message);\n\t\t}\n\n\t\treturn actionMessage;\n\t};\n\n\trender() {\n\n\t\treturn (\n\t\t\t<div css={actionMessageStyle()} className=\"action__message\">\n\t\t\t\t<p css={actionMessageTxtStyle()}>{this.getMessage(this.props.message)}</p>\n\t\t\t</div>\n\t\t);\n\t}\n}\n\n// Specifies the default values for props:\nCometChatActionMessageBubble.defaultProps = {\n    theme: theme,\n};\n\nCometChatActionMessageBubble.propTypes = {\n\ttheme: PropTypes.object,\n\tmessage: PropTypes.object.isRequired,\n};\n\nexport { CometChatActionMessageBubble };","import { CometChat } from \"@cometchat-pro/chat\";\n\nexport const messageContainerStyle = (props, loggedInUser) => {\n\n    const alignment = (props.message?.sender?.uid === loggedInUser?.uid) ? {\n        alignSelf: \"flex-end\"\n    } : {\n        alignSelf: \"flex-start\"\n    };\n\n    return {\n        marginBottom: \"16px\",\n        paddingLeft: \"16px\",\n        paddingRight: \"16px\",\n        maxWidth: \"65%\",\n        clear: \"both\",\n        flexShrink: \"0\",\n        ...alignment\n    }\n}\n\nexport const messageWrapperStyle = (props, loggedInUser) => {\n\n    const alignment = (props.message?.sender?.uid === loggedInUser?.uid) ? {\n        display: \"flex\",\n        flexDirection : \"column\",\n    } : {};\n\n    return {\n        flex: \"1 1\",\n        position: \"relative\",\n        width: \"100%\",\n        ...alignment\n    }\n}\n\nexport const messageTxtWrapperStyle = (props, context, loggedInUser) => {\n\n\n    const alignment = (props.message?.sender?.uid === loggedInUser?.uid) ? {\n        alignSelf: \"flex-end\",\n    } : {\n        alignSelf: \"flex-start\",\n    };\n\n    return {\n        display: \"inline-block\",\n        borderRadius: \"12px\",\n        padding: \"8px 12px\",\n        alignSelf: \"flex-end\",\n        Width: \"100%\",\n        backgroundColor: `${context.theme.backgroundColor.secondary}`,\n        fontStyle: \"italic\",\n        ...alignment\n    }\n}\n\nexport const messageTxtStyle = context => {\n\n\treturn {\n\t\tfontSize: \"14px!important\",\n\t\tmargin: \"0\",\n\t\tlineHeight: \"20px!important\",\n\t\tcolor: `${context.theme.color.helpText}`,\n\t};\n};\n\nexport const messageInfoWrapperStyle = (props, loggedInUser) => {\n\n    const alignment = (props.message?.sender?.uid === loggedInUser?.uid) ? {\n        alignSelf : \"flex-end\",\n    } : {\n        alignSelf: \"flex-start\",\n    };\n\n    return {\n        ...alignment,\n    }\n}\n\nexport const messageTimeStampStyle = context => {\n\n\treturn {\n\t\tdisplay: \"inline-block\",\n\t\tfontSize: \"11px\",\n\t\tfontWeight: 500,\n\t\tlineHeight: \"12px\",\n\t\ttextTransform: \"uppercase\",\n\t\tcolor: `${context.theme.color.helpText}`,\n\t};\n};\n\nexport const messageThumbnailStyle = () => {\n\n    return {\n        width: \"36px\",\n        height: \"36px\",\n        margin: \"12px 0\",\n        float: \"left\",\n    }\n}\n\nexport const messageDetailStyle = (props, loggedInUser) => {\n\n\tlet paddingSpace = {};\n\tif (props.message?.sender?.uid !== loggedInUser?.uid && props.message.receiverType === CometChat.RECEIVER_TYPE.GROUP) {\n\t\tpaddingSpace = {\n\t\t\tpaddingLeft: \"5px\",\n\t\t};\n\t}\n\n\treturn {\n\t\tflex: \"1 1\",\n\t\tdisplay: \"flex\",\n\t\tflexDirection: \"column\",\n\t\tposition: \"relative\",\n\t\t...paddingSpace,\n\t};\n};\n\nexport const nameWrapperStyle = (props, loggedInUser) => {\n\n\tlet paddingSpace = {};\n\tif (props.message?.sender?.uid !== loggedInUser?.uid && props.message.receiverType === CometChat.RECEIVER_TYPE.GROUP) {\n\t\tpaddingSpace = {\n\t\t\tpadding: \"3px 5px\",\n\t\t};\n\t}\n\n\treturn {\n\t\talignSelf: \"flex-start\",\n\t\t...paddingSpace,\n\t};\n};\n\nexport const nameStyle = context => {\n\treturn {\n\t\tfontSize: \"10px\",\n\t\tcolor: `${context.theme.color.helpText}`,\n\t};\n};","import React, { useContext, useState, useEffect } from \"react\";\nimport dateFormat from \"dateformat\";\n/** @jsxRuntime classic */\n/** @jsx jsx */\nimport { jsx } from \"@emotion/core\";\nimport PropTypes from \"prop-types\";\nimport { CometChat } from \"@cometchat-pro/chat\";\n\nimport { CometChatAvatar } from \"../../Shared\";\n\nimport { CometChatContext } from \"../../../util/CometChatContext\";\n\nimport { theme } from \"../../../resources/theme\";\nimport Translator from \"../../../resources/localization/translator\";\n\nimport {\n    messageContainerStyle,\n    messageWrapperStyle,\n    messageTxtWrapperStyle,\n    messageTxtStyle,\n    messageInfoWrapperStyle,\n    messageTimeStampStyle,\n    messageThumbnailStyle,\n    messageDetailStyle,\n    nameWrapperStyle,\n    nameStyle\n} from \"./style\";\n\nconst CometChatDeleteMessageBubble = (props) => {\n\n    const context = useContext(CometChatContext);\n\n\tconst [loggedInUser, setLoggedInUser] = useState(null);\n\n\tuseEffect(() => {\n\t\tcontext.getLoggedinUser().then(user => {\n\t\t\tsetLoggedInUser({ ...user });\n\t\t});\n\t}, [context]);\n\n    let message = null;\n    const messageDate = (props.message.sentAt * 1000);\n    if (props.message?.sender?.uid === loggedInUser?.uid) {\n\n\t\t\tmessage = (\n\t\t\t\t<React.Fragment>\n\t\t\t\t\t<div css={messageTxtWrapperStyle(props, context, loggedInUser)} className=\"message__txt__wrapper\">\n\t\t\t\t\t\t<p css={messageTxtStyle(context)} className=\"message__txt\">\n\t\t\t\t\t\t\t{Translator.translate(\"YOU_DELETED_THIS_MESSAGE\", context.language)}\n\t\t\t\t\t\t</p>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div css={messageInfoWrapperStyle(props, loggedInUser)} className=\"message__info__wrapper\">\n\t\t\t\t\t\t<span css={messageTimeStampStyle(context)} className=\"message__timestamp\">\n\t\t\t\t\t\t\t{dateFormat(messageDate, \"shortTime\")}\n\t\t\t\t\t\t</span>\n\t\t\t\t\t</div>\n\t\t\t\t</React.Fragment>\n\t\t\t);\n\n\t\t} else {\n\n\t\t\tlet avatar = null,\n\t\t\t\tname = null;\n\t\t\tif (props.message.receiverType === CometChat.RECEIVER_TYPE.GROUP) {\n\t\t\t\tavatar = (\n\t\t\t\t\t<div css={messageThumbnailStyle()} className=\"message__thumbnail\">\n\t\t\t\t\t\t<CometChatAvatar user={props.message.sender} />\n\t\t\t\t\t</div>\n\t\t\t\t);\n\t\t\t\tname = (\n\t\t\t\t\t<div css={nameWrapperStyle(props, loggedInUser)} className=\"message__name__wrapper\">\n\t\t\t\t\t\t<span css={nameStyle(context)} className=\"message__name\">\n\t\t\t\t\t\t\t{props.message.sender.name}\n\t\t\t\t\t\t</span>\n\t\t\t\t\t</div>\n\t\t\t\t);\n\t\t\t}\n\n\t\t\tmessage = (\n\t\t\t\t<React.Fragment>\n\t\t\t\t\t{avatar}\n\t\t\t\t\t<div css={messageDetailStyle(props, loggedInUser)} className=\"message__details\">\n\t\t\t\t\t\t{name}\n\t\t\t\t\t\t<div css={messageTxtWrapperStyle(props, context, loggedInUser)} className=\"message__txt__wrapper\">\n\t\t\t\t\t\t\t<p css={messageTxtStyle(context)} className=\"message__txt\">\n\t\t\t\t\t\t\t\t{Translator.translate(\"THIS_MESSAGE_DELETED\", context.language)}\n\t\t\t\t\t\t\t</p>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div css={messageInfoWrapperStyle(props, loggedInUser)} className=\"message__info__wrapper\">\n\t\t\t\t\t\t\t<span css={messageTimeStampStyle(context)} className=\"message__timestamp\">\n\t\t\t\t\t\t\t\t{dateFormat(messageDate, \"shortTime\")}\n\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t</React.Fragment>\n\t\t\t);\n\t\t}\n\n    return (\n        <div css={messageContainerStyle(props, loggedInUser)} className=\"message__deleted\">\n            <div css={messageWrapperStyle(props, loggedInUser)} className=\"message__wrapper\">{message}</div>                            \n        </div>\n    )\n}\n\n// Specifies the default values for props:\nCometChatDeleteMessageBubble.defaultProps = {\n    theme: theme\n};\n\nCometChatDeleteMessageBubble.propTypes = {\n\ttheme: PropTypes.object,\n\tmessage: PropTypes.object.isRequired,\n};\n\nexport { CometChatDeleteMessageBubble };","export const pickerStyle = () => {\n\n    return {\n        display: \"flex\",\n        alignItems: \"center\",\n        justifyContent: \"center\",\n        \".emoji-mart\": {\n            borderRadius: \"5px 5px 0 0\",\n            borderBottom: \"0px\",\n            \".emoji-mart-category-list\": {\n                \" > li\": {\n                    width: \"50px\",\n                    height: \"30px\",\n                    margin: \"8px\",\n                    \".emoji-mart-emoji\": {\n                        width: \"50px\",\n                        height: \"30px\",\n                        padding: \"0px\",\n                        \" > span\": {\n                            width: \"50px!important\",\n                            height: \"30px!important\",\n                            cursor: \"pointer\",\n                        }\n                    }\n                }\n            },\n        },\n        \".emoji-mart-scroll\": {\n            height: \"200px\"\n        },\n        \".emoji-mart-preview, .emoji-mart-search\": {\n            display: \"none\"\n        },\n        \".emoji-mart-category\": {\n            \".emoji-mart-emoji:hover:before\": {\n                background: \"none\",\n                borderRadius: \"0px\",\n            }\n        }\n    }\n}","import React from \"react\";\n/** @jsxRuntime classic */\n/** @jsx jsx */\nimport { jsx } from \"@emotion/core\";\nimport PropTypes from \"prop-types\";\nimport { Picker } from \"emoji-mart\";\n\nimport Translator from \"../../../resources/localization/translator\";\n\nimport { pickerStyle } from \"./style\";\n\nclass CometChatEmojiKeyboard extends React.Component {\n  categories = {};\n  title = \"\";\n\n  constructor(props) {\n    super(props);\n\n    const categories = {\n      // people: Translator.translate(\"SMILEY_PEOPLE\", props.lang),\n      // nature: Translator.translate(\"ANIMALES_NATURE\", props.lang),\n      // foods: Translator.translate(\"FOOD_DRINK\", props.lang),\n      // activity: Translator.translate(\"ACTIVITY\", props.lang),\n      // places: Translator.translate(\"TRAVEL_PLACES\", props.lang),\n      // objects: Translator.translate(\"OBJECTS\", props.lang),\n      // symbols: Translator.translate(\"SYMBOLS\", props.lang),\n      // flags: Translator.translate(\"FLAGS\", props.lang)\n      people: \"Con người\",\n      nature: \"Động vật, tự nhiên\",\n      foods: \"Thức ăn, Nước uống\",\n      activity: \"Hoạt động\",\n      places: \"Địa điểm du lịch\",\n      objects: \"Đồ vật\",\n      symbols: \"Biểu tượng\",\n      flags: \"Cờ\",\n    };\n\n    // const title = Translator.translate(\"PICK_YOUR_EMOJI\", props.lang);\n    const title = \"Chọn biểu cảm\";\n\n    this.state = {\n      categories: categories,\n      title: title,\n    };\n  }\n\n  componentDidUpdate(prevProps) {\n    if (prevProps.lang !== this.props.lang) {\n      const categories = {\n        // search: Translator.translate(\"SEARCH\", this.props.lang),\n        // people: Translator.translate(\"SMILEY_PEOPLE\", this.props.lang),\n        // nature: Translator.translate(\"ANIMALES_NATURE\", this.props.lang),\n        // foods: Translator.translate(\"FOOD_DRINK\", this.props.lang),\n        // activity: Translator.translate(\"ACTIVITY\", this.props.lang),\n        // places: Translator.translate(\"TRAVEL_PLACES\", this.props.lang),\n        // objects: Translator.translate(\"OBJECTS\", this.props.lang),\n        // symbols: Translator.translate(\"SYMBOLS\", this.props.lang),\n        // flags: Translator.translate(\"FLAGS\", this.props.lang)\n        // search: Translator.translate(\"SEARCH\", this.props.lang),\n        search:\"Tìm kiếm\",\n        people: \"Con người\",\n        nature: \"Động vật, tự nhiên\",\n        foods: \"Thức ăn, Nước uống\",\n        activity: \"Hoạt động\",\n        places: \"Địa điểm du lịch\",\n        objects: \"Đồ vật\",\n        symbols: \"Biểu tượng\",\n        flags: \"Cờ\",\n      };\n\n    //   const title = Translator.translate(\"PICK_YOUR_EMOJI\", this.props.lang);\n    const title = \"Chọn biểu cảm\";\n\n      this.setState({ categories: { ...categories }, title: title });\n    }\n  }\n\n  render() {\n    const exclude = [\"search\", \"recent\"];\n    return (\n      <div css={pickerStyle()}>\n        <Picker\n          title={this.state.title}\n          emoji=\"point_up\"\n          native\n          onClick={this.props.emojiClicked}\n          showPreview={false}\n          exclude={exclude}\n          i18n={{ categories: this.state.categories }}\n          style={{\n            bottom: \"100px\",\n            zIndex: \"2\",\n            width: \"100%\",\n            height: \"230px\",\n          }}\n        />\n      </div>\n    );\n  }\n}\n\n// Specifies the default values for props:\nCometChatEmojiKeyboard.defaultProps = {\n  lang: Translator.getDefaultLanguage(),\n};\n\nCometChatEmojiKeyboard.propTypes = {\n  lang: PropTypes.string,\n};\n\nexport { CometChatEmojiKeyboard };\n","export const imageWrapperStyle = (context, closeIcon, img) => {\n\n    const heightProps = (img) ? {\n        height: \"auto\",\n    } : {\n        height: \"100%\",\n    };\n\n\tconst mq = [...context.theme.breakPoints];\n\n    return {\n\t\tposition: \"absolute\",\n\t\ttop: \"0\",\n\t\tleft: \"0\",\n\t\tbottom: \"0\",\n\t\tright: \"0\",\n\t\twidth: \"100%\",\n\t\tpadding: \"1.8% 2.3%\",\n\t\tzIndex: \"9999\",\n\t\tdisplay: \"flex\",\n\t\tjustifyContent: \"center\",\n\t\talignItems: \"center\",\n\t\tbackground: `url(${closeIcon}) no-repeat 99% 0.8% #fff`,\n\t\tcursor: \"pointer\",\n\t\t...heightProps,\n\t\t[`@media ${mq[1]}, ${mq[2]}`]: {\n\t\t\theight: \"100%\",\n\t\t},\n\t};\n}\n\nexport const imgStyle = image => {\n\n    const sizeProps = (!image) ? {\n        width: \"24px\",\n        height: \"24px\",\n    } : {\n\t\tmaxHeight: \"100%\",\n\t};\n\n\treturn {\n\t\tobjectFit: \"contain\",\n\t\t...sizeProps,\n\t};\n};","export default __webpack_public_path__ + \"static/media/ring.f2985674.svg\";","export default __webpack_public_path__ + \"static/media/close.0b0b6f95.svg\";","import React, { useContext } from \"react\";\n/** @jsxRuntime classic */\n/** @jsx jsx */\nimport { jsx } from \"@emotion/core\";\nimport PropTypes from \"prop-types\";\n\nimport { CometChatBackdrop } from \"../../Shared\";\nimport { CometChatContext } from \"../../../util/CometChatContext\";\n\nimport {\n    imageWrapperStyle,\n    imgStyle,\n} from \"./style\";\n\nimport loadingIcon from \"./resources/ring.svg\";\nimport closeIcon from \"./resources/close.svg\";\n\nconst CometChatImageViewer = (props) => {\n\n    const context = useContext(CometChatContext);\n    const [image, setImage] = React.useState(null);\n\n    let img = new Image();\n    img.src = props.message.data.url;\n\n    img.onload = () => {\n        setImage(img.src);\n    };\n\n    let imageIcon = null;\n    if (image) {\n        imageIcon = image;\n    } else {\n        imageIcon = loadingIcon;\n    }\n\n    return (\n        <React.Fragment>\n            <CometChatBackdrop show={true} clicked={props.close} />\n            <div css={imageWrapperStyle(context, closeIcon, image)} onClick={props.close} className=\"image__wrapper\">\n                <img src={imageIcon} css={imgStyle(image)} alt={imageIcon} />\n            </div>\n        </React.Fragment>\n    );\n}\n\n\n// Specifies the default values for props:\nCometChatImageViewer.defaultProps = {\n\tcount: 0,\n\tclose: () => {},\n};\n\nCometChatImageViewer.propTypes = {\n\tshow: PropTypes.bool,\n\tclose: PropTypes.func,\n\tmessage: PropTypes.object.isRequired,\n};\n\nexport { CometChatImageViewer };","export const messagePreviewContainerStyle = context => {\n\n\treturn {\n\t\tdisplay: \"inline-block\",\n\t\tborderRadius: \"12px\",\n\t\tbackgroundColor: `${context.theme.backgroundColor.white}`,\n\t\tboxShadow: \"0px 1px 2px 1px rgba(0,0,0,0.18)\",\n\t\talignSelf: \"flex-start\",\n\t\twidth: \"auto\",\n\t};\n};\n\nexport const messagePreviewWrapperStyle = () => {\n\n    return {\n        display: \"flex\",\n        flexDirection: \"column\"\n    }\n}\n\nexport const previewImageStyle = (img) => {\n\n    return {\n        background: `url(${img}) no-repeat center center`,\n        backgroundSize: \"contain\",\n        height: \"150px\",\n        margin: \"12px 0\",\n    }\n}\n\nexport const previewDataStyle = context => {\n\n\treturn {\n\t\tborderTop: `1px solid  ${context.theme.borderColor.primary}`,\n\t\tborderBottom: `1px solid  ${context.theme.borderColor.primary}`,\n\t\tpadding: \"16px\",\n\t};\n};\n\nexport const previewTitleStyle = context => {\n\n\treturn {\n\t\twhiteSpace: \"pre-wrap\",\n\t\twordBreak: \"break-word\",\n\t\ttextAlign: \"left\",\n\t\twidth: \"auto\",\n\t\tcolor: `${context.theme.color.helpText}`,\n\t\tfontWeight: \"700\",\n\t\tmarginBottom: \"8px\",\n\t};\n};\n\nexport const previewDescStyle = context => {\n\n\treturn {\n\t\twhiteSpace: \"pre-wrap\",\n\t\twordBreak: \"break-word\",\n\t\ttextAlign: \"left\",\n\t\twidth: \"auto\",\n\t\tcolor: `${context.theme.color.helpText}`,\n\t\tfontStyle: \"italic\",\n\t\tfontSize: \"13px\",\n\t};\n};\n\nexport const previewTextStyle = context => {\n\n\treturn {\n\t\twhiteSpace: \"pre-wrap\",\n\t\twordBreak: \"break-word\",\n\t\ttextAlign: \"left\",\n\t\twidth: \"auto\",\n\t\t\".message__txt__wrapper\": {\n\t\t\tbackgroundColor: \"transparent\",\n\t\t\tcolor: `${context.theme.color.helpText}`,\n\t\t\tfontStyle: \"normal\",\n\t\t\tpadding: \"8px 0\",\n\t\t},\n\t};\n};\n\nexport const previewLinkStyle = context => {\n\n\treturn {\n\t\tdisplay: \"flex\",\n\t\talignItems: \"center\",\n\t\tjustifyContent: \"center\",\n\t\tpadding: \"12px\",\n\t\t\"> a\": {\n\t\t\tdisplay: \"inline-block\",\n\t\t\tcolor: `${context.theme.color.blue}`,\n\t\t\tfontWeight: \"700\",\n\t\t},\n\t};\n};\n","import React from \"react\";\n/** @jsxRuntime classic */\n/** @jsx jsx */\nimport { jsx } from \"@emotion/core\";\nimport PropTypes from \"prop-types\";\n\nimport { checkMessageForExtensionsData } from \"../../../util/common\";\n\nimport { CometChatContext } from \"../../../util/CometChatContext\";\n\nimport { theme } from \"../../../resources/theme\";\nimport Translator from \"../../../resources/localization/translator\";\n\nimport {\n    messagePreviewContainerStyle,\n    messagePreviewWrapperStyle,\n    previewImageStyle,\n    previewDataStyle,\n    previewTitleStyle,\n    previewDescStyle,\n    previewLinkStyle,\n    previewTextStyle,\n} from \"./style\";\n\nclass CometChatLinkPreview extends React.PureComponent {\n\n    static contextType = CometChatContext;\n\n    render() {\n\n        const linkPreviewData = checkMessageForExtensionsData(this.props.message, \"link-preview\");\n        const linkObject = linkPreviewData[\"links\"][0];\n\n        const pattern = /(http:|https:)?\\/\\/(www\\.)?(youtube.com|youtu.be)(\\S+)?/;\n        const linkText = (linkObject[\"url\"].match(pattern)) ? Translator.translate(\"VIEW_ON_YOUTUBE\", this.context.language) : Translator.translate(\"VISIT\", this.context.language);\n\n        return (\n            <div css={messagePreviewContainerStyle(this.context)} className=\"message__preview\">\n                <div css={messagePreviewWrapperStyle()} className=\"preview__card\">\n                    <div css={previewImageStyle(linkObject[\"image\"])} className=\"card__image\"></div>\n                    <div css={previewDataStyle(this.context)} className=\"card__info\">\n                        <div css={previewTitleStyle(this.context)} className=\"card__title\"><span>{linkObject[\"title\"]}</span></div>\n                        <div css={previewDescStyle(this.context)} className=\"card__desc\"><span>{linkObject[\"description\"]}</span></div>\n                        <div css={previewTextStyle(this.context)} className=\"card__text\">{this.props.messageText}</div>\n                    </div>\n                    <div css={previewLinkStyle(this.context)} className=\"card__link\">\n                        <a href={linkObject[\"url\"]} target=\"_blank\" rel=\"noopener noreferrer\">{linkText}</a>\n                    </div>\n                </div>\n            </div>\n        );\n    }\n}\n\n// Specifies the default values for props:\nCometChatLinkPreview.defaultProps = {\n    theme: theme\n};\n\nCometChatLinkPreview.propTypes = {\n\ttheme: PropTypes.object,\n\tmessage: PropTypes.object.isRequired,\n};\n\nexport { CometChatLinkPreview };","import React from \"react\";\n/** @jsxRuntime classic */\n/** @jsx jsx */\nimport { jsx } from \"@emotion/core\";\nimport { CometChat } from \"@cometchat-pro/chat\";\n\nimport { CometChatContext } from \"../../../util/CometChatContext\";\nimport * as enums from \"../../../util/enums.js\";\n\nimport {\n    reactionContainerStyle,\n    reactionEmojiStyle\n} from \"./style\";\n\nimport heartIcon from \"./resources/heart.png\";\n\nclass CometChatLiveReactions extends React.PureComponent {\n\n    static contextType = CometChatContext;\n    \n\tconstructor(props) {\n\t\tsuper(props);\n\n\t\tthis.parentElement = React.createRef();\n\n\t\tthis.counter = 0;\n\t\tthis.verticalSpeed = 5;\n\t\tthis.horizontalSpeed = 2;\n\t\tthis.items = [];\n\n\t\tthis.before = Date.now();\n\n\t\tconst reaction = props.reaction ? enums.CONSTANTS[\"LIVE_REACTIONS\"][props.reaction] : enums.CONSTANTS[\"LIVE_REACTIONS\"][\"heart\"];\n\t\tconst reactionImg = <img src={heartIcon} alt={reaction} />;\n\t\tthis.emojis = Array(6).fill(reactionImg);\n\t}\n\n\tcomponentDidMount() {\n\n\t\t//this.sendMessage();\n\t\tthis.setItems();\n\t\tthis.requestAnimation();\n\t}\n\n\tcomponentWillUnmount() {\n\t\tthis.timer = null;\n\t}\n\n\tsendMessage = () => {\n\n        //fetching the metadata type from constants\n\t\tconst metadata = { type: enums.CONSTANTS[\"METADATA_TYPE_LIVEREACTION\"], reaction: this.props.reaction };\n\n        const receiverType = this?.context?.type === CometChat.ACTION_TYPE.TYPE_USER ? CometChat.ACTION_TYPE.TYPE_USER : CometChat.ACTION_TYPE.TYPE_GROUP;\n        const receiverId = (this?.context?.type === CometChat.ACTION_TYPE.TYPE_USER) ? this?.context?.item?.uid : this?.context?.item?.guid;\n\n\t\tlet transientMessage = new CometChat.TransientMessage(receiverId, receiverType, metadata);\n\t\tCometChat.sendTransientMessage(transientMessage);\n\t};\n\n\tsetItems = () => {\n\t\tconst width = this.parentElement.offsetWidth;\n\t\tconst height = this.parentElement.offsetHeight;\n\n\t\tconst elements = this.parentElement.querySelectorAll(\".emoji\");\n\n\t\tfor (let i = 0; i < elements.length; i++) {\n\t\t\tconst element = elements[i],\n\t\t\t\telementWidth = element.offsetWidth,\n\t\t\t\telementHeight = element.offsetHeight;\n\n\t\t\tconst item = {\n\t\t\t\telement: element,\n\t\t\t\telementHeight: elementHeight,\n\t\t\t\telementWidth: elementWidth,\n\t\t\t\tySpeed: -this.verticalSpeed,\n\t\t\t\tomega: (2 * Math.PI * this.horizontalSpeed) / (width * 60), //omega= 2Pi*frequency\n\t\t\t\trandom: (Math.random() / 2 + 0.5) * i * 10000, //random time offset\n\t\t\t\tx: function (time) {\n\t\t\t\t\treturn ((Math.sin(this.omega * (time + this.random)) + 1) / 2) * (width - elementWidth);\n\t\t\t\t},\n\t\t\t\ty: height + (Math.random() + 1) * i * elementHeight,\n\t\t\t};\n\n\t\t\tthis.items.push(item);\n\t\t}\n\t};\n\n\trequestAnimation = () => {\n\t\tthis.timer = setTimeout(this.animate, 1000 / 60);\n\t};\n\n\tanimate = () => {\n\t\tif (!this.parentElement) {\n\t\t\treturn false;\n\t\t}\n\n\t\tconst height = this.parentElement.offsetHeight;\n\t\tconst time = +new Date(); //little trick, gives unix time in ms\n\n\t\tfor (let i = 0; i < this.items.length; i++) {\n\t\t\tconst item = this.items[i];\n\n\t\t\tconst transformString = \"translate3d(\" + item.x(time) + \"px, \" + item.y + \"px, 0px)\";\n\t\t\titem.element.style.transform = transformString;\n\n\t\t\titem.element.style.visibility = \"visible\";\n\n\t\t\tif (item.y <= height) {\n\t\t\t\titem.element.classList.add(\"fade\");\n\t\t\t}\n\n\t\t\titem.y += item.ySpeed;\n\t\t}\n\n\t\tthis.requestAnimation();\n\t};\n\n\trender() {\n\t\tconst emojis = this.emojis.map((emoji, index) => (\n\t\t\t<span className=\"emoji\" css={reactionEmojiStyle()} key={index}>\n\t\t\t\t{emoji}\n\t\t\t</span>\n\t\t));\n\t\treturn (\n\t\t\t<div ref={el => (this.parentElement = el)} css={reactionContainerStyle()}>\n\t\t\t\t{emojis}\n\t\t\t</div>\n\t\t);\n\t}\n}\n\nexport { CometChatLiveReactions };\n","export default \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAUCAYAAACXtf2DAAAAAXNSR0IArs4c6QAAAERlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAA6ABAAMAAAABAAEAAKACAAQAAAABAAAAGKADAAQAAAABAAAAFAAAAAAnxZisAAACpElEQVQ4Ea1VzUsVURQ/5868UrEg/AMy0NTMRQRBJfIQszKxgh5ByzbVIooiiDbZBwUtXAWJtGgRJW0MQsxnxfhRIbgpsqcQtajoA8uITGfu3Hs6Z+zJU3pq+n4wc+fee87vd+bcM2cQ5mB0Z+0WMuERQNiNgO+UgtYAgs7K7uffM01fVlevyc9391iAo5bsOkT1gPdvlvd4Q5l2mJ68bahdG2rTwvMmB9HV1gKP0WWA3oSWzlc86rsj9qm6mkOuwgsKsMQSgeErxpEYS5oQOpSLp0u7vA9iGwmkdsWLlaGuPKXKJw3TyU4GYizEYG+OFglXAt7gOWomzoRY5TsO+Na+8pEaqpJ97/FeIuFUjX++X+C4jb+ZPBsUi3C0Wvb5OSaRZ0MBi0xY01GxvfYApuprtjkE/ZZAZXeZpkrnczF2Ek9oaKtCi2c4ogXJRUKIFyJP2zmolHLUSZeAGjWXQq4RcpHwMTVxIeCwVEuuIWfGSPGIl/9OcqohnA7QVWUCeMg1PyJ1nCsIl7ZmVIcqqSo97xen6aK8UC4SleZB5VwS7ijs8p7e9sDQLflIlos8R4FPdLs9Gb8rXJEAq5K7YurEpLHeckTEd8rYp77G483QHNXmTOJLuwZ/ukof9I0dWIqI+PjWDFqHEps870c6EzMCslCSfPYVQtzvG9MpDos5E7GZJrc9gfX3buju/5Qml3GWgCyUed7YtwmdYJHrLqqom8r6vyDfT0whsG3bqrzV+6oeD36ZazdvkCN1NYe5nq8xSRHndpYvd14Igca5dZxdn+xtm7WZMZlXQOxe18c3ukQtLLJDc0cUSPsOiJ6AMqfKugdeRItZbgsKiN/Q5s2xwqLCYw7hOWl3/FO5oj+OtVYODwdZeJe2LD+mVDxe/D/efwCuAQs2cnkFkQAAAABJRU5ErkJggg==\"","export const reactionContainerStyle = () => {\n\n    return {\n        width: \"100px\",\n        height: \"calc(100% - 120px)\",\n        overflow: \"hidden\",\n        position: \"absolute\",\n        top: \"70px\",\n        right: \"0\",\n    }\n}\n\nexport const reactionEmojiStyle = () => {\n\n    return {\n        position: \"absolute\",\n        color: \"#DD4144\",\n        visibility: \"hidden\",\n        width: \"20px\",\n        height: \"20px\",\n        opacity: \"1\",\n        transition: \"opacity 3s\",\n        \"&.fade\": {\n            opacity: \"0\"\n        }\n    }\n}","import { CometChat } from \"@cometchat-pro/chat\";\n\nexport const messageActionStyle = (props, context, loggedInUser) => {\n\n    const topPos = (props.message.sender?.uid !== loggedInUser?.uid && props.message.receiverType === CometChat.RECEIVER_TYPE.GROUP) ? { top: \"-4px\" } : { top: \"-30px\" };\n\n    const alignment = (props.message?.sender?.uid === loggedInUser?.uid) ? { alignSelf: \"flex-end\" } : { alignSelf: \"flex-start\" };\n    const direction = (props.message?.sender?.uid === loggedInUser?.uid) ? { \n        \"li:not(:last-of-type)\": {\n            marginRight: \"8px\",\n        }\n\n    } : {\n        flexDirection: \"row-reverse\",\n        \"li:not(:first-of-type)\": {\n            marginRight: \"8px\",\n        }\n\n    };\n\n    return {\n        position: \"absolute\",\n        zIndex: \"1\",\n        display: \"flex\",\n        listStyleType: \"none\",\n        padding: \"8px\",\n        margin: \"0\",\n        height: \"35px\",\n        border: `1px solid ${context.theme.borderColor.primary}`,\n        backgroundColor: `${context.theme.backgroundColor.white}`,\n        borderRadius: \"4px\",\n        alignItems: \"center\",\n        justifyContent: \"center\",\n        ...alignment,\n        ...topPos,\n        ...direction,\n    }\n}\n\nexport const actionGroupStyle = (props) => {\n\n    return {\n        display: \"flex\",\n        position: \"relative\",\n    }\n}\n\nexport const groupButtonStyle = (img, context, deleteOption) => {\n\n    const backgroundProp = (deleteOption) ? {\n        backgroundColor: `${context.theme.color.red}!important`\n    } : {\n        backgroundColor: `${context.theme.secondaryTextColor}!important`\n    };\n\n    return {\n        outline: \"0\",\n        border: \"0\",\n        height: \"24px\",\n        width: \"24px\",\n        borderRadius: \"4px\",\n        alignItems: \"center\",\n        display: \"inline-flex\",\n        justifyContent: \"center\",\n        position: \"relative\",\n        mask: `url(${img}) center center no-repeat`,\n        ...backgroundProp\n    }\n}","export default __webpack_public_path__ + \"static/media/threaded-message.d845cc3f.svg\";","export default __webpack_public_path__ + \"static/media/delete.9436ff08.svg\";","export default __webpack_public_path__ + \"static/media/edit.35ebcb35.svg\";","export default __webpack_public_path__ + \"static/media/reactions.db072cb2.svg\";","export default __webpack_public_path__ + \"static/media/message-translate.80731563.svg\";","export default __webpack_public_path__ + \"static/media/send-message-in-private.293d36b5.svg\";","import React from \"react\";\n/** @jsxRuntime classic */\n/** @jsx jsx */\nimport { jsx } from \"@emotion/core\";\nimport PropTypes from \"prop-types\";\nimport { CometChat } from \"@cometchat-pro/chat\";\n\nimport * as enums from \"../../../util/enums.js\";\nimport { CometChatContext } from \"../../../util/CometChatContext\";\n\nimport { theme } from \"../../../resources/theme\";\nimport Translator from \"../../../resources/localization/translator\";\n\nimport {\n\tmessageActionStyle,\n\tactionGroupStyle,\n\tgroupButtonStyle\n} from \"./style\";\n\nimport startThreadIcon from \"./resources/threaded-message.svg\";\nimport deleteIcon from \"./resources/delete.svg\";\nimport editIcon from \"./resources/edit.svg\";\nimport reactIcon from \"./resources/reactions.svg\";\nimport translateIcon from \"./resources/message-translate.svg\";\nimport sendMessageInPrivateIcon from \"./resources/send-message-in-private.svg\";\n\n\nclass CometChatMessageActions extends React.PureComponent {\n\tstatic contextType = CometChatContext;\n\n\tconstructor(props, context) {\n\t\tsuper(props, context);\n\n\t\tthis.state = {\n\t\t\tloggedInUser: null,\n\t\t\tenableMessageReaction: false,\n\t\t\tenableThreadedChats: false,\n\t\t\tenableDeleteMessage: false,\n\t\t\tenableEditMessage: false,\n\t\t\tenableTranslateMessage: false,\n\t\t\tenableMessageInPrivate: false,\n\t\t\tenableDeleteMessageForModerator: false,\n\t\t};\n\t}\n\n\tcomponentDidMount() {\n\n\t\tthis.context.getLoggedinUser().then(user => {\n\n\t\t\tthis.setState({loggedInUser: { ...user }});\n\n\t\t}).then(() => {\n\n\t\t\tthis.enableMessageReaction();\n\t\t\tthis.enableThreadedChats();\n\t\t\tthis.enableDeleteMessage();\n\t\t\tthis.enableDeleteMessageForModerator();\n\t\t\tthis.enableEditMessage();\n\t\t\tthis.enableTranslateMessage();\n\t\t\tthis.enableMessageInPrivate();\n\t\t});\n\t}\n\n\ttoggleTooltip = (event, flag) => {\n\t\tconst elem = event.target;\n\n\t\tif (flag) {\n\t\t\telem.setAttribute(\"title\", elem.dataset.title);\n\t\t} else {\n\t\t\telem.removeAttribute(\"title\");\n\t\t}\n\t};\n\n\tenableMessageReaction = () => {\n\t\t/**\n\t\t * If reacting to messages feature is disabled\n\t\t */\n\t\tthis.context.FeatureRestriction.isReactionsEnabled()\n\t\t\t.then(response => {\n\t\t\t\tif (response === true) {\n\t\t\t\t\tthis.setState({ enableMessageReaction: true });\n\t\t\t\t} else {\n\t\t\t\t\tthis.setState({ enableMessageReaction: false });\n\t\t\t\t}\n\t\t\t})\n\t\t\t.catch(error => {\n\t\t\t\tthis.setState({ enableMessageReaction: false });\n\t\t\t});\n\t};\n\n\tenableThreadedChats = () => {\n\t\t/**\n\t\t * If threaded chats are open, return false\n\t\t */\n\t\tif (this.props.message.hasOwnProperty(\"parentMessageId\") === true) {\n\t\t\treturn false;\n\t\t}\n\n\t\t/**\n\t\t * If threaded replies feature is disabled\n\t\t */\n\t\tthis.context.FeatureRestriction.isThreadedMessagesEnabled()\n\t\t\t.then(response => {\n\t\t\t\tif (response === true) {\n\t\t\t\t\tthis.setState({ enableThreadedChats: true });\n\t\t\t\t} else {\n\t\t\t\t\tthis.setState({ enableThreadedChats: false });\n\t\t\t\t}\n\t\t\t})\n\t\t\t.catch(error => {\n\t\t\t\tthis.setState({ enableThreadedChats: false });\n\t\t\t});\n\t};\n\n\tenableDeleteMessage = () => {\n\t\tthis.context.FeatureRestriction.isDeleteMessageEnabled()\n\t\t\t.then(response => {\n\t\t\t\tif (response === true) {\n\t\t\t\t\tthis.setState({ enableDeleteMessage: true });\n\t\t\t\t} else {\n\t\t\t\t\tthis.setState({ enableDeleteMessage: false });\n\t\t\t\t}\n\t\t\t})\n\t\t\t.catch(error => {\n\t\t\t\tthis.setState({ enableDeleteMessage: false });\n\t\t\t});\n\t};\n\n\tenableDeleteMessageForModerator = () => {\n\t\tthis.context.FeatureRestriction.isDeleteMemberMessageEnabled()\n\t\t\t.then(response => {\n\t\t\t\tif (response === true) {\n\t\t\t\t\tthis.setState({ enableDeleteMessageForModerator: true });\n\t\t\t\t} else {\n\t\t\t\t\tthis.setState({ enableDeleteMessageForModerator: false });\n\t\t\t\t}\n\t\t\t})\n\t\t\t.catch(error => {\n\t\t\t\tthis.setState({ enableDeleteMessageForModerator: false });\n\t\t\t});\n\t};\n\n\tenableEditMessage = () => {\n\t\t/**\n\t\t * If the message is not sent by the logged in user or the message type is not text\n\t\t */\n\t\tif (this.props.message.sender?.uid !== this.state.loggedInUser?.uid || this.props.message.type !== CometChat.MESSAGE_TYPE.TEXT) {\n\t\t\treturn false;\n\t\t}\n\n\t\tthis.context.FeatureRestriction.isEditMessageEnabled()\n\t\t\t.then(response => {\n\t\t\t\tif (response === true) {\n\t\t\t\t\tthis.setState({ enableEditMessage: true });\n\t\t\t\t} else {\n\t\t\t\t\tthis.setState({ enableEditMessage: false });\n\t\t\t\t}\n\t\t\t})\n\t\t\t.catch(error => {\n\t\t\t\tthis.setState({ enableEditMessage: false });\n\t\t\t});\n\t};\n\n\tenableTranslateMessage = () => {\n\t\t/**\n\t\t * message type is not text\n\t\t */\n\t\tif (this.props.message.type !== CometChat.MESSAGE_TYPE.TEXT) {\n\t\t\treturn false;\n\t\t}\n\n\t\tthis.context.FeatureRestriction.isMessageTranslationEnabled()\n\t\t\t.then(response => {\n\t\t\t\tif (response === true) {\n\t\t\t\t\tthis.setState({ enableTranslateMessage: true });\n\t\t\t\t} else {\n\t\t\t\t\tthis.setState({ enableTranslateMessage: false });\n\t\t\t\t}\n\t\t\t})\n\t\t\t.catch(error => {\n\t\t\t\tthis.setState({ enableTranslateMessage: false });\n\t\t\t});\n\t};\n\n\t/**\n\t * If message in private feature is enabled\n\t */\n\tenableMessageInPrivate = () => {\n\t\tthis.context.FeatureRestriction.isMessageInPrivateEnabled()\n\t\t\t.then(response => {\n\t\t\t\tif (response === true) {\n\t\t\t\t\tthis.setState({ enableMessageInPrivate: true });\n\t\t\t\t} else {\n\t\t\t\t\tthis.setState({ enableMessageInPrivate: false });\n\t\t\t\t}\n\t\t\t})\n\t\t\t.catch(error => {\n\t\t\t\tthis.setState({ enableMessageInPrivate: false });\n\t\t\t});\n\t};\n\n\tsendMessageInPrivate = () => {\n\t\t\n\t\tconst item = this.props.message?.sender;\n\t\tconst type = CometChat.ACTION_TYPE.TYPE_USER;\n\n\t\tthis.context.setTypeAndItem(type, item);\n\t};\n\n\treactToMessage = () => {\n\t\tthis.props.actionGenerated(enums.ACTIONS[\"REACT_TO_MESSAGE\"], this.props.message);\n\t};\n\n\tviewThread = () => {\n\t\tthis.props.actionGenerated(enums.ACTIONS[\"VIEW_THREADED_MESSAGE\"], this.props.message);\n\t};\n\n\tdeleteMessage = () => {\n\t\tthis.props.actionGenerated(enums.ACTIONS[\"DELETE_MESSAGE\"], this.props.message);\n\t};\n\n\teditMessage = () => {\n\t\tthis.props.actionGenerated(enums.ACTIONS[\"EDIT_MESSAGE\"], this.props.message);\n\t};\n\n\ttranslateMessage = () => {\n\t\tthis.props.actionGenerated(enums.ACTIONS[\"TRANSLATE_MESSAGE\"], this.props.message);\n\t};\n\n\trender() {\n\t\t//don't show the tooltip while the message is being sent\n\t\tif (this.props.message.hasOwnProperty(\"sentAt\") === false) {\n\t\t\treturn false;\n\t\t}\n\n\t\tlet reactToMessage = null;\n\t\tif (this.state.enableMessageReaction) {\n\t\t\treactToMessage = (\n\t\t\t\t<li css={actionGroupStyle()} className=\"action__group\">\n\t\t\t\t\t<button\n\t\t\t\t\t\ttype=\"button\"\n\t\t\t\t\t\tonMouseEnter={event => this.toggleTooltip(event, true)}\n\t\t\t\t\t\tonMouseLeave={event => this.toggleTooltip(event, false)}\n\t\t\t\t\t\tcss={groupButtonStyle(reactIcon, this.context)}\n\t\t\t\t\t\tclassName=\"group__button button__reacttomessage\"\n\t\t\t\t\t\tdata-title={Translator.translate(\"ADD_REACTION\", this.context.language)}\n\t\t\t\t\t\tonClick={this.reactToMessage}></button>\n\t\t\t\t</li>\n\t\t\t);\n\t\t}\n\n\t\tlet threadedChats = null;\n\t\tif (this.state.enableThreadedChats) {\n\t\t\tthreadedChats = (\n\t\t\t\t<li css={actionGroupStyle()} className=\"action__group\">\n\t\t\t\t\t<button\n\t\t\t\t\t\ttype=\"button\"\n\t\t\t\t\t\tonMouseEnter={event => this.toggleTooltip(event, true)}\n\t\t\t\t\t\tonMouseLeave={event => this.toggleTooltip(event, false)}\n\t\t\t\t\t\tcss={groupButtonStyle(startThreadIcon, this.context)}\n\t\t\t\t\t\tclassName=\"group__button button__threadedchats\"\n\t\t\t\t\t\tdata-title={this.props.message.replyCount ? Translator.translate(\"REPLY_TO_THREAD\", this.context.language) : Translator.translate(\"REPLY_IN_THREAD\", this.context.language)}\n\t\t\t\t\t\tonClick={this.viewThread}></button>\n\t\t\t\t</li>\n\t\t\t);\n\t\t}\n\n\t\t/**\n\t\t * in one-on-one chat, allow deleting self messages if delete feature is enabled\n\t\t * in group chat, allow deleting other's messages for moderators and admins if moderator delete feature && delete feature is enabled\n\t\t */\n\t\tlet deleteMessage = null;\n\t\tif (\n\t\t\t(this.props.message.sender?.uid === this.state.loggedInUser?.uid && this.state.enableDeleteMessage) ||\n\t\t\t(this.context.type === CometChat.ACTION_TYPE.TYPE_GROUP &&\n\t\t\t\tthis.props.message.sender?.uid !== this.state.loggedInUser?.uid &&\n\t\t\t\tthis.context.item.hasOwnProperty(\"scope\") &&\n\t\t\t\tthis.context.item.scope !== CometChat.GROUP_MEMBER_SCOPE.PARTICIPANT &&\n\t\t\t\tthis.state.enableDeleteMessageForModerator &&\n\t\t\t\tthis.state.enableDeleteMessage)\n\t\t) {\n\t\t\tdeleteMessage = (\n\t\t\t\t<li css={actionGroupStyle()} className=\"action__group\">\n\t\t\t\t\t<button\n\t\t\t\t\t\ttype=\"button\"\n\t\t\t\t\t\tonMouseEnter={event => this.toggleTooltip(event, true)}\n\t\t\t\t\t\tonMouseLeave={event => this.toggleTooltip(event, false)}\n\t\t\t\t\t\tcss={groupButtonStyle(deleteIcon, this.context, 1)}\n\t\t\t\t\t\tclassName=\"group__button button__delete\"\n\t\t\t\t\t\t// data-title={Translator.translate(\"DELETE_MESSAGE\", this.context.language)}\n\t\t\t\t\t\tdata-title=\"Xóa\"\n\t\t\t\t\t\tonClick={this.deleteMessage}></button>\n\t\t\t\t</li>\n\t\t\t);\n\t\t}\n\n\t\tlet editMessage = null;\n\t\tif (this.state.enableEditMessage) {\n\t\t\teditMessage = (\n\t\t\t\t<li css={actionGroupStyle()} className=\"action__group\">\n\t\t\t\t\t<button\n\t\t\t\t\t\ttype=\"button\"\n\t\t\t\t\t\tonMouseEnter={event => this.toggleTooltip(event, true)}\n\t\t\t\t\t\tonMouseLeave={event => this.toggleTooltip(event, false)}\n\t\t\t\t\t\tcss={groupButtonStyle(editIcon, this.context)}\n\t\t\t\t\t\tclassName=\"group__button button__edit\"\n\t\t\t\t\t\t// data-title={Translator.translate(\"EDIT_MESSAGE\", this.context.language)}\n\t\t\t\t\t\tdata-title=\"Chỉnh sửa\"\n\t\t\t\t\t\tonClick={this.editMessage}></button>\n\t\t\t\t</li>\n\t\t\t);\n\t\t}\n\n\t\tlet translateMessage = null;\n\t\tif (this.state.enableTranslateMessage) {\n\t\t\ttranslateMessage = (\n\t\t\t\t<li css={actionGroupStyle()} className=\"action__group\">\n\t\t\t\t\t<button\n\t\t\t\t\ttype=\"button\"\n\t\t\t\t\tonMouseEnter={event => this.toggleTooltip(event, true)}\n\t\t\t\t\tonMouseLeave={event => this.toggleTooltip(event, false)}\n\t\t\t\t\tcss={groupButtonStyle(translateIcon, this.context)}\n\t\t\t\t\tclassName=\"group__button button__translate\"\n\t\t\t\t\tdata-title={Translator.translate(\"TRANSLATE_MESSAGE\", this.context.language)}\n\t\t\t\t\tonClick={this.translateMessage}></button>\n\t\t\t\t</li>\n\t\t\t);\n\t\t}\n\n\t\t/**\n\t\t * if send message in private feature is enabled, if group chat window is open, and messages are not sent by the loggedin user...\n\t\t */\n\t\tlet messageInPrivate = null;\n\t\tif (this.state.enableMessageInPrivate === true && this.context.type === CometChat.ACTION_TYPE.TYPE_GROUP && this.props.message?.sender?.uid !== this.state.loggedInUser?.uid) {\n\t\t\tmessageInPrivate = (\n\t\t\t\t<li>\n\t\t\t\t\t<button\n\t\t\t\t\t\ttype=\"button\"\n\t\t\t\t\t\tonMouseEnter={event => this.toggleTooltip(event, true)}\n\t\t\t\t\t\tonMouseLeave={event => this.toggleTooltip(event, false)}\n\t\t\t\t\t\tcss={groupButtonStyle(sendMessageInPrivateIcon, this.context)}\n\t\t\t\t\t\tclassName=\"group__button button__translate\"\n\t\t\t\t\t\tdata-title={Translator.translate(\"SEND_MESSAGE_IN_PRIVATE\", this.context.language)}\n\t\t\t\t\t\tonClick={this.sendMessageInPrivate}></button>\n\t\t\t\t</li>\n\t\t\t);\n\t\t}\n\n\t\tlet tooltip = (\n\t\t\t<ul css={messageActionStyle(this.props, this.context, this.state.loggedInUser)} className=\"message__actions\">\n\t\t\t\t{reactToMessage}\n\t\t\t\t{threadedChats}\n\t\t\t\t{editMessage}\n\t\t\t\t{deleteMessage}\n\t\t\t\t{messageInPrivate}\n\t\t\t\t{translateMessage}\n\t\t\t</ul>\n\t\t);\n\n\t\tif (threadedChats === null && deleteMessage === null && editMessage === null && reactToMessage === null && translateMessage === null && messageInPrivate === null) {\n\t\t\ttooltip = null;\n\t\t}\n\n\t\treturn tooltip;\n\t}\n}\n\n// Specifies the default values for props:\nCometChatMessageActions.defaultProps = {\n\ttheme: theme,\n\tactionGenerated: () => {},\n};\n\nCometChatMessageActions.propTypes = {\n\ttheme: PropTypes.object.isRequired,\n\tactionGenerated: PropTypes.func.isRequired,\n\tmessage: PropTypes.object.isRequired,\n};\n\nexport { CometChatMessageActions };\n","export const chatComposerStyle = context => {\n\n\treturn {\n\t\tpadding: \"16px\",\n\t\tbackgroundColor: `${context.theme.backgroundColor.white}`,\n\t\tzIndex: \"1\",\n\t\torder: \"3\",\n\t\tposition: \"relative\",\n\t\tflex: \"none\",\n\t\tminHeight: \"105px\",\n\t};\n};\n\nexport const editPreviewContainerStyle = (context, keyframes) => {\n\n\tconst slideAnimation = keyframes`\n    from {\n        bottom: -60px\n    }\n    to {\n        bottom: 0px\n    }`;\n\n\treturn {\n\t\tpadding: \"7px\",\n\t\tbackgroundColor: `${context.theme.backgroundColor.white}`,\n\t\tborderColor: `${context.theme.borderColor.primary}`,\n\t\tborderWidth: \"1px 1px 1px 5px\",\n\t\tborderStyle: \"solid\",\n\t\tcolor: `${context.theme.color.helpText}`,\n\t\tfontSize: \"13px\",\n\t\tanimation: `${slideAnimation} 0.5s ease-out`,\n\t\tposition: \"relative\",\n\t};\n};\n\nexport const previewHeadingStyle = () => {\n\n    return {\n        display: \"flex\",\n        alignItems: \"center\",\n        justifyContent: \"space-between\"\n    }\n}\n\nexport const previewTextStyle = () => {\n\n    return {\n        padding: \"5px 0\",\n    }\n}\n\nexport const previewCloseStyle = (img, context) => {\n\n    return {\n        width: \"24px\",\n        height: \"24px\",\n        borderRadius: \"50%\",\n        cursor: \"pointer\",\n        mask: `url(${img}) center center no-repeat`,\n        backgroundColor: `${context.theme.primaryColor}`\n    }\n}\n\nexport const composerInputStyle = () => {\n\n    return {\n        display: \"flex\",\n        width: \"100%\",\n        flexDirection: \"row\",\n        alignItems: \"flex-end\",\n        position: \"relative\",\n        zIndex: \"2\",\n        padding: \"0\",\n        minHeight: \"85px\",\n    }\n}\n\nexport const inputInnerStyle = (props, state, context) => {\n\n    const borderRadiusVal = (state.emojiViewer || state.stickerViewer) ? {\n        borderRadius: \"0 0 8px 8px\",\n    } : {\n        borderRadius: \"8px\",\n    };\n\n    return {\n        flex: \"1 1 auto\",\n        position: \"relative\",\n        outline: \"none\",\n        border: `1px solid ${context.theme.borderColor.primary}`,\n        backgroundColor: `${context.theme.backgroundColor.white}`,\n        display: \"flex\",\n        flexDirection: \"column\",\n        width: \"100%\",\n        minHeight: \"85px\",\n        ...borderRadiusVal\n    }\n}\n\nexport const messageInputStyle = (disabled) => {\n\n    const disabledState = (disabled) ? {\n        pointerEvents : \"none\",\n        opacity: \"0.4\"\n    } : {};\n\n    return {\n        width: \"100%\",\n        fontSize: \"15px\",\n        lineHeight: \"20px\",\n        fontWeight: \"400\",\n        padding: \"16px\",\n        outline: \"none\",\n        overflowX: \"hidden\",\n        overflowY: \"auto\",\n        position: \"relative\",\n        whiteSpace: \"pre-wrap\",\n        wordWrap: \"break-word\",\n        zIndex: \"1\",\n        minHeight: \"50px\",\n        maxHeight: \"100px\",\n        userSelect: \"text\",\n        ...disabledState,\n        '&:empty:before': {\n            content: \"attr(placeholder)\",\n            color: \"rgb(153, 153, 153)\",\n            pointerEvents: \"none\",\n            display: \"block\", /* For Firefox */\n        }\n    }\n}\n\nexport const inputStickyStyle = (disabled, attachments, context) => {\n\n    const disabledState = (disabled) ? {\n        pointerEvents: \"none\",\n    } : {};\n\n    const flexDirectionProp = (attachments === null) ? {\n        flexDirection: \"row-reverse\",\n    } : {};\n\n    return {\n        padding: \"8px 16px\",\n        // height: \"40px\",\n        borderTop: `1px solid ${context.theme.borderColor.primary}`,\n        backgroundColor: `${context.theme.backgroundColor.grey}`,\n        display: \"flex\",\n        justifyContent: \"space-between\",\n        ...flexDirectionProp,\n        ...disabledState,\n        '&:empty:before': {\n            pointerEvents: \"none\",\n        }\n    }\n}\n\nexport const stickyAttachmentStyle = () => {\n\n    return {\n        display: \"flex\",\n        width: \"auto\"\n    }\n}\n\nexport const attachmentIconStyle = () => {\n\n    return {\n        margin: \"auto 0\",\n        width: \"24px\",\n        height: \"20px\",\n        cursor: \"pointer\",\n    }\n}\n\nexport const filePickerStyle = (state) => {\n\n    const active = (state.showFilePicker) ? {\n        width: \"calc(100% - 20px)\",\n        opacity: \"1\",\n    } : {};\n\n    return {\n        width: \"0\",\n        borderRadius: \"8px\",\n        overflow: \"hidden\",\n        zIndex: \"1\",\n        opacity: \"0\",\n        transition: \"width 0.5s linear\",\n        ...active,\n    }\n}\n\nexport const fileListStyle = () => {\n\n    return {\n        width: \"100%\",\n        display: \"flex\",\n        alignItems: \"center\",\n        justifyContent: \"center\",\n        padding: \"0 0 0 16px\",\n    }\n}\n\nexport const fileItemStyle = (img, context) => {\n\n    return {\n        height: \"24px\",\n        cursor: \"pointer\",\n        display: \"flex\",\n        justifyContent: \"center\",\n        alignItems: \"center\",\n        margin: \"0 16px 0 0\",\n        \" > i\": {\n            width: \"24px\",\n            height: \"24px\",\n            display: \"inline-block\",\n            mask: `url(${img}) center center no-repeat`,\n            backgroundColor: `${context.theme.secondaryTextColor}`\n        },\n        ' > input': {\n            display: \"none\",\n        },\n    }\n}\n\nexport const stickyAttachButtonStyle = (img, context) => {\n\n    return {\n        display: \"flex\",\n        alignItems: \"center\",\n        justifyContent: \"center\",\n        cursor: \"pointer\",\n        width: \"24px\",\n        \"i\": {\n            width: \"24px\",\n            height: \"24px\",\n            display: \"inline-block\",\n            mask: `url(${img}) center center no-repeat`,\n            backgroundColor: `${context.theme.secondaryTextColor}`\n        }\n    }\n}\n\nexport const stickyButtonStyle = (state) => {\n\n    const active = (state.showFilePicker) ? {\n        display: \"none\",\n    } : {\n        display: \"flex\",\n    };\n\n    return {\n        display: \"flex\",\n        alignItems: \"center\",\n        justifyContent: \"center\",\n        cursor: \"pointer\",\n        width: \"auto\",\n        ...active\n    }\n}\n\nexport const emojiButtonStyle = (img, context) => {\n\n    return {\n        height: \"24px\",\n        cursor: \"pointer\",\n        display: \"flex\",\n        alignItems: \"center\",\n        justifyContent: \"center\",\n        margin: \"0 0 0 16px\",\n        \"i\": {\n            width: \"24px\",\n            height: \"24px\",\n            display: \"inline-block\",\n            mask: `url(${img}) center center no-repeat`,\n            backgroundColor: `${context.theme.secondaryTextColor}`\n        }\n    }\n}\n\nexport const sendButtonStyle = (img, context) => {\n\n    return {\n        height: \"24px\",\n        cursor: \"pointer\",\n        display: \"flex\",\n        alignItems: \"center\",\n        justifyContent: \"center\",\n        margin: \"0 0 0 16px\",\n        \"i\": {\n            width: \"24px\",\n            height: \"24px\",\n            display: \"inline-block\",\n            mask: `url(${img}) center center no-repeat`,\n            backgroundColor: `${context.theme.primaryColor}`\n        }\n    }\n}\n\nexport const reactionBtnStyle = () => {\n\n    return {\n        cursor: \"pointer\",\n        height: \"24px\",\n        display: \"flex\",\n        alignItems: \"center\",\n        justifyContent: \"center\",\n        margin: \"0 0 0 16px\",\n    }\n}\n\nexport const stickerBtnStyle = (img, context) => {\n\n    return {\n        cursor: \"pointer\",\n        height: \"24px\",\n        display: \"flex\",\n        alignItems: \"center\",\n        justifyContent: \"center\",\n        margin: \"0 0 0 16px\",\n        \"i\": {\n            width: \"24px\",\n            height: \"24px\",\n            display: \"inline-block\",\n            mask: `url(${img}) center center no-repeat`,\n            backgroundColor: `${context.theme.secondaryTextColor}`\n        }\n    }\n}","export default __webpack_public_path__ + \"static/media/add-circle-filled.a7750fa2.svg\";","export default __webpack_public_path__ + \"static/media/video.2493964e.svg\";","export default __webpack_public_path__ + \"static/media/audio-file.5e5200f5.svg\";","export default __webpack_public_path__ + \"static/media/file-upload.a68d497b.svg\";","export default __webpack_public_path__ + \"static/media/image.74b5a891.svg\";","export default __webpack_public_path__ + \"static/media/emoji.c7a39969.svg\";","export default __webpack_public_path__ + \"static/media/send-message.1fcc4bdc.svg\";","export default __webpack_public_path__ + \"static/media/polls.30ae277d.svg\";","export default __webpack_public_path__ + \"static/media/stickers.d5d3db8f.svg\";","export default __webpack_public_path__ + \"static/media/close.0b0b6f95.svg\";","export default __webpack_public_path__ + \"static/media/collaborative-document.3c15f5d4.svg\";","export default __webpack_public_path__ + \"static/media/collaborative-whiteboard.78916c4e.svg\";","import React from \"react\";\n/** @jsxRuntime classic */\n/** @jsx jsx */\nimport { jsx, keyframes } from \"@emotion/core\";\nimport PropTypes from \"prop-types\";\nimport { CometChat } from \"@cometchat-pro/chat\";\n\nimport \"emoji-mart/css/emoji-mart.css\";\n\nimport { CometChatSmartReplyPreview, CometChatCreatePoll, CometChatStickerKeyboard } from \"../Extensions\";\nimport { CometChatEmojiKeyboard } from \"../\";\n\nimport { CometChatContext } from \"../../../util/CometChatContext\";\nimport { checkMessageForExtensionsData, ID, getUnixTimestamp } from \"../../../util/common\";\nimport * as enums from \"../../../util/enums.js\";\nimport { SoundManager } from \"../../../util/SoundManager\";\n\nimport { theme } from \"../../../resources/theme\";\nimport Translator from \"../../../resources/localization/translator\";\n\nimport {\n\tchatComposerStyle,\n\teditPreviewContainerStyle,\n\tpreviewHeadingStyle,\n\tpreviewCloseStyle,\n\tpreviewTextStyle,\n\tcomposerInputStyle,\n\tinputInnerStyle,\n\tmessageInputStyle,\n\tinputStickyStyle,\n\tstickyAttachmentStyle,\n\tfilePickerStyle,\n\tfileListStyle,\n\tfileItemStyle,\n\tstickyAttachButtonStyle,\n\tstickyButtonStyle,\n\temojiButtonStyle,\n\tsendButtonStyle,\n\treactionBtnStyle,\n\tstickerBtnStyle\n} from \"./style\";\n\nimport roundedPlus from \"./resources/add-circle-filled.svg\";\nimport videoIcon from \"./resources/video.svg\";\nimport audioIcon from \"./resources/audio-file.svg\";\nimport docIcon from \"./resources/file-upload.svg\";\nimport imageIcon from \"./resources/image.svg\";\nimport insertEmoticon from \"./resources/emoji.svg\";\nimport sendBlue from \"./resources/send-message.svg\";\nimport pollIcon from \"./resources/polls.svg\";\nimport stickerIcon from \"./resources/stickers.svg\";\nimport closeIcon from \"./resources/close.svg\";\nimport documentIcon from \"./resources/collaborative-document.svg\";\nimport whiteboardIcon from \"./resources/collaborative-whiteboard.svg\";\nimport heartIcon from \"./resources/heart.png\";\n\nclass CometChatMessageComposer extends React.PureComponent {\n\tstatic contextType = CometChatContext;\n\n\tconstructor(props) {\n\t\tsuper(props);\n\n\t\tthis.imageUploaderRef = React.createRef();\n\t\tthis.fileUploaderRef = React.createRef();\n\t\tthis.audioUploaderRef = React.createRef();\n\t\tthis.videoUploaderRef = React.createRef();\n\t\tthis.messageInputRef = React.createRef();\n\t\tthis.liveReactionInProgress = false;\n\t\tthis.isTyping = false;\n\n\t\tthis.state = {\n\t\t\tshowFilePicker: false,\n\t\t\tmessageInput: \"\",\n\t\t\tmessageType: \"\",\n\t\t\temojiViewer: false,\n\t\t\tcreatePoll: false,\n\t\t\tmessageToBeEdited: \"\",\n\t\t\treplyPreview: null,\n\t\t\tstickerViewer: false,\n\t\t\tmessageToReact: \"\",\n\t\t\tshareDocument: false,\n\t\t\tshareWhiteboard: false,\n\t\t\tenableLiveReaction: false,\n\t\t\tenablePolls: false,\n\t\t\tenableTypingIndicator: false,\n\t\t\tenableStickers: false,\n\t\t\tenablePhotosVideos: false,\n\t\t\tenableFiles: false,\n\t\t\tenableEmojis: false,\n\t\t\tenableCollaborativeDocument: false,\n\t\t\tenableCollaborativeWhiteboard: false,\n\t\t};\n\t}\n\n\tcomponentDidMount() {\n\t\tCometChat.getLoggedinUser()\n\t\t\t.then(user => (this.loggedInUser = user))\n\t\t\t.catch(error => this.props.actionGenerated(enums.ACTIONS[\"ERROR\"], [], \"SOMETHING_WRONG\"));\n\n\t\tthis.item = this.context.type === CometChat.ACTION_TYPE.TYPE_USER || this.context.type === CometChat.ACTION_TYPE.TYPE_GROUP ? this.context.item : null;\n\t\tthis.enableLiveReaction();\n\t\tthis.enablePolls();\n\t\tthis.enableTypingIndicator();\n\t\tthis.enableStickers();\n\t\tthis.enablePhotosVideos();\n\t\tthis.enableFiles();\n\t\tthis.enableEmojis();\n\t\tthis.enableCollaborativeDocument();\n\t\tthis.enableCollaborativeWhiteboard();\n\t}\n\n\tcomponentDidUpdate(prevProps, prevState) {\n\t\tif (prevProps.messageToBeEdited !== this.props.messageToBeEdited) {\n\t\t\tconst messageToBeEdited = this.props.messageToBeEdited;\n\n\t\t\tthis.setState({ messageInput: messageToBeEdited, messageToBeEdited: messageToBeEdited });\n\n\t\t\tconst element = this.messageInputRef.current;\n\t\t\tif (messageToBeEdited) {\n\t\t\t\tlet messageText = messageToBeEdited.text;\n\n\t\t\t\t//xss extensions data\n\t\t\t\tconst xssData = checkMessageForExtensionsData(messageToBeEdited, \"xss-filter\");\n\t\t\t\tif (xssData && xssData.hasOwnProperty(\"sanitized_text\") && xssData.hasOwnProperty(\"hasXSS\") && xssData.hasXSS === \"yes\") {\n\t\t\t\t\tmessageText = xssData.sanitized_text;\n\t\t\t\t}\n\n\t\t\t\telement.focus();\n\t\t\t\telement.textContent = \"\";\n\t\t\t\tthis.pasteHtmlAtCaret(messageText, false);\n\t\t\t} else {\n\t\t\t\telement.textContent = \"\";\n\t\t\t}\n\t\t}\n\n\t\tif (prevProps.replyPreview !== this.props.replyPreview) {\n\t\t\tthis.setState({ replyPreview: this.props.replyPreview });\n\t\t}\n\n\t\tconst previousMessageStr = JSON.stringify(prevProps.messageToReact);\n\t\tconst currentMessageStr = JSON.stringify(this.props.messageToReact);\n\n\t\tif (previousMessageStr !== currentMessageStr) {\n\t\t\tthis.setState({ messageToReact: this.props.messageToReact });\n\t\t}\n\n\t\tif (this.context.item !== this.item) {\n\t\t\tthis.messageInputRef.current.textContent = \"\";\n\t\t\tthis.setState({ stickerViewer: false, emojiViewer: false, replyPreview: null, messageToBeEdited: \"\", messageInput: \"\" });\n\n\t\t\tthis.focusOnMessageComposer();\n\t\t}\n\n\t\tif (prevState.messageInput !== this.state.messageInput) {\n\t\t\tthis.focusOnMessageComposer();\n\t\t}\n\n\t\tthis.item = this.context.type === CometChat.ACTION_TYPE.TYPE_USER || this.context.type === CometChat.ACTION_TYPE.TYPE_GROUP ? this.context.item : null;\n\t\tthis.enableLiveReaction();\n\t\tthis.enablePolls();\n\t\tthis.enableTypingIndicator();\n\t\tthis.enableStickers();\n\t\tthis.enablePhotosVideos();\n\t\tthis.enableFiles();\n\t\tthis.enableEmojis();\n\t\tthis.enableCollaborativeDocument();\n\t\tthis.enableCollaborativeWhiteboard();\n\t}\n\n\t/**\n\t * if live reactions feature is disabled\n\t */\n\tenableLiveReaction = () => {\n\t\tthis.context.FeatureRestriction.isLiveReactionsEnabled()\n\t\t\t.then(response => {\n\t\t\t\tif (response !== this.state.enableLiveReaction) {\n\t\t\t\t\tthis.setState({ enableLiveReaction: response });\n\t\t\t\t}\n\t\t\t})\n\t\t\t.catch(error => {\n\t\t\t\tif (this.state.enableLiveReaction !== false) {\n\t\t\t\t\tthis.setState({ enableLiveReaction: false });\n\t\t\t\t}\n\t\t\t});\n\t};\n\n\t/**\n\t * if polls feature is disabled\n\t */\n\tenablePolls = () => {\n\t\tthis.context.FeatureRestriction.isPollsEnabled()\n\t\t\t.then(response => {\n\t\t\t\tif (response !== this.state.enablePolls) {\n\t\t\t\t\tthis.setState({ enablePolls: response });\n\t\t\t\t}\n\t\t\t})\n\t\t\t.catch(error => {\n\t\t\t\tif (this.state.enablePolls !== false) {\n\t\t\t\t\tthis.setState({ enablePolls: false });\n\t\t\t\t}\n\t\t\t});\n\t};\n\n\t/**\n\t * if typing indicator feature is disabled\n\t */\n\tenableTypingIndicator = () => {\n\t\tthis.context.FeatureRestriction.isTypingIndicatorsEnabled()\n\t\t\t.then(response => {\n\t\t\t\tif (response !== this.state.enableTypingIndicator) {\n\t\t\t\t\tthis.setState({ enableTypingIndicator: response });\n\t\t\t\t}\n\t\t\t})\n\t\t\t.catch(error => {\n\t\t\t\tif (this.state.enableTypingIndicator !== false) {\n\t\t\t\t\tthis.setState({ enableTypingIndicator: false });\n\t\t\t\t}\n\t\t\t});\n\t};\n\n\t/**\n\t * if stickers feature is disabled\n\t */\n\tenableStickers = () => {\n\t\tthis.context.FeatureRestriction.isStickersEnabled()\n\t\t\t.then(response => {\n\t\t\t\tif (response !== this.state.enableStickers) {\n\t\t\t\t\tthis.setState({ enableStickers: response });\n\t\t\t\t}\n\t\t\t})\n\t\t\t.catch(error => {\n\t\t\t\tif (this.state.enableStickers !== false) {\n\t\t\t\t\tthis.setState({ enableStickers: false });\n\t\t\t\t}\n\t\t\t});\n\t};\n\n\t/**\n\t * if uploding photos, videos feature is disabled\n\t */\n\tenablePhotosVideos = () => {\n\t\tthis.context.FeatureRestriction.isPhotosVideosEnabled()\n\t\t\t.then(response => {\n\t\t\t\tif (response !== this.state.enablePhotosVideos) {\n\t\t\t\t\tthis.setState({ enablePhotosVideos: response });\n\t\t\t\t}\n\t\t\t})\n\t\t\t.catch(error => {\n\t\t\t\tif (this.state.enablePhotosVideos !== false) {\n\t\t\t\t\tthis.setState({ enablePhotosVideos: false });\n\t\t\t\t}\n\t\t\t});\n\t};\n\n\t/**\n\t * if uploding files feature is disabled\n\t */\n\tenableFiles = () => {\n\t\tthis.context.FeatureRestriction.isFilesEnabled()\n\t\t\t.then(response => {\n\t\t\t\tif (response !== this.state.enableFiles) {\n\t\t\t\t\tthis.setState({ enableFiles: response });\n\t\t\t\t}\n\t\t\t})\n\t\t\t.catch(error => {\n\t\t\t\tif (this.state.enableFiles !== false) {\n\t\t\t\t\tthis.setState({ enableFiles: false });\n\t\t\t\t}\n\t\t\t});\n\t};\n\n\t/**\n\t * if sending emojis feature is disabled\n\t */\n\tenableEmojis = () => {\n\t\tthis.context.FeatureRestriction.isEmojisEnabled()\n\t\t\t.then(response => {\n\t\t\t\tif (response !== this.state.enableEmojis) {\n\t\t\t\t\tthis.setState({ enableEmojis: response });\n\t\t\t\t}\n\t\t\t})\n\t\t\t.catch(error => {\n\t\t\t\tif (this.state.enableEmojis !== false) {\n\t\t\t\t\tthis.setState({ enableEmojis: false });\n\t\t\t\t}\n\t\t\t});\n\t};\n\n\t/**\n\t * if sharing collborative document feature is disabled\n\t */\n\tenableCollaborativeDocument = () => {\n\t\tthis.context.FeatureRestriction.isCollaborativeDocumentEnabled()\n\t\t\t.then(response => {\n\t\t\t\tif (response !== this.state.enableCollaborativeDocument) {\n\t\t\t\t\tthis.setState({ enableCollaborativeDocument: response });\n\t\t\t\t}\n\t\t\t})\n\t\t\t.catch(error => {\n\t\t\t\tif (this.state.enableCollaborativeDocument !== false) {\n\t\t\t\t\tthis.setState({ enableCollaborativeDocument: false });\n\t\t\t\t}\n\t\t\t});\n\t};\n\n\t/**\n\t * if sharing collborative whiteboard feature is disabled\n\t */\n\tenableCollaborativeWhiteboard = () => {\n\t\tthis.context.FeatureRestriction.isCollaborativeWhiteBoardEnabled()\n\t\t\t.then(response => {\n\t\t\t\tif (response !== this.state.enableCollaborativeWhiteboard) {\n\t\t\t\t\tthis.setState({ enableCollaborativeWhiteboard: response });\n\t\t\t\t}\n\t\t\t})\n\t\t\t.catch(error => {\n\t\t\t\tif (this.state.enableCollaborativeWhiteboard !== false) {\n\t\t\t\t\tthis.setState({ enableCollaborativeWhiteboard: false });\n\t\t\t\t}\n\t\t\t});\n\t};\n\n\tfocusOnMessageComposer = () => {\n\t\tif (this.messageInputRef && this.messageInputRef.current) {\n\t\t\tthis.messageInputRef.current.focus();\n\t\t}\n\t};\n\n\tpasteHtmlAtCaret(html, selectPastedContent) {\n\t\tvar sel, range;\n\t\tconst chatWindow = this.context.UIKitSettings.chatWindow;\n\t\tif (chatWindow.getSelection) {\n\t\t\t// IE9 and non-IE\n\t\t\tsel = chatWindow.getSelection();\n\t\t\tif (sel.getRangeAt && sel.rangeCount) {\n\t\t\t\trange = sel.getRangeAt(0);\n\t\t\t\trange.deleteContents();\n\n\t\t\t\t// Range.createContextualFragment() would be useful here but is\n\t\t\t\t// only relatively recently standardized and is not supported in\n\t\t\t\t// some browsers (IE9, for one)\n\t\t\t\tvar el = document.createElement(\"div\");\n\t\t\t\tel.innerText = html;\n\t\t\t\tvar frag = document.createDocumentFragment(),\n\t\t\t\t\tnode,\n\t\t\t\t\tlastNode;\n\t\t\t\twhile ((node = el.firstChild)) {\n\t\t\t\t\tlastNode = frag.appendChild(node);\n\t\t\t\t}\n\t\t\t\tvar firstNode = frag.firstChild;\n\t\t\t\trange.insertNode(frag);\n\n\t\t\t\t// Preserve the selection\n\t\t\t\tif (lastNode) {\n\t\t\t\t\trange = range.cloneRange();\n\t\t\t\t\trange.setStartAfter(lastNode);\n\t\t\t\t\tif (selectPastedContent) {\n\t\t\t\t\t\trange.setStartBefore(firstNode);\n\t\t\t\t\t} else {\n\t\t\t\t\t\trange.collapse(true);\n\t\t\t\t\t}\n\t\t\t\t\tsel.removeAllRanges();\n\t\t\t\t\tsel.addRange(range);\n\t\t\t\t}\n\t\t\t}\n\t\t} else if ((sel = document.selection) && sel.type !== \"Control\") {\n\t\t\t// IE < 9\n\t\t\tvar originalRange = sel.createRange();\n\t\t\toriginalRange.collapse(true);\n\t\t\tsel.createRange().pasteHTML(html);\n\t\t\tif (selectPastedContent) {\n\t\t\t\trange = sel.createRange();\n\t\t\t\trange.setEndPoint(\"StartToStart\", originalRange);\n\t\t\t\trange.select();\n\t\t\t}\n\t\t}\n\t}\n\n\temojiClicked = (emoji, event) => {\n\t\tif (this.state.messageToReact) {\n\t\t\tthis.reactToMessages(emoji);\n\t\t\treturn;\n\t\t}\n\n\t\tconst element = this.messageInputRef.current;\n\t\telement.focus();\n\t\tthis.pasteHtmlAtCaret(emoji.native, false);\n\t\tthis.setState({ messageInput: element.innerText, messageType: \"text\" });\n\t};\n\n\tchangeHandler = event => {\n\t\tthis.startTyping();\n\n\t\tconst elem = event.currentTarget;\n\t\tlet messageInput = elem.textContent.trim();\n\n\t\tif (!messageInput.length) {\n\t\t\tevent.currentTarget.textContent = messageInput;\n\t\t\t//return false;\n\t\t}\n\n\t\tthis.setState({ messageInput: elem.innerText, messageType: \"text\" });\n\t};\n\n\ttoggleFilePicker = () => {\n\t\tconst currentState = !this.state.showFilePicker;\n\t\tthis.setState({ showFilePicker: currentState });\n\t};\n\n\topenFileDialogue = fileType => {\n\t\tswitch (fileType) {\n\t\t\tcase \"image\":\n\t\t\t\tthis.imageUploaderRef.current.click();\n\t\t\t\tbreak;\n\t\t\tcase \"file\":\n\t\t\t\tthis.fileUploaderRef.current.click();\n\t\t\t\tbreak;\n\t\t\tcase \"audio\":\n\t\t\t\tthis.audioUploaderRef.current.click();\n\t\t\t\tbreak;\n\t\t\tcase \"video\":\n\t\t\t\tthis.videoUploaderRef.current.click();\n\t\t\t\tbreak;\n\t\t\tdefault:\n\t\t\t\tbreak;\n\t\t}\n\t};\n\n\tonImageChange = e => {\n\t\tif (!this.imageUploaderRef.current.files[\"0\"]) {\n\t\t\treturn false;\n\t\t}\n\n\t\tconst uploadedFile = this.imageUploaderRef.current.files[\"0\"];\n\n\t\tvar reader = new FileReader(); // Creating reader instance from FileReader() API\n\t\treader.addEventListener(\n\t\t\t\"load\",\n\t\t\tevent => {\n\t\t\t\t// Setting up base64 URL on image\n\n\t\t\t\tconst newFile = new File([reader.result], uploadedFile.name, uploadedFile);\n\t\t\t\tthis.sendMediaMessage(newFile, CometChat.MESSAGE_TYPE.IMAGE);\n\t\t\t},\n\t\t\tfalse,\n\t\t);\n\n\t\treader.readAsArrayBuffer(uploadedFile);\n\t};\n\n\tonFileChange = e => {\n\t\tif (!this.fileUploaderRef.current.files[\"0\"]) {\n\t\t\treturn false;\n\t\t}\n\n\t\tconst uploadedFile = this.fileUploaderRef.current.files[\"0\"];\n\n\t\tvar reader = new FileReader(); // Creating reader instance from FileReader() API\n\t\treader.addEventListener(\n\t\t\t\"load\",\n\t\t\tevent => {\n\t\t\t\t// Setting up base64 URL on image\n\n\t\t\t\tconst newFile = new File([reader.result], uploadedFile.name, uploadedFile);\n\t\t\t\tthis.sendMediaMessage(newFile, CometChat.MESSAGE_TYPE.FILE);\n\t\t\t},\n\t\t\tfalse,\n\t\t);\n\n\t\treader.readAsArrayBuffer(uploadedFile);\n\t};\n\n\tonAudioChange = e => {\n\t\tif (!this.audioUploaderRef.current.files[\"0\"]) {\n\t\t\treturn false;\n\t\t}\n\n\t\tconst uploadedFile = this.audioUploaderRef.current.files[\"0\"];\n\n\t\tvar reader = new FileReader(); // Creating reader instance from FileReader() API\n\t\treader.addEventListener(\n\t\t\t\"load\",\n\t\t\t() => {\n\t\t\t\t// Setting up base64 URL on image\n\n\t\t\t\tconst newFile = new File([reader.result], uploadedFile.name, uploadedFile);\n\t\t\t\tthis.sendMediaMessage(newFile, CometChat.MESSAGE_TYPE.AUDIO);\n\t\t\t},\n\t\t\tfalse,\n\t\t);\n\n\t\treader.readAsArrayBuffer(uploadedFile);\n\t};\n\n\tonVideoChange = e => {\n\t\tif (!this.videoUploaderRef.current.files[\"0\"]) {\n\t\t\treturn false;\n\t\t}\n\n\t\tconst uploadedFile = this.videoUploaderRef.current.files[\"0\"];\n\n\t\tvar reader = new FileReader(); // Creating reader instance from FileReader() API\n\t\treader.addEventListener(\n\t\t\t\"load\",\n\t\t\t() => {\n\t\t\t\t// Setting up base64 URL on image\n\n\t\t\t\tconst newFile = new File([reader.result], uploadedFile.name, uploadedFile);\n\t\t\t\tthis.sendMediaMessage(newFile, CometChat.MESSAGE_TYPE.VIDEO);\n\t\t\t},\n\t\t\tfalse,\n\t\t);\n\n\t\treader.readAsArrayBuffer(uploadedFile);\n\t};\n\n\tgetReceiverDetails = () => {\n\t\tlet receiverId;\n\t\tlet receiverType;\n\n\t\tif (this.context.type === CometChat.ACTION_TYPE.TYPE_USER) {\n\t\t\treceiverId = this.context.item.uid;\n\t\t\treceiverType = CometChat.RECEIVER_TYPE.USER;\n\t\t} else if (this.context.type === CometChat.ACTION_TYPE.TYPE_GROUP) {\n\t\t\treceiverId = this.context.item.guid;\n\t\t\treceiverType = CometChat.RECEIVER_TYPE.GROUP;\n\t\t}\n\n\t\treturn { receiverId: receiverId, receiverType: receiverType };\n\t};\n\n\tsendMediaMessage = (messageInput, messageType) => {\n\t\tthis.toggleFilePicker();\n\t\tthis.endTyping(null, null);\n\n\t\tconst { receiverId, receiverType } = this.getReceiverDetails();\n\n\t\tlet mediaMessage = new CometChat.MediaMessage(receiverId, messageInput, messageType, receiverType);\n\t\tif (this.props.parentMessageId) {\n\t\t\tmediaMessage.setParentMessageId(this.props.parentMessageId);\n\t\t}\n\n\t\tmediaMessage.setSender(this.loggedInUser);\n\t\tmediaMessage.setReceiver(this.context.type);\n\t\tmediaMessage.setType(messageType);\n\t\tmediaMessage.setMetadata({\n\t\t\t[enums.CONSTANTS[\"FILE_METADATA\"]]: messageInput,\n\t\t});\n\t\tmediaMessage._composedAt = getUnixTimestamp();\n\t\tmediaMessage._id = ID();\n\n\t\tSoundManager.play(enums.CONSTANTS.AUDIO[\"OUTGOING_MESSAGE\"], this.context);\n\t\tthis.props.actionGenerated(enums.ACTIONS[\"MESSAGE_COMPOSED\"], [mediaMessage]);\n\n\t\tCometChat.sendMessage(mediaMessage)\n\t\t\t.then(message => {\n\t\t\t\tconst newMessageObj = { ...message, _id: mediaMessage._id };\n\t\t\t\tthis.props.actionGenerated(enums.ACTIONS[\"MESSAGE_SENT\"], [newMessageObj]);\n\t\t\t})\n\t\t\t.catch(error => {\n\t\t\t\tconst newMessageObj = { ...mediaMessage, error: error };\n\t\t\t\tthis.props.actionGenerated(enums.ACTIONS[\"ERROR_IN_SENDING_MESSAGE\"], [newMessageObj]);\n\t\t\t});\n\t};\n\n\tsendMessageOnEnter = event => {\n\t\tif (event.keyCode === 13 && !event.shiftKey) {\n\t\t\tevent.preventDefault();\n\t\t\tthis.sendTextMessage();\n\t\t\treturn true;\n\t\t}\n\t};\n\n\tsendTextMessage = () => {\n\t\tif (this.state.emojiViewer) {\n\t\t\tthis.setState({ emojiViewer: false });\n\t\t}\n\n\t\tif (!this.state.messageInput.trim().length) {\n\t\t\treturn false;\n\t\t}\n\n\t\tif (this.state.messageToBeEdited) {\n\t\t\tthis.editMessage();\n\t\t\treturn false;\n\t\t}\n\n\t\tthis.endTyping(null, null);\n\n\t\tlet { receiverId, receiverType } = this.getReceiverDetails();\n\t\tlet messageInput = this.state.messageInput.trim();\n\n\t\tlet textMessage = new CometChat.TextMessage(receiverId, messageInput, receiverType);\n\t\tif (this.props.parentMessageId) {\n\t\t\ttextMessage.setParentMessageId(this.props.parentMessageId);\n\t\t}\n\t\ttextMessage.setSender(this.loggedInUser);\n\t\ttextMessage.setReceiver(this.context.type);\n\t\ttextMessage.setText(messageInput);\n\t\ttextMessage._composedAt = getUnixTimestamp();\n\t\ttextMessage._id = ID();\n\n\t\tthis.props.actionGenerated(enums.ACTIONS[\"MESSAGE_COMPOSED\"], [textMessage]);\n\t\tthis.setState({ messageInput: \"\", replyPreview: false });\n\n\t\tthis.messageInputRef.current.textContent = \"\";\n\t\tSoundManager.play(enums.CONSTANTS.AUDIO[\"OUTGOING_MESSAGE\"], this.context);\n\n\t\tCometChat.sendMessage(textMessage)\n\t\t\t.then(message => {\n\t\t\t\tconst newMessageObj = { ...message, _id: textMessage._id };\n\t\t\t\tthis.props.actionGenerated(enums.ACTIONS[\"MESSAGE_SENT\"], [newMessageObj]);\n\t\t\t})\n\t\t\t.catch(error => {\n\t\t\t\tconst newMessageObj = { ...textMessage, error: error };\n\t\t\t\tthis.props.actionGenerated(enums.ACTIONS[\"ERROR_IN_SENDING_MESSAGE\"], [newMessageObj]);\n\n\t\t\t\tif (error && error.hasOwnProperty(\"code\") && error.code === \"ERR_GUID_NOT_FOUND\") {\n\t\t\t\t\t//this.context.setDeletedGroupId(this.context.item.guid);\n\t\t\t\t}\n\t\t\t});\n\t};\n\n\teditMessage = () => {\n\t\tthis.endTyping(null, null);\n\n\t\tconst messageToBeEdited = this.props.messageToBeEdited;\n\n\t\tlet { receiverId, receiverType } = this.getReceiverDetails();\n\t\tlet messageText = this.state.messageInput.trim();\n\t\tlet textMessage = new CometChat.TextMessage(receiverId, messageText, receiverType);\n\t\ttextMessage.setId(messageToBeEdited.id);\n\n\t\tconst newMessage = Object.assign({}, textMessage, { messageFrom: messageToBeEdited.messageFrom });\n\t\tthis.props.actionGenerated(enums.ACTIONS[\"MESSAGE_EDITED\"], newMessage);\n\n\t\tthis.setState({ messageInput: \"\" });\n\t\tthis.messageInputRef.current.textContent = \"\";\n\t\tSoundManager.play(enums.CONSTANTS.AUDIO[\"OUTGOING_MESSAGE\"], this.context);\n\n\t\tthis.closeEditPreview();\n\n\t\tCometChat.editMessage(textMessage)\n\t\t\t.then(message => {\n\t\t\t\tthis.props.actionGenerated(enums.ACTIONS[\"MESSAGE_EDITED\"], { ...message });\n\t\t\t})\n\t\t\t.catch(error => this.props.actionGenerated(enums.ACTIONS[\"ERROR\"], [], \"SOMETHING_WRONG\"));\n\t};\n\n\tcloseEditPreview = () => {\n\t\tthis.props.actionGenerated(enums.ACTIONS[\"CLEAR_EDIT_PREVIEW\"]);\n\t};\n\n\tstartTyping = (timer, metadata) => {\n\t\tlet typingInterval = timer || 5000;\n\n\t\t//if typing indicator feature is disabled\n\t\tif (this.state.enableTypingIndicator === false) {\n\t\t\treturn false;\n\t\t}\n\n\t\tif (this.isTyping) {\n\t\t\treturn false;\n\t\t}\n\n\t\tlet { receiverId, receiverType } = this.getReceiverDetails();\n\t\tlet typingMetadata = metadata || undefined;\n\n\t\tlet typingNotification = new CometChat.TypingIndicator(receiverId, receiverType, typingMetadata);\n\t\tCometChat.startTyping(typingNotification);\n\n\t\tthis.isTyping = setTimeout(() => {\n\t\t\tthis.endTyping(null, typingMetadata);\n\t\t}, typingInterval);\n\t};\n\n\tendTyping = (event, metadata) => {\n\t\t//fixing synthetic issue\n\t\tif (event) {\n\t\t\tevent.persist();\n\t\t}\n\n\t\t//if typing indicator is disabled for chat wigdet in dashboard\n\t\tif (this.state.enableTypingIndicator === false) {\n\t\t\treturn false;\n\t\t}\n\n\t\tlet { receiverId, receiverType } = this.getReceiverDetails();\n\n\t\tlet typingMetadata = metadata || undefined;\n\n\t\tlet typingNotification = new CometChat.TypingIndicator(receiverId, receiverType, typingMetadata);\n\t\tCometChat.endTyping(typingNotification);\n\n\t\tclearTimeout(this.isTyping);\n\t\tthis.isTyping = null;\n\t};\n\n\ttoggleStickerPicker = () => {\n\t\tconst stickerViewer = this.state.stickerViewer;\n\t\tthis.setState({ stickerViewer: !stickerViewer, emojiViewer: false });\n\t};\n\n\ttoggleEmojiPicker = () => {\n\t\tconst emojiViewer = this.state.emojiViewer;\n\t\tthis.setState({ emojiViewer: !emojiViewer, stickerViewer: false });\n\t};\n\n\ttoggleCreatePoll = () => {\n\t\tconst createPoll = this.state.createPoll;\n\t\tthis.setState({ createPoll: !createPoll });\n\t};\n\n\ttoggleCollaborativeDocument = () => {\n\t\tconst { receiverId, receiverType } = this.getReceiverDetails();\n\t\tCometChat.callExtension(\"document\", \"POST\", \"v1/create\", {\n\t\t\treceiver: receiverId,\n\t\t\treceiverType: receiverType,\n\t\t})\n\t\t\t.then(response => {\n\t\t\t\t// Response with document url\n\t\t\t\tif (response && response.hasOwnProperty(\"document_url\")) {\n\t\t\t\t\tthis.context.setToastMessage(\"success\", \"DOCUMENT_SUCCESS\");\n\t\t\t\t} else {\n\t\t\t\t\tthis.context.setToastMessage(\"error\", \"DOCUMENT_FAIL\");\n\t\t\t\t}\n\t\t\t})\n\t\t\t.catch(error => this.props.actionGenerated(enums.ACTIONS[\"ERROR\"], [], \"SOMETHING_WRONG\"));\n\t};\n\n\ttoggleCollaborativeBoard = () => {\n\t\tconst { receiverId, receiverType } = this.getReceiverDetails();\n\t\tCometChat.callExtension(\"whiteboard\", \"POST\", \"v1/create\", {\n\t\t\treceiver: receiverId,\n\t\t\treceiverType: receiverType,\n\t\t})\n\t\t\t.then(response => {\n\t\t\t\t// Response with board_url\n\t\t\t\tif (response && response.hasOwnProperty(\"board_url\")) {\n\t\t\t\t\tthis.context.setToastMessage(\"success\", \"WHITEBOARD_SUCCESS\");\n\t\t\t\t} else {\n\t\t\t\t\tthis.context.setToastMessage(\"error\", \"WHITEBOARD_FAIL\");\n\t\t\t\t}\n\t\t\t})\n\t\t\t.catch(error => this.props.actionGenerated(enums.ACTIONS[\"ERROR\"], [], \"SOMETHING_WRONG\"));\n\t};\n\n\tcloseCreatePoll = () => {\n\t\tthis.toggleCreatePoll();\n\t\tthis.toggleFilePicker();\n\t};\n\n\tactionHandler = (action, message) => {\n\t\tswitch (action) {\n\t\t\tcase enums.ACTIONS[\"POLL_CREATED\"]:\n\t\t\t\tthis.toggleCreatePoll();\n\t\t\t\tthis.toggleFilePicker();\n\t\t\t\tbreak;\n\t\t\tcase enums.ACTIONS[\"SEND_STICKER\"]:\n\t\t\t\tthis.sendSticker(message);\n\t\t\t\tbreak;\n\t\t\tcase enums.ACTIONS[\"CLOSE_STICKER_KEYBOARD\"]:\n\t\t\t\tthis.toggleStickerPicker();\n\t\t\t\tbreak;\n\t\t\tdefault:\n\t\t\t\tbreak;\n\t\t}\n\t};\n\n\tsendSticker = stickerMessage => {\n\t\tconst { receiverId, receiverType } = this.getReceiverDetails();\n\n\t\tconst customData = { sticker_url: stickerMessage.stickerUrl, sticker_name: stickerMessage.stickerName };\n\t\tconst customType = enums.CUSTOM_TYPE_STICKER;\n\n\t\tconst customMessage = new CometChat.CustomMessage(receiverId, receiverType, customType, customData);\n\t\tif (this.props.parentMessageId) {\n\t\t\tcustomMessage.setParentMessageId(this.props.parentMessageId);\n\t\t}\n\t\tcustomMessage.setSender(this.loggedInUser);\n\t\tcustomMessage.setReceiver(this.context.type);\n\t\tcustomMessage.setMetadata({ incrementUnreadCount: true });\n\t\tcustomMessage._composedAt = getUnixTimestamp();\n\t\tcustomMessage._id = ID();\n\n\t\tthis.props.actionGenerated(enums.ACTIONS[\"MESSAGE_COMPOSED\"], [customMessage]);\n\t\tSoundManager.play(enums.CONSTANTS.AUDIO[\"OUTGOING_MESSAGE\"], this.context);\n\n\t\tCometChat.sendCustomMessage(customMessage)\n\t\t\t.then(message => {\n\t\t\t\tconst newMessageObj = { ...message, _id: customMessage._id };\n\t\t\t\tthis.props.actionGenerated(enums.ACTIONS[\"MESSAGE_SENT\"], [newMessageObj]);\n\t\t\t})\n\t\t\t.catch(error => {\n\t\t\t\tconst newMessageObj = { ...customMessage, error: error };\n\t\t\t\tthis.props.actionGenerated(enums.ACTIONS[\"ERROR_IN_SENDING_MESSAGE\"], [newMessageObj]);\n\t\t\t});\n\t};\n\n\tsendReplyMessage = messageInput => {\n\t\tlet { receiverId, receiverType } = this.getReceiverDetails();\n\n\t\tlet textMessage = new CometChat.TextMessage(receiverId, messageInput, receiverType);\n\t\tif (this.props.parentMessageId) {\n\t\t\ttextMessage.setParentMessageId(this.props.parentMessageId);\n\t\t}\n\t\ttextMessage.setSender(this.loggedInUser);\n\t\ttextMessage.setReceiver(this.context.type);\n\t\ttextMessage._composedAt = getUnixTimestamp();\n\t\ttextMessage._id = ID();\n\n\t\tthis.props.actionGenerated(enums.ACTIONS[\"MESSAGE_COMPOSED\"], [textMessage]);\n\n\t\tSoundManager.play(enums.CONSTANTS.AUDIO[\"OUTGOING_MESSAGE\"], this.context);\n\t\tthis.setState({ replyPreview: null });\n\n\t\tCometChat.sendMessage(textMessage)\n\t\t\t.then(message => {\n\t\t\t\tconst newMessageObj = { ...message, _id: textMessage._id };\n\t\t\t\tthis.props.actionGenerated(enums.ACTIONS[\"MESSAGE_SENT\"], [newMessageObj]);\n\t\t\t})\n\t\t\t.catch(error => {\n\t\t\t\tconst newMessageObj = { ...textMessage, error: error };\n\t\t\t\tthis.props.actionGenerated(enums.ACTIONS[\"ERROR_IN_SENDING_MESSAGE\"], [newMessageObj]);\n\t\t\t});\n\t};\n\n\tclearReplyPreview = () => {\n\t\tthis.setState({ replyPreview: null });\n\t};\n\n\tstartLiveReaction = event => {\n\t\t//if a live reaction is already in progress, return\n\t\tif (this.animationInProgress === true) {\n\t\t\treturn false;\n\t\t}\n\n\t\tif (this.timeout) {\n\t\t\tclearTimeout(this.timeout);\n\t\t}\n\n\t\t//fetch the interval from the constants\n\t\tconst liveReactionInterval = enums.CONSTANTS[\"LIVE_REACTION_INTERVAL\"];\n\n\t\t//mount the live reaction component\n\t\tthis.props.actionGenerated(enums.ACTIONS[\"SEND_LIVE_REACTION\"]);\n\t\tthis.sendTransientMessage();\n\n\t\t//set the timer to stop the live reaction\n\t\tthis.timeout = setTimeout(this.stopLiveReaction, liveReactionInterval);\n\t};\n\n\tstopLiveReaction = () => {\n\t\t\n\t\t//unmount the live reaction component\n\t\tthis.props.actionGenerated(enums.ACTIONS[\"STOP_LIVE_REACTION\"]);\n\n\t\t//set the animation flag to false\n\t\tthis.animationInProgress = false;\n\t};\n\t\n\t\n\tsendTransientMessage = () => {\n\t\t//fetching the metadata type from constants\n\t\tconst metadata = { type: enums.CONSTANTS[\"METADATA_TYPE_LIVEREACTION\"], reaction: this.props.reaction };\n\n\t\tconst receiverType = this?.context?.type === CometChat.ACTION_TYPE.TYPE_USER ? CometChat.ACTION_TYPE.TYPE_USER : CometChat.ACTION_TYPE.TYPE_GROUP;\n\t\tconst receiverId = this?.context?.type === CometChat.ACTION_TYPE.TYPE_USER ? this?.context?.item?.uid : this?.context?.item?.guid;\n\n\t\tlet transientMessage = new CometChat.TransientMessage(receiverId, receiverType, metadata);\n\t\tCometChat.sendTransientMessage(transientMessage);\n\t};\n\n\treactToMessages = emoji => {\n\n\t\t//close the emoji keyboard\n\t\tthis.toggleEmojiPicker();\n\n\t\t//message object data structure\n\t\tlet messageObject = { ...this.state.messageToReact };\n\t\tlet newMessageObject = {};\n\t\tlet reactionObject = {};\n\n\t\tconst userObject = {};\n\t\tif (this.loggedInUser.avatar && this.loggedInUser.avatar.length) {\n\t\t\tuserObject[\"name\"] = this.loggedInUser.name;\n\t\t\tuserObject[\"avatar\"] = this.loggedInUser.avatar;\n\t\t} else {\n\t\t\tuserObject[\"name\"] = this.loggedInUser.name;\n\t\t}\n\n\t\tconst emojiObject = {\n\t\t\t[emoji.colons]: { [this.loggedInUser.uid]: userObject },\n\t\t};\n\n\t\tconst reactionExtensionsData = checkMessageForExtensionsData(messageObject, \"reactions\");\n\t\t//if the message object has reactions extension data in metadata\n\t\tif (reactionExtensionsData) {\n\t\t\t//if the reactions metadata has the selected emoji/reaction\n\t\t\tif (reactionExtensionsData[emoji.colons]) {\n\t\t\t\t//if the reactions metadata has the selected emoji/reaction for the loggedin user\n\t\t\t\tif (reactionExtensionsData[emoji.colons][this.loggedInUser.uid]) {\n\t\t\t\t\treactionObject = {\n\t\t\t\t\t\t...messageObject[\"metadata\"][\"@injected\"][\"extensions\"][\"reactions\"],\n\t\t\t\t\t};\n\t\t\t\t\tdelete reactionObject[emoji.colons][this.loggedInUser.uid];\n\t\t\t\t} else {\n\t\t\t\t\treactionObject = {\n\t\t\t\t\t\t...messageObject[\"metadata\"][\"@injected\"][\"extensions\"][\"reactions\"],\n\t\t\t\t\t\t[emoji.colons]: {\n\t\t\t\t\t\t\t...messageObject[\"metadata\"][\"@injected\"][\"extensions\"][\"reactions\"][emoji.colons],\n\t\t\t\t\t\t\t[this.loggedInUser.uid]: userObject,\n\t\t\t\t\t\t},\n\t\t\t\t\t};\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\treactionObject = {\n\t\t\t\t\t...messageObject[\"metadata\"][\"@injected\"][\"extensions\"][\"reactions\"],\n\t\t\t\t\t...emojiObject,\n\t\t\t\t};\n\t\t\t}\n\t\t} else {\n\t\t\tif (messageObject.hasOwnProperty(\"metadata\") === false) {\n\t\t\t\tmessageObject[\"metadata\"] = {};\n\t\t\t}\n\n\t\t\tif (messageObject[\"metadata\"].hasOwnProperty(\"@injected\") === false) {\n\t\t\t\tmessageObject[\"metadata\"][\"@injected\"] = {};\n\t\t\t}\n\n\t\t\tif (messageObject[\"metadata\"][\"@injected\"].hasOwnProperty(\"extensions\") === false) {\n\t\t\t\tmessageObject[\"metadata\"][\"@injected\"][\"extensions\"] = {};\n\t\t\t}\n\n\t\t\tif (messageObject[\"metadata\"][\"@injected\"][\"extensions\"].hasOwnProperty(\"reactions\") === false) {\n\t\t\t\tmessageObject[\"metadata\"][\"@injected\"][\"extensions\"][\"reactions\"] = {};\n\t\t\t}\n\n\t\t\treactionObject = {\n\t\t\t\t...emojiObject,\n\t\t\t};\n\t\t}\n\n\t\tconst metadatObject = {\n\t\t\tmetadata: {\n\t\t\t\t...messageObject[\"metadata\"],\n\t\t\t\t\"@injected\": {\n\t\t\t\t\t...messageObject[\"metadata\"][\"@injected\"],\n\t\t\t\t\textensions: {\n\t\t\t\t\t\t...messageObject[\"metadata\"][\"@injected\"][\"extensions\"],\n\t\t\t\t\t\treactions: {\n\t\t\t\t\t\t\t...reactionObject,\n\t\t\t\t\t\t},\n\t\t\t\t\t},\n\t\t\t\t},\n\t\t\t},\n\t\t};\n\n\t\tnewMessageObject = {\n\t\t\t...messageObject,\n\t\t\tdata: {\n\t\t\t\t...messageObject,\n\t\t\t\t...metadatObject,\n\t\t\t},\n\t\t\t...metadatObject,\n\t\t};\n\n\t\tthis.props.actionGenerated(enums.ACTIONS[\"MESSAGE_EDITED\"], newMessageObject);\n\n\t\tCometChat.callExtension(\"reactions\", \"POST\", \"v1/react\", {\n\t\t\tmsgId: this.state.messageToReact.id,\n\t\t\temoji: emoji.colons,\n\t\t})\n\t\t.then(response => {\n\t\t\t// Reaction failed\n\t\t\tif (!response || !response.success || response.success !== true) {\n\t\t\t\tthis.props.actionGenerated(enums.ACTIONS[\"ERROR\"], [], \"SOMETHING_WRONG\");\n\t\t\t}\n\t\t})\n\t\t.catch(error => this.props.actionGenerated(enums.ACTIONS[\"ERROR\"], [], \"SOMETHING_WRONG\"));\n\t};\n\n\trender() {\n\t\tlet liveReactionBtn = null;\n\t\tconst liveReactionText = \"Thả tim\"\n\t\t// const liveReactionText = Translator.translate(\"LIVE_REACTION\", this.context.language);\n\t\tif (enums.CONSTANTS[\"LIVE_REACTIONS\"].hasOwnProperty(this.props.reaction)) {\n\t\t\tconst reactionName = this.props.reaction;\n\t\t\tliveReactionBtn = (\n\t\t\t\t<div title={liveReactionText} css={reactionBtnStyle()} className=\"button__reactions\" onClick={this.startLiveReaction}>\n\t\t\t\t\t<img src={heartIcon} alt={reactionName} />\n\t\t\t\t</div>\n\t\t\t);\n\t\t}\n\n\t\tlet disabledState = false;\n\t\tif (this.context.item.blockedByMe) {\n\t\t\tdisabledState = true;\n\t\t}\n\n\t\tconst docText = \"File\";\n\t\t// const docText = Translator.translate(\"ATTACH_FILE\", this.context.language);\n\t\tlet docs = (\n\t\t\t<div\n\t\t\t\ttitle={docText}\n\t\t\t\tcss={fileItemStyle(docIcon, this.context)}\n\t\t\t\tclassName=\"filelist__item item__file\"\n\t\t\t\tonClick={() => {\n\t\t\t\t\tthis.openFileDialogue(\"file\");\n\t\t\t\t}}>\n\t\t\t\t<i></i>\n\t\t\t\t<input onChange={this.onFileChange} type=\"file\" id=\"file\" ref={this.fileUploaderRef} />\n\t\t\t</div>\n\t\t);\n\n\t\t// const videoText = Translator.translate(\"ATTACH_VIDEO\", this.context.language);\n\t\t// const audioText = Translator.translate(\"ATTACH_AUDIO\", this.context.language);\n\t\t// const imageText = Translator.translate(\"ATTACH_IMAGE\", this.context.language);\n\t\tconst videoText = \"Video\"\n\t\tconst audioText = \"Âm thanh\"\n\t\tconst imageText = \"Ảnh\"\n\t\tlet avp = (\n\t\t\t<React.Fragment>\n\t\t\t\t<div\n\t\t\t\t\ttitle={videoText}\n\t\t\t\t\tcss={fileItemStyle(videoIcon, this.context)}\n\t\t\t\t\tclassName=\"filelist__item item__video\"\n\t\t\t\t\tonClick={() => {\n\t\t\t\t\t\tthis.openFileDialogue(\"video\");\n\t\t\t\t\t}}>\n\t\t\t\t\t<i></i>\n\t\t\t\t\t<input onChange={this.onVideoChange} accept=\"video/*\" type=\"file\" ref={this.videoUploaderRef} />\n\t\t\t\t</div>\n\t\t\t\t<div\n\t\t\t\t\ttitle={audioText}\n\t\t\t\t\tcss={fileItemStyle(audioIcon, this.context)}\n\t\t\t\t\tclassName=\"filelist__item item__audio\"\n\t\t\t\t\tonClick={() => {\n\t\t\t\t\t\tthis.openFileDialogue(\"audio\");\n\t\t\t\t\t}}>\n\t\t\t\t\t<i></i>\n\t\t\t\t\t<input onChange={this.onAudioChange} accept=\"audio/*\" type=\"file\" ref={this.audioUploaderRef} />\n\t\t\t\t</div>\n\t\t\t\t<div\n\t\t\t\t\ttitle={imageText}\n\t\t\t\t\tcss={fileItemStyle(imageIcon, this.context)}\n\t\t\t\t\tclassName=\"filelist__item item__image\"\n\t\t\t\t\tonClick={() => {\n\t\t\t\t\t\tthis.openFileDialogue(\"image\");\n\t\t\t\t\t}}>\n\t\t\t\t\t<i></i>\n\t\t\t\t\t<input onChange={this.onImageChange} accept=\"image/*\" type=\"file\" ref={this.imageUploaderRef} />\n\t\t\t\t</div>\n\t\t\t</React.Fragment>\n\t\t);\n\n\t\tconst pollText = Translator.translate(\"CREATE_POLL\", this.context.language);\n\t\tlet createPollBtn = (\n\t\t\t<div title={pollText} css={fileItemStyle(pollIcon, this.context)} className=\"filelist__item item__poll\" onClick={this.toggleCreatePoll}>\n\t\t\t\t<i></i>\n\t\t\t</div>\n\t\t);\n\n\t\tconst collaborativeDocText = Translator.translate(\"COLLABORATE_USING_DOCUMENT\", this.context.language);\n\t\tlet collaborativeDocBtn = (\n\t\t\t<div title={collaborativeDocText} css={fileItemStyle(documentIcon, this.context)} className=\"filelist__item item__document\" onClick={this.toggleCollaborativeDocument}>\n\t\t\t\t<i></i>\n\t\t\t</div>\n\t\t);\n\n\t\tconst collaborativeBoardText = Translator.translate(\"COLLABORATE_USING_WHITEBOARD\", this.context.language);\n\t\tlet collaborativeBoardBtn = (\n\t\t\t<div title={collaborativeBoardText} css={fileItemStyle(whiteboardIcon, this.context)} className=\"filelist__item item__whiteboard\" onClick={this.toggleCollaborativeBoard}>\n\t\t\t\t<i></i>\n\t\t\t</div>\n\t\t);\n\n\t\t// const emojiText = Translator.translate(\"EMOJI\", this.context.language);\n\t\tconst emojiText = \"Biểu cảm\"\n\t\tlet emojiBtn = (\n\t\t\t<div\n\t\t\t\ttitle={emojiText}\n\t\t\t\tcss={emojiButtonStyle(insertEmoticon, this.context)}\n\t\t\t\tclassName=\"button__emoji\"\n\t\t\t\tonClick={() => {\n\t\t\t\t\tthis.toggleEmojiPicker();\n\t\t\t\t\tthis.setState({ messageToReact: \"\" });\n\t\t\t\t}}>\n\t\t\t\t<i></i>\n\t\t\t</div>\n\t\t);\n\n\t\tconst StickerText = \"Nhãn dán\"\n\t\t// const StickerText = Translator.translate(\"STICKER\", this.context.language);\n\t\tlet stickerBtn = (\n\t\t\t<div title={StickerText} css={stickerBtnStyle(stickerIcon, this.context)} className=\"button__sticker\" onClick={this.toggleStickerPicker}>\n\t\t\t\t<i></i>\n\t\t\t</div>\n\t\t);\n\n\t\tconst sendMessageText = \"Gửi\"\n\t\t// const sendMessageText = Translator.translate(\"SEND_MESSAGE\", this.context.language);\n\t\tlet sendBtn = (\n\t\t\t<div title={sendMessageText} css={sendButtonStyle(sendBlue, this.context)} className=\"button__send\" onClick={this.sendTextMessage}>\n\t\t\t\t<i></i>\n\t\t\t</div>\n\t\t);\n\n\t\t//if uploading photos, videos feature is disabled\n\t\tif (this.state.enablePhotosVideos === false) {\n\t\t\tavp = null;\n\t\t}\n\n\t\t//if files upload are disabled for chat widget in dashboard\n\t\tif (this.state.enableFiles === false) {\n\t\t\tdocs = null;\n\t\t}\n\n\t\t//if polls feature is disabled\n\t\tif (this.state.enablePolls === false || this.props.parentMessageId) {\n\t\t\tcreatePollBtn = null;\n\t\t}\n\n\t\t//if collaborative_document are disabled for chat widget in dashboard\n\t\tif (this.state.enableCollaborativeDocument === false || this.props.parentMessageId) {\n\t\t\tcollaborativeDocBtn = null;\n\t\t}\n\n\t\t//if collaborative_document are disabled for chat widget in dashboard\n\t\tif (this.state.enableCollaborativeWhiteboard === false || this.props.parentMessageId) {\n\t\t\tcollaborativeBoardBtn = null;\n\t\t}\n\n\t\t//if emojis are disabled for chat widget in dashboard\n\t\tif (this.state.enableEmojis === false) {\n\t\t\temojiBtn = null;\n\t\t}\n\n\t\t//if live reactions is disabled for chat widget in dashboard\n\t\tif (this.state.enableLiveReaction === false || this.state.messageInput.length || this.props.parentMessageId) {\n\t\t\tliveReactionBtn = null;\n\t\t}\n\n\t\t//if stickers is disabled for chat widget in dashboard\n\t\tif (this.state.enableStickers === false) {\n\t\t\tstickerBtn = null;\n\t\t}\n\n\t\tif (!this.state.messageInput.length) {\n\t\t\tsendBtn = null;\n\t\t}\n\n\t\t// const attachText = Translator.translate(\"ATTACH\", this.context.language);\n\t\tconst attachText = \"Gửi file đính kèm\"\n\t\tlet attach = (\n\t\t\t<div css={stickyAttachmentStyle()} className=\"input__sticky__attachment\">\n\t\t\t\t<div css={stickyAttachButtonStyle(roundedPlus, this.context)} className=\"attachment__icon\" onClick={this.toggleFilePicker} title={attachText}>\n\t\t\t\t\t<i></i>\n\t\t\t\t</div>\n\t\t\t\t<div css={filePickerStyle(this.state)} className=\"attachment__filepicker\" dir={Translator.getDirection(this.context.language)}>\n\t\t\t\t\t<div css={fileListStyle()} className=\"filepicker__filelist\">\n\t\t\t\t\t\t{avp}\n\t\t\t\t\t\t{docs}\n\t\t\t\t\t\t{createPollBtn}\n\t\t\t\t\t\t{collaborativeDocBtn}\n\t\t\t\t\t\t{collaborativeBoardBtn}\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t);\n\n\t\tif (avp === null && docs === null && createPollBtn === null && collaborativeDocBtn === null && collaborativeBoardBtn === null) {\n\t\t\tattach = null;\n\t\t}\n\n\t\tlet createPoll = null;\n\t\tif (this.state.createPoll) {\n\t\t\tcreatePoll = <CometChatCreatePoll close={this.closeCreatePoll} actionGenerated={this.actionHandler} />;\n\t\t}\n\n\t\tlet editPreview = null;\n\t\tif (this.state.messageToBeEdited) {\n\t\t\tlet messageText = this.state.messageToBeEdited.text;\n\n\t\t\t//xss extensions data\n\t\t\tconst xssData = checkMessageForExtensionsData(this.state.messageToBeEdited, \"xss-filter\");\n\t\t\tif (xssData && xssData.hasOwnProperty(\"sanitized_text\") && xssData.hasOwnProperty(\"hasXSS\") && xssData.hasXSS === \"yes\") {\n\t\t\t\tmessageText = xssData.sanitized_text;\n\t\t\t}\n\n\t\t\t//datamasking extensions data\n\t\t\tconst maskedData = checkMessageForExtensionsData(this.state.messageToBeEdited, \"data-masking\");\n\t\t\tif (maskedData && maskedData.hasOwnProperty(\"data\") && maskedData.data.hasOwnProperty(\"sensitive_data\") && maskedData.data.hasOwnProperty(\"message_masked\") && maskedData.data.sensitive_data === \"yes\") {\n\t\t\t\tmessageText = maskedData.data.message_masked;\n\t\t\t}\n\n\t\t\t//profanity extensions data\n\t\t\tconst profaneData = checkMessageForExtensionsData(this.state.messageToBeEdited, \"profanity-filter\");\n\t\t\tif (profaneData && profaneData.hasOwnProperty(\"profanity\") && profaneData.hasOwnProperty(\"message_clean\") && profaneData.profanity === \"yes\") {\n\t\t\t\tmessageText = profaneData.message_clean;\n\t\t\t}\n\n\t\t\teditPreview = (\n\t\t\t\t<div css={editPreviewContainerStyle(this.context, keyframes)}>\n\t\t\t\t\t<div css={previewHeadingStyle()}>\n\t\t\t\t\t\t<div css={previewTextStyle()}>{Translator.translate(\"EDIT_MESSAGE\", this.context.language)}</div>\n\t\t\t\t\t\t<span css={previewCloseStyle(closeIcon, this.context)} onClick={this.closeEditPreview}></span>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div>{messageText}</div>\n\t\t\t\t</div>\n\t\t\t);\n\t\t}\n\n\t\tlet smartReplyPreview = null;\n\t\tif (this.state.replyPreview) {\n\t\t\tconst message = this.state.replyPreview;\n\n\t\t\tconst smartReplyData = checkMessageForExtensionsData(message, \"smart-reply\");\n\t\t\tif (smartReplyData && smartReplyData.hasOwnProperty(\"error\") === false) {\n\t\t\t\tconst options = [smartReplyData[\"reply_positive\"], smartReplyData[\"reply_neutral\"], smartReplyData[\"reply_negative\"]];\n\t\t\t\tsmartReplyPreview = <CometChatSmartReplyPreview options={options} clicked={this.sendReplyMessage} close={this.clearReplyPreview} />;\n\t\t\t}\n\t\t}\n\n\t\tlet stickerViewer = null;\n\t\tif (this.state.stickerViewer) {\n\t\t\tstickerViewer = <CometChatStickerKeyboard actionGenerated={this.actionHandler} />;\n\t\t}\n\n\t\tlet emojiViewer = null;\n\t\tif (this.state.emojiViewer) {\n\t\t\temojiViewer = <CometChatEmojiKeyboard emojiClicked={this.emojiClicked} lang={this.context.language} />;\n\t\t}\n\n\t\treturn (\n\t\t\t<div css={chatComposerStyle(this.context)} className=\"chat__composer\">\n\t\t\t\t{editPreview}\n\t\t\t\t{smartReplyPreview}\n\t\t\t\t{stickerViewer}\n\t\t\t\t{emojiViewer}\n\t\t\t\t<div css={composerInputStyle()} className=\"composer__input\">\n\t\t\t\t\t<div tabIndex=\"-1\" css={inputInnerStyle(this.props, this.state, this.context)} className=\"input__inner\">\n\t\t\t\t\t\t<div\n\t\t\t\t\t\t\tcss={messageInputStyle(disabledState)}\n\t\t\t\t\t\t\tclassName=\"input__message-input\"\n\t\t\t\t\t\t\tcontentEditable=\"true\"\n\t\t\t\t\t\t\t// placeholder={Translator.translate(\"ENTER_YOUR_MESSAGE_HERE\", this.context.language)}\n\t\t\t\t\t\t\tplaceholder=\"Nhập tin nhắn ở đây\"\n\t\t\t\t\t\t\tdir={Translator.getDirection(this.context.language)}\n\t\t\t\t\t\t\tonInput={this.changeHandler}\n\t\t\t\t\t\t\tonBlur={event => this.endTyping(event)}\n\t\t\t\t\t\t\tonKeyDown={this.sendMessageOnEnter}\n\t\t\t\t\t\t\tref={this.messageInputRef}></div>\n\t\t\t\t\t\t<div css={inputStickyStyle(disabledState, attach, this.context)} className=\"input__sticky\">\n\t\t\t\t\t\t\t{attach}\n\t\t\t\t\t\t\t<div css={stickyButtonStyle(this.state)} className=\"input__sticky__buttons\">\n\t\t\t\t\t\t\t\t{stickerBtn}\n\t\t\t\t\t\t\t\t{emojiBtn}\n\t\t\t\t\t\t\t\t{sendBtn}\n\t\t\t\t\t\t\t\t{liveReactionBtn}\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t\t{createPoll}\n\t\t\t</div>\n\t\t);\n\t}\n}\n\n// Specifies the default values for props:\nCometChatMessageComposer.defaultProps = {\n  theme: theme,\n  reaction: \"heart\"\n};\n\nCometChatMessageComposer.propTypes = {\n  theme: PropTypes.object,\n  reaction: PropTypes.string\n}\n\nexport { CometChatMessageComposer };\n","export default \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAUCAYAAACXtf2DAAAAAXNSR0IArs4c6QAAAERlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAA6ABAAMAAAABAAEAAKACAAQAAAABAAAAGKADAAQAAAABAAAAFAAAAAAnxZisAAACpElEQVQ4Ea1VzUsVURQ/5868UrEg/AMy0NTMRQRBJfIQszKxgh5ByzbVIooiiDbZBwUtXAWJtGgRJW0MQsxnxfhRIbgpsqcQtajoA8uITGfu3Hs6Z+zJU3pq+n4wc+fee87vd+bcM2cQ5mB0Z+0WMuERQNiNgO+UgtYAgs7K7uffM01fVlevyc9391iAo5bsOkT1gPdvlvd4Q5l2mJ68bahdG2rTwvMmB9HV1gKP0WWA3oSWzlc86rsj9qm6mkOuwgsKsMQSgeErxpEYS5oQOpSLp0u7vA9iGwmkdsWLlaGuPKXKJw3TyU4GYizEYG+OFglXAt7gOWomzoRY5TsO+Na+8pEaqpJ97/FeIuFUjX++X+C4jb+ZPBsUi3C0Wvb5OSaRZ0MBi0xY01GxvfYApuprtjkE/ZZAZXeZpkrnczF2Ek9oaKtCi2c4ogXJRUKIFyJP2zmolHLUSZeAGjWXQq4RcpHwMTVxIeCwVEuuIWfGSPGIl/9OcqohnA7QVWUCeMg1PyJ1nCsIl7ZmVIcqqSo97xen6aK8UC4SleZB5VwS7ijs8p7e9sDQLflIlos8R4FPdLs9Gb8rXJEAq5K7YurEpLHeckTEd8rYp77G483QHNXmTOJLuwZ/ukof9I0dWIqI+PjWDFqHEps870c6EzMCslCSfPYVQtzvG9MpDos5E7GZJrc9gfX3buju/5Qml3GWgCyUed7YtwmdYJHrLqqom8r6vyDfT0whsG3bqrzV+6oeD36ZazdvkCN1NYe5nq8xSRHndpYvd14Igca5dZxdn+xtm7WZMZlXQOxe18c3ukQtLLJDc0cUSPsOiJ6AMqfKugdeRItZbgsKiN/Q5s2xwqLCYw7hOWl3/FO5oj+OtVYODwdZeJe2LD+mVDxe/D/efwCuAQs2cnkFkQAAAABJRU5ErkJggg==\"","import { CometChat } from \"@cometchat-pro/chat\";\n\nimport * as enums from \"../../../util/enums.js\";\n\nexport class MessageHeaderManager {\n\n    userListenerId = \"head_user_\" + new Date().getTime();\n    msgListenerId = \"head_message_\" + new Date().getTime();\n    groupListenerId = \"head_group_\" + new Date().getTime();\n\n    attachListeners(callback) {\n        \n        CometChat.addUserListener(\n            this.userListenerId,\n            new CometChat.UserListener({\n                onUserOnline: onlineUser => {\n                    /* when someuser/friend comes online, user will be received here */\n                    callback(enums.USER_ONLINE, onlineUser);\n                },\n                onUserOffline: offlineUser => {\n                    /* when someuser/friend went offline, user will be received here */\n                    callback(enums.USER_OFFLINE, offlineUser);\n                }\n            })\n        );\n\n        CometChat.addMessageListener(\n            this.msgListenerId,\n            new CometChat.MessageListener({\n                onTypingStarted: typingIndicator => {\n                    callback(enums.TYPING_STARTED, typingIndicator);\n                },\n                onTypingEnded: typingIndicator => {\n                    callback(enums.TYPING_ENDED, typingIndicator);\n                }\n            })\n        );\n\n        CometChat.addGroupListener(\n            this.groupListenerId,\n            new CometChat.GroupListener({\n                onGroupMemberKicked: (message, kickedUser, kickedBy, kickedFrom) => {\n                    callback(enums.GROUP_MEMBER_KICKED, kickedFrom, kickedUser);\n                }, \n                onGroupMemberBanned: (message, bannedUser, bannedBy, bannedFrom) => {\n                    callback(enums.GROUP_MEMBER_BANNED, bannedFrom, bannedUser);\n                }, \n                onMemberAddedToGroup: (message, userAdded, userAddedBy, userAddedIn) => {\n                    callback(enums.GROUP_MEMBER_ADDED, userAddedIn);\n                }, \n                onGroupMemberLeft: (message, leavingUser, group) => {\n                    callback(enums.GROUP_MEMBER_LEFT, group, leavingUser);\n                }, \n                onGroupMemberJoined: (message, joinedUser, joinedGroup) => {\n                    callback(enums.GROUP_MEMBER_JOINED, joinedGroup);\n                }\n            })\n        );\n\n    }\n\n    removeListeners() {\n\n        CometChat.removeUserListener(this.userListenerId);\n        CometChat.removeMessageListener(this.msgListenerId);\n        CometChat.removeGroupListener(this.groupListenerId);\n    }\n}","import { CometChat } from \"@cometchat-pro/chat\";\n\nexport const chatHeaderStyle = context => {\n\n\treturn {\n\t\tpadding: \"16px\",\n\t\twidth: \"100%\",\n\t\tbackgroundColor: `${context.theme.backgroundColor.white}`,\n\t\tzIndex: \"1\",\n\t\tborderBottom: `1px solid ${context.theme.borderColor.primary}`,\n\t\tdisplay: \"flex\",\n\t\tflexDirection: \"row\",\n\t\tjustifyContent: \"space-between\",\n\t};\n};\n\nexport const chatDetailStyle = () => {\n\n    return {\n        display: \"flex\",\n        flexDirection: \"row\",\n        alignItems: \"center\",\n        width: \"calc(100% - 116px)\",\n    }\n}\n\nexport const chatSideBarBtnStyle = (img, props, context) => {\n\n    const displayValue = (props.hasOwnProperty(\"sidebar\") && props.sidebar === 0) ? { display: \"none!important\"} : {};\n\n    const mq = [...context.theme.breakPoints];\n\n    return {\n        cursor: \"pointer\",\n        display: \"none\",\n        mask: `url(${img}) center center no-repeat`,\n        backgroundColor: `${context.theme.primaryColor}`,\n        width: \"24px\",\n        height: \"24px\",\n        float: \"left\",\n        [`@media ${mq[1]}, ${mq[2]}`]: {\n\t\t\tdisplay: \"block\"\n\t\t},\n        ...displayValue\n    }\n}\n\nexport const chatThumbnailStyle = () => {\n\n    return {\n        display: \"inline-block\",\n        width: \"36px\",\n        height: \"36px\",\n        flexShrink: \"0\",\n        margin: \"0 16px\",\n    }\n}\n\nexport const chatUserStyle = context => {\n\n    const mq = [...context.theme.breakPoints];\n\n\treturn {\n\t\twidth: \"calc(100% - 50px)\",\n\t\tpadding: \"0\",\n\t\tflexGrow: \"1\",\n\t\tdisplay: \"flex\",\n\t\tflexDirection: \"column\",\n\t\t[`@media ${mq[1]}, ${mq[2]}`]: {\n\t\t\twidth: \"calc(100% - 80px)!important\",\n\t\t},\n\t};\n};\n\nexport const chatNameStyle = (context) => {\n\n    return {\n        margin: \"0\",\n        fontSize: \"15px\",\n        fontWeight: \"600\",\n        lineHeight: \"22px\",\n        width: \"100%\",\n        overflow: \"hidden\",\n        textOverflow: \"ellipsis\",\n        whiteSpace: \"nowrap\",\n        color: `${context.theme.primary}`,\n    }\n}\n\nexport const chatStatusStyle = (state, context) => {\n\n    let status = {};\n    if (context.type === CometChat.ACTION_TYPE.TYPE_USER) {\n\n        status = {\n            color: `${context.theme.color.blue}`,\n            textTransform: \"capitalize\",\n        };\n\n        if (state.presence === \"offline\") {\n            status = {\n                color: `${context.theme.color.helpText}`,\n                textTransform: \"capitalize\",\n            }\n        } \n\n        if (state.typing) {\n            status = {\n                color: `${context.theme.color.helpText}`,\n                textTransform: \"none\",\n                fontStyle: \"italic\",\n            };\n        }\n        \n    } else if (context.type === CometChat.ACTION_TYPE.TYPE_GROUP) {\n\n        status = {\n            color: `${context.theme.color.helpText}`,\n        }\n\n        if (state.typing) {\n            status = {\n                color: `${context.theme.color.helpText}`,\n                fontStyle: \"italic\",\n            };\n        }\n    }\n\n    return {\n        fontSize: \"13px\",\n        width: \"100%\",\n        ...status\n    }\n}\n\nexport const chatOptionWrapStyle = () => {\n\n    return {\n        display: \"flex\",\n        flexDirection: \"row\",\n        justifyContent: \"space-between\",\n        alignItems: \"center\",\n        width: \"auto\",\n    }\n}\n\nexport const chatOptionStyle = (img, context, ongoingCall) => {\n\n    const bgColor = (ongoingCall) ? {\n        backgroundColor: `${context.theme.secondaryTextColor}`\n    } : {\n        backgroundColor: `${context.theme.primaryColor}`\n    };\n    \n    return {\n        width: \"24px\",\n        height: \"24px\",\n        cursor: \"pointer\",\n        display: \"flex\",\n        alignItems: \"center\",\n        margin: \"0 0 0 16px\",\n        \"i\": {\n            width: \"24px\",\n            height: \"24px\",\n            display: \"inline-block\",\n            mask: `url(${img}) center center no-repeat`,\n            ...bgColor\n        }\n    }\n}\n","export default __webpack_public_path__ + \"static/media/menu.0c8d2d60.svg\";","export default __webpack_public_path__ + \"static/media/audio-call.05d2b303.svg\";","export default __webpack_public_path__ + \"static/media/video-call.0e4e774d.svg\";","export default __webpack_public_path__ + \"static/media/info.aadd7d93.svg\";","import React from \"react\";\nimport dateFormat from \"dateformat\";\n/** @jsxRuntime classic */\n/** @jsx jsx */\nimport { jsx } from \"@emotion/core\";\nimport PropTypes from \"prop-types\";\nimport { CometChat } from \"@cometchat-pro/chat\";\n\nimport { MessageHeaderManager } from \"./controller\";\n\nimport { CometChatAvatar, CometChatUserPresence } from \"../../Shared\";\n\nimport { CometChatContext } from \"../../../util/CometChatContext\";\nimport * as enums from \"../../../util/enums.js\";\n\nimport { theme } from \"../../../resources/theme\";\nimport Translator from \"../../../resources/localization/translator\";\n\nimport { \n  chatHeaderStyle, \n  chatDetailStyle, \n  chatSideBarBtnStyle, \n  chatThumbnailStyle,\n  chatUserStyle,\n  chatNameStyle,\n  chatStatusStyle,\n  chatOptionWrapStyle,\n  chatOptionStyle\n} from \"./style\";\n\nimport menuIcon from \"./resources/menu.svg\";\nimport audioCallIcon from \"./resources/audio-call.svg\";\nimport videoCallIcon from \"./resources/video-call.svg\";\nimport detailPaneIcon from \"./resources/info.svg\";\n\nclass CometChatMessageHeader extends React.Component {\n\titem;\n\tstatic contextType = CometChatContext;\n\n\tconstructor(props) {\n\t\tsuper(props);\n\n\t\tthis.state = {\n\t\t\tstatus: \"\",\n\t\t\tpresence: \"offline\",\n\t\t\ttyping: null,\n\t\t\tenableGroupVoiceCall: false,\n\t\t\tenableGroupVideoCall: false,\n\t\t\tenableOneOnOneVoiceCall: false,\n\t\t\tenableOneOnOneVideoCall: false,\n\t\t\tenableUserPresence: false,\n\t\t\tenableAddGroupMembers: false,\n\t\t\tenableChangeScope: false,\n\t\t\tenableKickGroupMembers: false,\n\t\t\tenableBanGroupMembers: false,\n\t\t\tenableDeleteGroup: false,\n\t\t\tenableViewGroupMembers: false,\n\t\t\tenableLeaveGroup: false,\n\t\t\tenableSharedMedia: false,\n\t\t\tenableBlockUser: false,\n\t\t\tenableTypingIndicator: false,\n\t\t};\n\t}\n\n\tcomponentDidMount() {\n\n\t\tCometChat.getLoggedinUser()\n\t\t\t.then(user => (this.loggedInUser = user))\n\t\t\t.catch(error => this.props.actionGenerated(enums.ACTIONS[\"ERROR\"], [], \"SOMETHING_WRONG\"));\n\n\t\tthis.MessageHeaderManager = new MessageHeaderManager();\n\t\tthis.MessageHeaderManager.attachListeners(this.updateHeader);\n\n\t\tif (this.context.type === CometChat.ACTION_TYPE.TYPE_USER) {\n\t\t\tthis.setStatusForUser();\n\t\t} else if (this.context.type === CometChat.ACTION_TYPE.TYPE_GROUP) {\n\t\t\tthis.setStatusForGroup();\n\t\t}\n\n\t\tthis.item = this.context.item;\n\n\t\tthis.enableGroupVoiceCall();\n\t\tthis.enableGroupVideoCall();\n\t\tthis.enableOneOnOneVoiceCall();\n\t\tthis.enableOneOnOneVideoCall();\n\t\tthis.enableUserPresence();\n\t\tthis.enableAddGroupMembers();\n\t\tthis.enableChangeScope();\n\t\tthis.enableKickGroupMembers();\n\t\tthis.enableBanGroupMembers();\n\t\tthis.enableViewGroupMembers();\n\t\tthis.enableDeleteGroup();\n\t\tthis.enableLeaveGroup();\n\t\tthis.enableSharedMedia();\n\t\tthis.enableBlockUser();\n\t\tthis.enableTypingIndicator();\n\t}\n\n\tcomponentDidUpdate(prevProps, prevState) {\n\n\t\tif (this.context.type === CometChat.ACTION_TYPE.TYPE_USER && (this.item !== this.context.item || prevProps.lang !== this.props.lang)) {\n\t\t\tthis.setStatusForUser();\n\t\t} else if (this.context.type === CometChat.ACTION_TYPE.TYPE_GROUP && (this.item !== this.context.item || prevProps.lang !== this.props.lang)) {\n\t\t\tthis.setStatusForGroup();\n\t\t}\n\n\t\tthis.item = this.context.item;\n\n\t\tthis.enableGroupVoiceCall();\n\t\tthis.enableGroupVideoCall();\n\t\tthis.enableOneOnOneVoiceCall();\n\t\tthis.enableOneOnOneVideoCall();\n\t\tthis.enableUserPresence();\n\t\tthis.enableAddGroupMembers();\n\t\tthis.enableChangeScope();\n\t\tthis.enableKickGroupMembers();\n\t\tthis.enableBanGroupMembers();\n\t\tthis.enableViewGroupMembers();\n\t\tthis.enableDeleteGroup();\n\t\tthis.enableLeaveGroup();\n\t\tthis.enableSharedMedia();\n\t\tthis.enableBlockUser();\n\t\tthis.enableTypingIndicator();\n\t}\n\n\tsetStatusForUser = () => {\n\t\tlet status = \"\";\n\t\tconst presence = this.context.item.status === CometChat.USER_STATUS.ONLINE ? CometChat.USER_STATUS.ONLINE : CometChat.USER_STATUS.OFFLINE;\n\n\t\tif (this.context.item.status === CometChat.USER_STATUS.OFFLINE && this.context.item.lastActiveAt) {\n\t\t\tconst lastActive = this.context.item.lastActiveAt * 1000;\n\t\t\tconst messageDate = dateFormat(lastActive, \"dS mmm yyyy, h:MM TT\");\n\n\t\t\tstatus = `${Translator.translate(\"LAST_ACTIVE_AT\", this.props.lang)}: ${messageDate}`;\n\t\t} else if (this.context.item.status === CometChat.USER_STATUS.OFFLINE) {\n\t\t\tstatus = Translator.translate(\"OFFLINE\", this.props.lang);\n\t\t} else if (this.context.item.status === CometChat.USER_STATUS.ONLINE) {\n\t\t\tstatus = Translator.translate(\"ONLINE\", this.props.lang);\n\t\t}\n\t\t\n\t\tthis.setState({status: status, presence: presence});\n\t};\n\n\tsetStatusForGroup = () => {\n\t\tlet membersText = Translator.translate(\"MEMBERS\", this.props.lang);\n\t\tconst status = `${this.context.item.membersCount} ${membersText}`;\n\t\tthis.setState({status: status});\n\t};\n\n\tcomponentWillUnmount() {\n\t\tthis.MessageHeaderManager.removeListeners();\n\t\tthis.MessageHeaderManager = null;\n\t}\n\n\tupdateHeader = (key, item, groupUser) => {\n\t\tswitch (key) {\n\t\t\tcase enums.USER_ONLINE:\n\t\t\tcase enums.USER_OFFLINE: {\n\t\t\t\tif (this.context.type === CometChat.ACTION_TYPE.TYPE_USER && this.context.item.uid === item.uid) {\n\t\t\t\t\t\n\t\t\t\t\t//if user presence feature is disabled\n\t\t\t\t\tif (this.state.enableUserPresence === false) {\n\t\t\t\t\t\treturn false;\n\t\t\t\t\t}\n\n\t\t\t\t\tlet status = \"\";\n\t\t\t\t\tif (item.status === CometChat.USER_STATUS.OFFLINE) {\n\t\t\t\t\t\tstatus = Translator.translate(\"OFFLINE\", this.context.language);\n\t\t\t\t\t} else if (item.status === CometChat.USER_STATUS.ONLINE) {\n\t\t\t\t\t\tstatus = Translator.translate(\"ONLINE\", this.context.language);\n\t\t\t\t\t}\n\t\t\t\t\tthis.setState({status: status, presence: item.status});\n\t\t\t\t}\n\t\t\t\tbreak;\n\t\t\t}\n\t\t\tcase enums.GROUP_MEMBER_KICKED:\n\t\t\tcase enums.GROUP_MEMBER_BANNED:\n\t\t\tcase enums.GROUP_MEMBER_LEFT:\n\t\t\t\tif (this.context.type === CometChat.ACTION_TYPE.TYPE_GROUP && this.context.item.guid === item.guid && this.loggedInUser?.uid !== groupUser?.uid) {\n\t\t\t\t\tlet membersCount = parseInt(item.membersCount);\n\t\t\t\t\tconst status = `${membersCount} ${Translator.translate(\"MEMBERS\", this.context.language)}`;\n\t\t\t\t\tthis.setState({status: status});\n\t\t\t\t}\n\t\t\t\tbreak;\n\t\t\tcase enums.GROUP_MEMBER_JOINED:\n\t\t\t\tif (this.context.type === CometChat.ACTION_TYPE.TYPE_GROUP && this.context.item.guid === item.guid) {\n\t\t\t\t\tlet membersCount = parseInt(item.membersCount);\n\t\t\t\t\tconst status = `${membersCount} ${Translator.translate(\"MEMBERS\", this.context.language)}`;\n\t\t\t\t\tthis.setState({status: status});\n\t\t\t\t}\n\t\t\t\tbreak;\n\t\t\tcase enums.GROUP_MEMBER_ADDED:\n\t\t\t\tif (this.context.type === CometChat.ACTION_TYPE.TYPE_GROUP && this.context.item.guid === item.guid) {\n\t\t\t\t\tlet membersCount = parseInt(item.membersCount);\n\t\t\t\t\tconst status = `${membersCount} ${Translator.translate(\"MEMBERS\", this.context.language)}`;\n\t\t\t\t\tthis.setState({status: status});\n\t\t\t\t}\n\t\t\t\tbreak;\n\t\t\tcase enums.TYPING_STARTED:\n\t\t\t\tthis.onTypingStarted(item);\n\t\t\t\tbreak;\n\t\t\tcase enums.TYPING_ENDED: \n\t\t\t\tthis.onTypingEnded(item);\n\t\t\t\tbreak;\n\t\t\tdefault:\n\t\t\t\tbreak;\n\t\t}\n\t};\n\n\tonTypingStarted = item => {\n\n\t\tconst showTyping = typingText => {\n\t\t\t\n\t\t\t/**\n\t\t\t * if metadata is available, show live reactions else show typing\n\t\t\t */\n\t\t\t// if (item.hasOwnProperty(\"metadata\") && item.metadata && item.metadata.hasOwnProperty(\"type\") && item.metadata.type === enums.CONSTANTS[\"METADATA_TYPE_LIVEREACTION\"]) {\n\t\t\t// \tthis.props.actionGenerated(enums.ACTIONS[\"SHOW_LIVE_REACTION\"], item);\n\t\t\t// } else {\n\n\t\t\t\tif (this.state.enableTypingIndicator === true) {\n\t\t\t\t\tthis.setState({typing: typingText});\n\t\t\t\t} \n\t\t\t//}\n\t\t};\n\n\t\tif (this.context.type === CometChat.ACTION_TYPE.TYPE_GROUP && this.context.type === item.receiverType && this.context.item.guid === item.receiverId) {\n\t\t\tconst typingText = `${item.sender.name} ${Translator.translate(\"IS_TYPING\", this.context.language)}`;\n\t\t\tshowTyping(typingText);\n\t\t} else if (this.context.type === CometChat.ACTION_TYPE.TYPE_USER && this.context.type === item.receiverType && this.context.item.uid === item.sender.uid) {\n\t\t\tconst typingText = `${Translator.translate(\"TYPING\", this.context.language)}`;\n\t\t\tshowTyping(typingText);\n\t\t}\n\t};\n\n\tonTypingEnded = item => {\n\n\t\tconst endTyping = () => {\n\t\t\t/**\n\t\t\t * if metadata is available, end live reactions else end typing\n\t\t\t */\n\t\t\t// if (item.hasOwnProperty(\"metadata\") && item.metadata && item.metadata.hasOwnProperty(\"type\") && item.metadata.type === enums.CONSTANTS[\"METADATA_TYPE_LIVEREACTION\"]) {\n\t\t\t// \tthis.props.actionGenerated(enums.ACTIONS[\"STOP_LIVE_REACTION\"], item);\n\t\t\t// } else {\n\n\t\t\t\tif (this.state.enableTypingIndicator === true) {\n\t\t\t\t\tthis.setState({typing: null});\n\t\t\t\t} \n\t\t\t//}\n\t\t}\n\n\t\tif (this.context.type === CometChat.ACTION_TYPE.TYPE_GROUP && this.context.type === item.receiverType && this.context.item.guid === item.receiverId) {\n\t\t\t\n\t\t\tthis.setStatusForGroup();\n\t\t\tendTyping();\n\n\t\t} else if (this.context.type === CometChat.ACTION_TYPE.TYPE_USER && this.context.type === item.receiverType && this.context.item.uid === item.sender.uid) {\n\n\t\t\tif (this.state.presence === CometChat.USER_STATUS.ONLINE) {\n\t\t\t\tthis.setState({status: Translator.translate(\"ONLINE\", this.context.language), presence: CometChat.USER_STATUS.ONLINE});\n\t\t\t} else {\n\t\t\t\tthis.setStatusForUser();\n\t\t\t}\n\n\t\t\tendTyping();\n\t\t}\n\t};\n\n\ttoggleTooltip = (event, flag) => {\n\t\tconst elem = event.target;\n\t\tconst scrollWidth = elem.scrollWidth;\n\t\tconst clientWidth = elem.clientWidth;\n\n\t\tif (scrollWidth <= clientWidth) {\n\t\t\treturn false;\n\t\t}\n\n\t\tif (flag) {\n\t\t\telem.setAttribute(\"title\", elem.textContent);\n\t\t} else {\n\t\t\telem.removeAttribute(\"title\");\n\t\t}\n\t};\n\n\tresetChat = () => {\n\t\tthis.context.setItem({});\n\t\tthis.props.actionGenerated(enums.ACTIONS[\"TOGGLE_SIDEBAR\"]);\n\t};\n\n\t/**\n\t * if typing indicator feature is disabled\n\t */\n\tenableTypingIndicator = () => {\n\t\tthis.context.FeatureRestriction.isTypingIndicatorsEnabled()\n\t\t\t.then(response => {\n\t\t\t\tif (response !== this.state.enableTypingIndicator) {\n\t\t\t\t\tthis.setState({enableTypingIndicator: response});\n\t\t\t\t}\n\t\t\t})\n\t\t\t.catch(error => {\n\t\t\t\tif (this.state.enableTypingIndicator !== false) {\n\t\t\t\t\tthis.setState({enableTypingIndicator: false});\n\t\t\t\t}\n\t\t\t});\n\t};\n\n\tenableGroupVoiceCall = () => {};\n\n\tenableGroupVideoCall = () => {\n\t\tthis.context.FeatureRestriction.isGroupVideoCallEnabled()\n\t\t\t.then(response => {\n\t\t\t\t/**\n\t\t\t\t * Don't update state if the response has the same value\n\t\t\t\t */\n\t\t\t\tif (response !== this.state.enableGroupVideoCall) {\n\t\t\t\t\tthis.setState({enableGroupVideoCall: response});\n\t\t\t\t}\n\t\t\t})\n\t\t\t.catch(error => {\n\t\t\t\tif (this.state.enableGroupVideoCall !== false) {\n\t\t\t\t\tthis.setState({enableGroupVideoCall: false});\n\t\t\t\t}\n\t\t\t});\n\t};\n\n\tenableOneOnOneVoiceCall = () => {\n\t\tthis.context.FeatureRestriction.isOneOnOneAudioCallEnabled()\n\t\t\t.then(response => {\n\t\t\t\t/**\n\t\t\t\t * Don't update state if the response has the same value\n\t\t\t\t */\n\t\t\t\tconst combinedResponse = response && !this.context.item.blockedByMe;\n\t\t\t\tif (combinedResponse !== this.state.enableOneOnOneVoiceCall) {\n\t\t\t\t\tthis.setState({enableOneOnOneVoiceCall: combinedResponse});\n\t\t\t\t}\n\t\t\t})\n\t\t\t.catch(error => {\n\t\t\t\tif (this.state.enableOneOnOneVoiceCall !== false) {\n\t\t\t\t\tthis.setState({enableOneOnOneVoiceCall: false});\n\t\t\t\t}\n\t\t\t});\n\t};\n\n\tenableOneOnOneVideoCall = () => {\n\t\tthis.context.FeatureRestriction.isOneOnOneVideoCallEnabled()\n\t\t\t.then(response => {\n\t\t\t\t/**\n\t\t\t\t * Don't update state if the response has the same value\n\t\t\t\t */\n\t\t\t\tconst combinedResponse = response && !this.context.item.blockedByMe;\n\t\t\t\tif (combinedResponse !== this.state.enableOneOnOneVideoCall) {\n\t\t\t\t\tthis.setState({enableOneOnOneVideoCall: combinedResponse});\n\t\t\t\t}\n\t\t\t})\n\t\t\t.catch(error => {\n\t\t\t\tif (this.state.enableOneOnOneVideoCall !== false) {\n\t\t\t\t\tthis.setState({enableOneOnOneVideoCall: false});\n\t\t\t\t}\n\t\t\t});\n\t};\n\n\tenableUserPresence = () => {\n\t\tthis.context.FeatureRestriction.isUserPresenceEnabled()\n\t\t\t.then(response => {\n\t\t\t\tif (response !== this.state.enableUserPresence) {\n\t\t\t\t\tthis.setState({enableUserPresence: response});\n\t\t\t\t}\n\t\t\t})\n\t\t\t.catch(error => {\n\t\t\t\tif (this.state.enableUserPresence !== false) {\n\t\t\t\t\tthis.setState({enableUserPresence: false});\n\t\t\t\t}\n\t\t\t});\n\t};\n\n\tenableAddGroupMembers = () => {\n\t\tthis.context.FeatureRestriction.isAddingGroupMembersEnabled()\n\t\t\t.then(response => {\n\t\t\t\t/**\n\t\t\t\t * Don't update state if the response has the same value\n\t\t\t\t */\n\t\t\t\tif (response !== this.state.enableAddGroupMembers) {\n\t\t\t\t\tthis.setState({enableAddGroupMembers: response});\n\t\t\t\t}\n\t\t\t})\n\t\t\t.catch(error => {\n\t\t\t\tif (this.state.enableAddGroupMembers !== false) {\n\t\t\t\t\tthis.setState({enableAddGroupMembers: false});\n\t\t\t\t}\n\t\t\t});\n\t};\n\n\tenableChangeScope = () => {\n\t\tthis.context.FeatureRestriction.isChangingGroupMemberScopeEnabled()\n\t\t\t.then(response => {\n\t\t\t\t/**\n\t\t\t\t * Don't update state if the response has the same value\n\t\t\t\t */\n\t\t\t\tif (response !== this.state.enableChangeScope) {\n\t\t\t\t\tthis.setState({enableChangeScope: response});\n\t\t\t\t}\n\t\t\t})\n\t\t\t.catch(error => {\n\t\t\t\tif (this.state.enableChangeScope !== false) {\n\t\t\t\t\tthis.setState({enableChangeScope: false});\n\t\t\t\t}\n\t\t\t});\n\t};\n\n\tenableKickGroupMembers = () => {\n\t\tthis.context.FeatureRestriction.isKickingGroupMembersEnabled()\n\t\t\t.then(response => {\n\t\t\t\t/**\n\t\t\t\t * Don't update state if the response has the same value\n\t\t\t\t */\n\t\t\t\tif (response !== this.state.enableKickGroupMembers) {\n\t\t\t\t\tthis.setState({enableKickGroupMembers: response});\n\t\t\t\t}\n\t\t\t})\n\t\t\t.catch(error => {\n\t\t\t\tif (this.state.enableKickGroupMembers !== false) {\n\t\t\t\t\tthis.setState({enableKickGroupMembers: false});\n\t\t\t\t}\n\t\t\t});\n\t};\n\n\tenableBanGroupMembers = () => {\n\t\tthis.context.FeatureRestriction.isBanningGroupMembersEnabled()\n\t\t\t.then(response => {\n\t\t\t\t/**\n\t\t\t\t * Don't update state if the response has the same value\n\t\t\t\t */\n\t\t\t\tif (response !== this.state.enableBanGroupMembers) {\n\t\t\t\t\tthis.setState({enableBanGroupMembers: response});\n\t\t\t\t}\n\t\t\t})\n\t\t\t.catch(error => {\n\t\t\t\tif (this.state.enableBanGroupMembers !== false) {\n\t\t\t\t\tthis.setState({enableBanGroupMembers: false});\n\t\t\t\t}\n\t\t\t});\n\t};\n\n\tenableDeleteGroup = () => {\n\t\tthis.context.FeatureRestriction.isGroupDeletionEnabled()\n\t\t\t.then(response => {\n\t\t\t\t/**\n\t\t\t\t * Don't update state if the response has the same value\n\t\t\t\t */\n\t\t\t\tif (response !== this.state.enableDeleteGroup) {\n\t\t\t\t\tthis.setState({enableDeleteGroup: response});\n\t\t\t\t}\n\t\t\t})\n\t\t\t.catch(error => {\n\t\t\t\tif (this.state.enableDeleteGroup !== false) {\n\t\t\t\t\tthis.setState({enableDeleteGroup: false});\n\t\t\t\t}\n\t\t\t});\n\t};\n\n\tenableViewGroupMembers = () => {\n\t\tthis.context.FeatureRestriction.isViewingGroupMembersEnabled()\n\t\t\t.then(response => {\n\t\t\t\t/**\n\t\t\t\t * Don't update state if the response has the same value\n\t\t\t\t */\n\t\t\t\tif (response !== this.state.enableViewGroupMembers) {\n\t\t\t\t\tthis.setState({enableViewGroupMembers: response});\n\t\t\t\t}\n\t\t\t})\n\t\t\t.catch(error => {\n\t\t\t\tif (this.state.enableViewGroupMembers !== false) {\n\t\t\t\t\tthis.setState({enableViewGroupMembers: false});\n\t\t\t\t}\n\t\t\t});\n\t};\n\n\tenableLeaveGroup = () => {\n\t\tthis.context.FeatureRestriction.isJoinLeaveGroupsEnabled()\n\t\t\t.then(response => {\n\t\t\t\t/**\n\t\t\t\t * Don't update state if the response has the same value\n\t\t\t\t */\n\t\t\t\tif (response !== this.state.enableLeaveGroup) {\n\t\t\t\t\tthis.setState({enableLeaveGroup: response});\n\t\t\t\t}\n\t\t\t})\n\t\t\t.catch(error => {\n\t\t\t\tif (this.state.enableLeaveGroup !== false) {\n\t\t\t\t\tthis.setState({enableLeaveGroup: false});\n\t\t\t\t}\n\t\t\t});\n\t};\n\n\tenableSharedMedia = () => {\n\t\tthis.context.FeatureRestriction.isSharedMediaEnabled()\n\t\t\t.then(response => {\n\t\t\t\t/**\n\t\t\t\t * Don't update state if the response has the same value\n\t\t\t\t */\n\t\t\t\tif (response !== this.state.enableSharedMedia) {\n\t\t\t\t\tthis.setState({enableSharedMedia: response});\n\t\t\t\t}\n\t\t\t})\n\t\t\t.catch(error => {\n\t\t\t\tif (this.state.enableSharedMedia !== false) {\n\t\t\t\t\tthis.setState({enableSharedMedia: false});\n\t\t\t\t}\n\t\t\t});\n\t};\n\n\tenableBlockUser = () => {\n\t\tthis.context.FeatureRestriction.isBlockUserEnabled()\n\t\t\t.then(response => {\n\t\t\t\t/**\n\t\t\t\t * Don't update state if the response has the same value\n\t\t\t\t */\n\t\t\t\tif (response !== this.state.enableBlockUser) {\n\t\t\t\t\tthis.setState({enableBlockUser: response});\n\t\t\t\t}\n\t\t\t})\n\t\t\t.catch(error => {\n\t\t\t\tif (this.state.enableBlockUser !== false) {\n\t\t\t\t\tthis.setState({enableBlockUser: false});\n\t\t\t\t}\n\t\t\t});\n\t};\n\n\tinitiateAudioCall = () => {\n\t\tthis.props.actionGenerated(enums.ACTIONS[\"INITIATE_AUDIO_CALL\"]);\n\t}\n\n\tinitiateVideoCall = () => {\n\t\tthis.props.actionGenerated(enums.ACTIONS[\"INITIATE_VIDEO_CALL\"]);\n\t}\n\n\tviewDetail = () => {\n\t\tthis.props.actionGenerated(enums.ACTIONS[\"VIEW_DETAIL\"]);\n\t}\n\n\trender() {\n\n\t\tlet avatar, presence;\n\t\tlet videoCallClassName = \"option__videocall-user\";\n\t\tlet audioCallClassName = \"option__audiocall-user\";\n\t\tlet viewDetailClassName = \"option__viewdetail-user\";\n\t\tlet chatWithClassName = \"chat__user\";\n\t\tlet chatNameClassName = \"user__name\";\n\t\tlet chatStatusClassName = \"user__status\";\n\n\t\tif (this.context.type === CometChat.ACTION_TYPE.TYPE_USER) {\n\t\t\tavatar = <CometChatAvatar user={this.context.item} />;\n\t\t\tpresence = <CometChatUserPresence status={this.state.presence} borderColor={this.props.theme.borderColor.primary} />;\n\t\t} else if (this.context.type === CometChat.ACTION_TYPE.TYPE_GROUP) {\n\t\t\tchatWithClassName = \"chat__group\";\n\t\t\tchatNameClassName = \"group__name\";\n\t\t\tchatStatusClassName = \"group__members\";\n\t\t\tvideoCallClassName = \"option__videocall-group\";\n\t\t\taudioCallClassName = \"option__audiocall-group\";\n\t\t\tviewDetailClassName = \"option__viewdetail-group\";\n\t\t\tavatar = <CometChatAvatar group={this.context.item} />;\n\t\t}\n\n\t\tlet typing = null;\n\t\tif(this.state.typing) {\n\t\t\ttyping = (\n\t\t\t\t<span css={chatStatusStyle(this.state, this.context)} className={chatStatusClassName}>\n\t\t\t\t\t{this.state.typing}\n\t\t\t\t</span>\n\t\t\t);\n\t\t}\n\n\t\tlet status = (\n\t\t\t<span css={chatStatusStyle(this.state, this.context)} className={chatStatusClassName}>\n\t\t\t\t{this.state.status}\n\t\t\t</span>\n\t\t);\n\n\t\tconst audioCallText = \"Gọi\"\n\t\t// const audioCallText = Translator.translate(\"AUDIO_CALL\", this.context.language);\n\t\tlet audioCallBtn = (\n\t\t\t<div className={audioCallClassName} css={chatOptionStyle(audioCallIcon, this.context, 0)} title={audioCallText} onClick={this.initiateAudioCall}>\n\t\t\t\t<i></i>\n\t\t\t</div>\n\t\t);\n\n\t\tif (this.context.checkIfCallIsOngoing()) {\n\t\t\tconst audioCallText = Translator.translate(\"YOU_ALREADY_ONGOING_CALL\", this.context.language);\n\t\t\taudioCallBtn = (\n\t\t\t\t<div className={audioCallClassName} css={chatOptionStyle(audioCallIcon, this.context, 1)} title={audioCallText}>\n\t\t\t\t\t<i></i>\n\t\t\t\t</div>\n\t\t\t);\n\t\t}\n\n\t\tconst videoCallText = \"Gọi Video\"\n\t\t// const videoCallText = Translator.translate(\"VIDEO_CALL\", this.context.language);\n\t\tlet videoCallBtn = (\n\t\t\t<div className={videoCallClassName} css={chatOptionStyle(videoCallIcon, this.context, 0)} title={videoCallText} onClick={this.initiateVideoCall}>\n\t\t\t\t<i></i>\n\t\t\t</div>\n\t\t);\n\n\t\tif (this.context.checkIfCallIsOngoing()) {\n\t\t\tconst videoCallText = Translator.translate(\"YOU_ALREADY_ONGOING_CALL\", this.context.language);\n\t\t\tvideoCallBtn = (\n\t\t\t\t<div className={videoCallClassName} css={chatOptionStyle(videoCallIcon, this.context, 1)} title={videoCallText}>\n\t\t\t\t\t<i></i>\n\t\t\t\t</div>\n\t\t\t);\n\t\t}\n\n\t\tconst viewDetailText = \"Chi tiết\"\n\t\t// const viewDetailText = Translator.translate(\"VIEW_DETAIL\", this.context.language);\n\t\tlet viewDetailBtn = (\n\t\t\t<div className={viewDetailClassName} css={chatOptionStyle(detailPaneIcon, this.context, 0)} title={viewDetailText} onClick={this.viewDetail}>\n\t\t\t\t<i></i>\n\t\t\t</div>\n\t\t);\n\n\t\t/**\n\t\t * If the chat window open is of users and block user and shared media feature is disabled, hide view detail button\n\t\t */\n\t\tif (this.context.type === CometChat.ACTION_TYPE.TYPE_USER) {\n\t\t\tif (this.state.enableBlockUser === false && this.state.enableSharedMedia === false) {\n\t\t\t\tviewDetailBtn = null;\n\t\t\t}\n\t\t} else if (this.context.type === CometChat.ACTION_TYPE.TYPE_GROUP) {\n\t\t\t/**\n\t\t\t * If the chat window open is of group\n\t\t\t */\n\t\t\tif (this.context.item?.scope === CometChat.GROUP_MEMBER_SCOPE.PARTICIPANT) {\n\t\t\t\t/**\n\t\t\t\t * If the loggedin user scope is participant, leave group, view group members, and shared media feature is disabled, hide view detail button\n\t\t\t\t */\n\t\t\t\tif (this.state.enableLeaveGroup === false && this.state.enableSharedMedia === false && this.state.enableViewGroupMembers === false) {\n\t\t\t\t\tviewDetailBtn = null;\n\t\t\t\t}\n\t\t\t} else if (this.context.item?.scope === CometChat.GROUP_MEMBER_SCOPE.MODERATOR) {\n\t\t\t\t/**\n\t\t\t\t * If the loggedin user scope is moderator, leave group, view group members, kick & ban group members, changing scope of group members and shared media feature is disabled, hide view detail button\n\t\t\t\t */\n\t\t\t\tif (this.state.enableLeaveGroup === false && this.state.enableSharedMedia === false && this.state.enableViewGroupMembers === false && this.state.enableKickGroupMembers === false && this.state.enableBanGroupMembers === false && this.state.enableChangeScope === false) {\n\t\t\t\t\tviewDetailBtn = null;\n\t\t\t\t}\n\t\t\t} else if (this.context.item?.scope === CometChat.GROUP_MEMBER_SCOPE.ADMIN) {\n\t\t\t\t/**\n\t\t\t\t * If the loggedin user scope is admin, add group members, view group members, kick & ban group members, changing scope of group members, leave and delete group and shared media feature is disabled, hide view detail button\n\t\t\t\t */\n\t\t\t\tif (\n\t\t\t\t\tthis.state.enableLeaveGroup === false &&\n\t\t\t\t\tthis.state.enableSharedMedia === false &&\n\t\t\t\t\tthis.state.enableViewGroupMembers === false &&\n\t\t\t\t\tthis.state.enableKickGroupMembers === false &&\n\t\t\t\t\tthis.state.enableBanGroupMembers === false &&\n\t\t\t\t\tthis.state.enableChangeScope === false &&\n\t\t\t\t\tthis.state.enableDeleteGroup === false &&\n\t\t\t\t\tthis.state.enableAddGroupMembers === false\n\t\t\t\t) {\n\t\t\t\t\tviewDetailBtn = null;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\t//if audiocall feature is disabled\n\t\tif ((this.context.type === CometChat.ACTION_TYPE.TYPE_USER && this.state.enableOneOnOneVoiceCall === false) || (this.context.type === CometChat.ACTION_TYPE.TYPE_GROUP && this.state.enableGroupVoiceCall === false)) {\n\t\t\taudioCallBtn = null;\n\t\t}\n\n\t\t//if videocall feature is disabled\n\t\tif ((this.context.type === CometChat.ACTION_TYPE.TYPE_USER && this.state.enableOneOnOneVideoCall === false) || (this.context.type === CometChat.ACTION_TYPE.TYPE_GROUP && this.state.enableGroupVideoCall === false)) {\n\t\t\tvideoCallBtn = null;\n\t\t}\n\n\t\t//if user presence is disabled in chat widget\n\t\tif (this.state.enableUserPresence === false && this.context.type === CometChat.ACTION_TYPE.TYPE_USER) {\n\t\t\tstatus = null;\n\t\t}\n\n\t\treturn (\n\t\t\t<div css={chatHeaderStyle(this.context)} className=\"chat__header\">\n\t\t\t\t<div css={chatDetailStyle()} className=\"chat__details\">\n\t\t\t\t\t<div css={chatSideBarBtnStyle(menuIcon, this.props, this.context)} className=\"chat__sidebar-menu\" onClick={this.resetChat}></div>\n\t\t\t\t\t<div css={chatThumbnailStyle()} className=\"chat__thumbnail\">\n\t\t\t\t\t\t{avatar}\n\t\t\t\t\t\t{presence}\n\t\t\t\t\t</div>\n\t\t\t\t\t<div css={chatUserStyle(this.context)} className={chatWithClassName}>\n\t\t\t\t\t\t<h6 css={chatNameStyle(this.context)} className={chatNameClassName} onMouseEnter={event => this.toggleTooltip(event, true)} onMouseLeave={event => this.toggleTooltip(event, false)}>\n\t\t\t\t\t\t\t{this.context.item.name}\n\t\t\t\t\t\t</h6>\n\t\t\t\t\t\t{typing ? typing : status}\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t\t<div css={chatOptionWrapStyle()} className=\"chat__options\">\n\t\t\t\t\t{videoCallBtn}\n\t\t\t\t\t{audioCallBtn}\n\t\t\t\t\t{viewDetailBtn}\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t);\n\t}\n}\n\n// Specifies the default values for props:\nCometChatMessageHeader.defaultProps = {\n  theme: theme,\n  item: {},\n  type: \"\"\n};\n\nCometChatMessageHeader.propTypes = {\n  theme: PropTypes.object,\n  item: PropTypes.object,\n  type: PropTypes.string\n}\n\nexport { CometChatMessageHeader };\n","import { CometChat } from \"@cometchat-pro/chat\";\n\nimport * as enums from \"../../../util/enums\";\n\nclass MessageFilter {\n\n\tcategories = {};\n\ttypes = null;\n\tcontext;\n\n\tconstructor(context) {\n\n        this.context = context;\n\n\t\tthis.categories = {\n\t\t\t[CometChat.CATEGORY_MESSAGE]: CometChat.CATEGORY_MESSAGE,\n\t\t\t[CometChat.CATEGORY_CUSTOM]: CometChat.CATEGORY_CUSTOM,\n\t\t\t[CometChat.CATEGORY_ACTION]: CometChat.CATEGORY_ACTION,\n\t\t\t[CometChat.CATEGORY_CALL]: CometChat.CATEGORY_CALL,\n\t\t};\n\n\t\tthis.types = {\n\t\t\t[CometChat.MESSAGE_TYPE.TEXT]: CometChat.MESSAGE_TYPE.TEXT,\n\t\t\t[CometChat.MESSAGE_TYPE.IMAGE]: CometChat.MESSAGE_TYPE.IMAGE,\n\t\t\t[CometChat.MESSAGE_TYPE.VIDEO]: CometChat.MESSAGE_TYPE.VIDEO,\n\t\t\t[CometChat.MESSAGE_TYPE.AUDIO]: CometChat.MESSAGE_TYPE.AUDIO,\n\t\t\t[CometChat.MESSAGE_TYPE.FILE]: CometChat.MESSAGE_TYPE.FILE,\n\t\t\t[enums.CUSTOM_TYPE_POLL]: enums.CUSTOM_TYPE_POLL,\n\t\t\t[enums.CUSTOM_TYPE_STICKER]: enums.CUSTOM_TYPE_STICKER,\n\t\t\t[enums.CUSTOM_TYPE_DOCUMENT]: enums.CUSTOM_TYPE_DOCUMENT,\n\t\t\t[enums.CUSTOM_TYPE_WHITEBOARD]: enums.CUSTOM_TYPE_WHITEBOARD,\n\t\t\t[enums.CUSTOM_TYPE_MEETING]: enums.CUSTOM_TYPE_MEETING,\n\t\t\t[CometChat.ACTION_TYPE.TYPE_GROUP_MEMBER]: CometChat.ACTION_TYPE.TYPE_GROUP_MEMBER,\n\t\t\t[CometChat.CALL_TYPE.AUDIO]: CometChat.CALL_TYPE.AUDIO,\n\t\t\t[CometChat.CALL_TYPE.VIDEO]: CometChat.CALL_TYPE.VIDEO,\n\t\t};\n\t}\n\n\tgetCategories = () => {\n\n\t\tconst categories = {...this.categories};\n\n\t\treturn new Promise(resolve => {\n\t\t\tthis.context.FeatureRestriction.isGroupActionMessagesEnabled()\n\t\t\t\t.then(response => {\n\t\t\t\t\tif (response === false) {\n\t\t\t\t\t\tdelete categories[CometChat.CATEGORY_ACTION];\n\t\t\t\t\t}\n\t\t\t\t\treturn categories;\n\t\t\t\t})\n\t\t\t\t.catch(error => {\n\t\t\t\t\tdelete categories[CometChat.CATEGORY_ACTION];\n\t\t\t\t\treturn categories;\n\t\t\t\t})\n\t\t\t\t.then(categories => {\n\t\t\t\t\tthis.context.FeatureRestriction.isCallActionMessagesEnabled()\n\t\t\t\t\t\t.then(response => {\n\t\t\t\t\t\t\tif (response === false) {\n\t\t\t\t\t\t\t\tdelete categories[CometChat.CATEGORY_CALL];\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tresolve(categories);\n\t\t\t\t\t\t})\n\t\t\t\t\t\t.catch(error => {\n\t\t\t\t\t\t\tdelete categories[CometChat.CATEGORY_CALL];\n\t\t\t\t\t\t\tresolve(categories);\n\t\t\t\t\t\t});\n\t\t\t\t});\n\t\t});\n\t};\n\n\tgetTypes = () => {\n\n        const types = {...this.types};\n        return new Promise(resolve => resolve(types));\n\t};\n}\n\nexport default MessageFilter;","import { CometChat } from \"@cometchat-pro/chat\";\n\nimport * as enums from \"../../../util/enums.js\";\nimport MessageFilter from \"./MessageFilter\";\n\nexport class MessageListManager {\n\n    item = {};\n    type = \"\";\n    parentMessageId = null;\n    messageRequest = null;\n    limit = 30;\n    \n    msgListenerId = \"message_\" + new Date().getTime();\n    groupListenerId = \"group_\" + new Date().getTime();\n    callListenerId = \"call_\" + new Date().getTime(); \n\n    constructor(context, item, type, parentMessageId) {\n\n        this.item = item;\n        this.type = type;\n        this.parentMessageId = parentMessageId;\n        this.context = context;\n    }\n\n    initializeMessageRequest = () => {\n\n        return new Promise(resolve => {\n\n            let categories = {};\n            let types = {};\n\n            let messageFilterManager = new MessageFilter(this.context);\n\n            messageFilterManager\n                .getCategories()\n                .then(categoryList => categories = Object.keys(categoryList))\n                .then(() => messageFilterManager.getTypes())\n                .then(typeList => types = Object.keys(typeList))\n                .then(() => this.context.FeatureRestriction.isHideDeletedMessagesEnabled())\n                .then(hideDeletedMessages => {\n                    if (this.type === CometChat.ACTION_TYPE.TYPE_USER) {\n                        if (this.parentMessageId) {\n                            this.messageRequest = new CometChat.MessagesRequestBuilder().setUID(this.item.uid).setParentMessageId(this.parentMessageId).setCategories(categories).setTypes(types).hideDeletedMessages(hideDeletedMessages).setLimit(this.limit).build();\n                        } else {\n                            this.messageRequest = new CometChat.MessagesRequestBuilder().setUID(this.item.uid).setCategories(categories).setTypes(types).hideReplies(true).hideDeletedMessages(hideDeletedMessages).setLimit(this.limit).build();\n                        }\n                        resolve(this.messageRequest);\n                    } else if (this.type === CometChat.ACTION_TYPE.TYPE_GROUP) {\n                        if (this.parentMessageId) {\n                            this.messageRequest = new CometChat.MessagesRequestBuilder().setGUID(this.item.guid).setParentMessageId(this.parentMessageId).setCategories(categories).setTypes(types).hideDeletedMessages(hideDeletedMessages).setLimit(this.limit).build();\n                        } else {\n                            this.messageRequest = new CometChat.MessagesRequestBuilder().setGUID(this.item.guid).setCategories(categories).setTypes(types).hideReplies(true).hideDeletedMessages(hideDeletedMessages).setLimit(this.limit).build();\n                        }\n                        resolve(this.messageRequest);\n                    }\n                });\n\n        });\n    }\n\n    fetchPreviousMessages() {\n        return this.messageRequest.fetchPrevious();\n    }\n\n    attachListeners(callback) {\n        \n        CometChat.addMessageListener(\n            this.msgListenerId,\n            new CometChat.MessageListener({\n                onTextMessageReceived: textMessage => {\n                    callback(enums.TEXT_MESSAGE_RECEIVED, textMessage);\n                },\n                onMediaMessageReceived: mediaMessage => {\n                    callback(enums.MEDIA_MESSAGE_RECEIVED, mediaMessage);\n                },\n                onCustomMessageReceived: customMessage => {\n                    callback(enums.CUSTOM_MESSAGE_RECEIVED, customMessage);\n                },\n                onMessagesDelivered: messageReceipt => {\n                    callback(enums.MESSAGE_DELIVERED, messageReceipt);\n                },\n                onMessagesRead: messageReceipt => {\n                    callback(enums.MESSAGE_READ, messageReceipt);\n                },\n                onMessageDeleted: deletedMessage => {\n                    callback(enums.MESSAGE_DELETED, deletedMessage);\n                },\n                onMessageEdited: editedMessage => {\n                    callback(enums.MESSAGE_EDITED, editedMessage);\n                },\n                onTransientMessageReceived: transientMessage => {\n                    callback(enums.TRANSIENT_MESSAGE_RECEIVED, transientMessage);\n                }\n            })\n        );\n\n        CometChat.addGroupListener(\n            this.groupListenerId,\n            new CometChat.GroupListener({\n                onGroupMemberScopeChanged: (message, changedUser, newScope, oldScope, changedGroup) => {\n                    callback(enums.GROUP_MEMBER_SCOPE_CHANGED, message, changedGroup, {\"user\": changedUser, \"scope\": newScope});\n                }, \n                onGroupMemberKicked: (message, kickedUser, kickedBy, kickedFrom) => {\n                    callback(enums.GROUP_MEMBER_KICKED, message, kickedFrom, {\"user\": kickedUser, \"hasJoined\": false});\n                }, \n                onGroupMemberBanned: (message, bannedUser, bannedBy, bannedFrom) => {\n                    callback(enums.GROUP_MEMBER_BANNED, message, bannedFrom, {\"user\": bannedUser});\n                }, \n                onGroupMemberUnbanned: (message, unbannedUser, unbannedBy, unbannedFrom) => {\n                    callback(enums.GROUP_MEMBER_UNBANNED, message, unbannedFrom, {\"user\": unbannedUser});\n                }, \n                onMemberAddedToGroup: (message, userAdded, userAddedBy, userAddedIn) => {\n                    callback(enums.GROUP_MEMBER_ADDED, message, userAddedIn, {\"user\": userAdded, \"hasJoined\": true});\n                }, \n                onGroupMemberLeft: (message, leavingUser, group) => {\n                    callback(enums.GROUP_MEMBER_LEFT, message, group, {\"user\": leavingUser});\n                }, \n                onGroupMemberJoined: (message, joinedUser, joinedGroup) => {\n                    callback(enums.GROUP_MEMBER_JOINED, message, joinedGroup, {\"user\": joinedUser});\n                }\n            })\n        );\n        \n        CometChat.addCallListener(\n            this.callListenerId,\n            new CometChat.CallListener({\n                onIncomingCallReceived: call => {\n                  callback(enums.INCOMING_CALL_RECEIVED, call);\n                },\n                onIncomingCallCancelled: call => {\n                    callback(enums.INCOMING_CALL_CANCELLED, call);\n                },\n                onOutgoingCallAccepted: call => {\n                    callback(enums.OUTGOING_CALL_ACCEPTED, call);\n                },\n                onOutgoingCallRejected: call => {\n                  callback(enums.OUTGOING_CALL_REJECTED, call);\n                }\n            })\n        );\n    }\n\n    removeListeners() {\n\n        CometChat.removeMessageListener(this.msgListenerId);\n        CometChat.removeGroupListener(this.groupListenerId);\n        CometChat.removeCallListener(this.callListenerId);\n    }\n}","export const chatListStyle = context => {\n\n\treturn {\n\t\tbackgroundColor: `${context.theme.backgroundColor.white}`,\n\t\tzIndex: \"1\",\n\t\twidth: \"100%\",\n\t\tflex: \"1 1 0\",\n\t\torder: \"2\",\n\t\tposition: \"relative\",\n\t};\n};\n\nexport const listWrapperStyle = () => {\n\n    return {\n        boxSizing: \"border-box\",\n        display: \"flex\",\n        flexDirection: \"column\",\n        height: \"100%\",\n        overflowX: \"hidden\",\n        overflowY: \"scroll\",\n        position: \"absolute\",\n        top: \"0\",\n        transition: \"background .3s ease-out .1s\",\n        width: \"100%\",\n        zIndex: \"100\",\n        paddingTop: \"16px\"\n    }\n}\n\nexport const messageDateContainerStyle = () => {\n\n    return {\n        marginBottom: \"16px\",\n        display: \"flex\",\n        alignItems: \"center\",\n        justifyContent: \"center\",\n        height: \"35px\",\n    }\n}\n\nexport const messageDateStyle = context => {\n\n\treturn {\n\t\tpadding: \"8px 12px\",\n\t\tbackgroundColor: `${context.theme.backgroundColor.secondary}`,\n\t\tcolor: `${context.theme.color.primary}`,\n\t\tborderRadius: \"10px\",\n\t};\n};\n\nexport const decoratorMessageStyle = () => {\n\n    return {\n        overflow: \"hidden\",\n        width: \"100%\",\n        display: \"flex\",\n        justifyContent: \"center\",\n        alignItems: \"center\",\n        position: \"absolute\",\n        top: \"50%\",\n    }\n}\n\nexport const decoratorMessageTxtStyle = context => {\n\n\treturn {\n\t\tmargin: \"0\",\n\t\theight: \"36px\",\n\t\tcolor: `${context.theme.color.secondary}`,\n\t\tfontSize: \"20px!important\",\n\t\tfontWeight: \"600\",\n\t\tlineHeight: \"30px\",\n\t};\n};","import React from \"react\";\nimport dateFormat from \"dateformat\";\n/** @jsxRuntime classic */\n/** @jsx jsx */\nimport { jsx } from \"@emotion/core\";\nimport PropTypes from \"prop-types\";\nimport { CometChat } from \"@cometchat-pro/chat\";\n\nimport { MessageListManager } from \"./controller\";\n\nimport { \n  CometChatSenderTextMessageBubble, CometChatReceiverTextMessageBubble,\n  CometChatSenderImageMessageBubble, CometChatReceiverImageMessageBubble,\n  CometChatSenderFileMessageBubble, CometChatReceiverFileMessageBubble,\n  CometChatSenderAudioMessageBubble, CometChatReceiverAudioMessageBubble,\n  CometChatSenderVideoMessageBubble, CometChatReceiverVideoMessageBubble,\n  CometChatSenderDirectCallBubble, CometChatReceiverDirectCallBubble,\n  CometChatDeleteMessageBubble, CometChatActionMessageBubble\n} from \"../\"\n\nimport {\n  CometChatSenderPollMessageBubble, CometChatReceiverPollMessageBubble,\n  CometChatSenderStickerBubble, CometChatReceiverStickerMessageBubble,\n  CometChatSenderDocumentBubble, CometChatReceiverDocumentBubble,\n  CometChatSenderWhiteboardBubble, CometChatReceiverWhiteboardBubble,\n} from \"../Extensions\"\n\nimport { CometChatContext } from \"../../../util/CometChatContext\";\nimport * as enums from \"../../../util/enums.js\";\nimport { getMessageDate } from \"../../../util/common\";\n\nimport { theme } from \"../../../resources/theme\";\nimport Translator from \"../../../resources/localization/translator\";\n\nimport { \n\tchatListStyle,\n\tlistWrapperStyle,\n\tmessageDateContainerStyle,\n\tmessageDateStyle,\n\tdecoratorMessageStyle,\n\tdecoratorMessageTxtStyle\n} from \"./style\";\n\nclass CometChatMessageList extends React.PureComponent {\n\tloggedInUser = null;\n\tlastScrollTop = 0;\n\ttimes = 0;\n\titem = {};\n\n\tstatic contextType = CometChatContext;\n\n\tconstructor(props, context) {\n\t\tsuper(props, context);\n\t\tthis.state = {\n\t\t\tonItemClick: null,\n\t\t\tloggedInUser: null,\n\t\t\tdecoratorMessage: \"LOADING\",\n\t\t};\n\n\t\tthis.messagesEnd = React.createRef();\t\n\t}\n\n\tcomponentDidMount() {\n\n\t\tCometChat.getLoggedinUser()\n\t\t\t.then(user => {\n\t\t\t\tthis.setState({\n\t\t\t\t\tloggedInUser: user,\n\t\t\t\t});\n\t\t\t})\n\t\t\t.catch(error => this.props.actionGenerated(enums.ACTIONS[\"ERROR\"], [], \"SOMETHING_WRONG\"));\n\t\t\n\t\tif (Object.keys(this.context.item).length === 0 && this.context.type.trim().length === 0) {\n\t\t\treturn false;\n\t\t}\n\n\t\tthis.item = this.context.type === CometChat.ACTION_TYPE.TYPE_USER || CometChat.ACTION_TYPE.TYPE_GROUP ? this.context.item : {};\n\n\t\tif (this.props.parentMessageId) {\n\t\t\tthis.MessageListManager = new MessageListManager(this.context, this.context.item, this.context.type, this.props.parentMessageId);\n\t\t} else {\n\t\t\tthis.MessageListManager = new MessageListManager(this.context, this.context.item, this.context.type);\n\t\t}\n\n\t\t\n\t\tthis.MessageListManager.initializeMessageRequest().then(() => {\n\t\t\tthis.messageHandler(this.context.item, enums.ACTIONS[\"MESSAGES_INITIAL_FETCH\"]);\n\t\t\tthis.MessageListManager.attachListeners(this.messageUpdated);\n\t\t});\n\t}\n\n\tcomponentDidUpdate(prevProps, prevState) {\n\n\t\tconst ifChatWindowChanged = () => {\n\t\t\tlet output = false;\n\n\t\t\tif (this.context.type === CometChat.ACTION_TYPE.TYPE_USER && (this.context.item.uid !== this.item.uid || this.context.item.blockedByMe !== this.item.blockedByMe)) {\n\t\t\t\toutput = true;\n\t\t\t} else if (this.context.type === CometChat.ACTION_TYPE.TYPE_GROUP && this.context.item.guid !== this.item.guid) {\n\t\t\t\toutput = true;\n\t\t\t} else if (prevProps.parentMessageId !== this.props.parentMessageId) {\n\t\t\t\toutput = true;\n\t\t\t}\n\t\t\treturn output;\n\t\t};\n\n\t\tif (ifChatWindowChanged() === true) {\n\t\t\tthis.messageCount = 0;\n\t\t\tthis.setState({ decoratorMessage: \"LOADING\" });\n\n\t\t\tthis.MessageListManager?.removeListeners();\n\n\t\t\tif (this.props.parentMessageId) {\n\t\t\t\tthis.MessageListManager = new MessageListManager(this.context, this.context.item, this.context.type, this.props.parentMessageId);\n\t\t\t} else {\n\t\t\t\tthis.MessageListManager = new MessageListManager(this.context, this.context.item, this.context.type);\n\t\t\t}\n\n\t\t\tthis.MessageListManager.initializeMessageRequest().then(() => {\n\t\t\t\tthis.messageHandler(this.context.item, enums.ACTIONS[\"MESSAGES_INITIAL_FETCH\"]);\n\t\t\t\tthis.MessageListManager?.attachListeners(this.messageUpdated);\n\t\t\t});\n\t\t}\n\n\t\tconst previousMessageStr = JSON.stringify(prevProps.messages);\n\t\tconst currentMessageStr = JSON.stringify(this.props.messages);\n\n\t\tif (previousMessageStr !== currentMessageStr) {\n\t\t\tif (this.props.scrollToBottom) {\n\t\t\t\tthis.scrollToBottom();\n\t\t\t} else {\n\t\t\t\tthis.scrollToBottom(this.lastScrollTop);\n\t\t\t}\n\t\t}\n\n\t\tthis.item = this.context.type === CometChat.ACTION_TYPE.TYPE_USER || CometChat.ACTION_TYPE.TYPE_GROUP ? this.context.item : {};\n\t\tif (this.context.leftGroupId.trim().length) {\n\t\t\tthis.item = {};\n\t\t}\n\t}\n\n\tcomponentWillUnmount() {\n\t\tthis.MessageListManager?.removeListeners();\n\t\tthis.MessageListManager = null;\n\t}\n\n\tscrollToBottom = (scrollHeight = 0) => {\n\n\t\tif (this.messagesEnd) {\n\t\t\tthis.messagesEnd.scrollTop = this.messagesEnd.scrollHeight - scrollHeight;\n\t\t}\n\t};\n\n\tmessageHandler = (item, actionGenerated = enums.ACTIONS[\"MESSAGES_FETCHED\"]) => {\n\t\tthis.fetchMessages()\n\t\t\t.then(messageList => {\n\t\t\t\tif (messageList.length === 0) {\n\t\t\t\t\tthis.setState({ decoratorMessage: \"NO_MESSAGES_FOUND\" });\n\t\t\t\t} else {\n\t\t\t\t\tthis.setState({ decoratorMessage: \"\" });\n\t\t\t\t}\n\n\t\t\t\t//updating messagecount variable\n\t\t\t\tthis.messageCount = messageList.length;\n\n\t\t\t\tmessageList.forEach(message => {\n\t\t\t\t\t//if the sender of the message is not the loggedin user\n\t\t\t\t\tif (message.getSender().getUid() !== this.state.loggedInUser?.uid) {\n\t\t\t\t\t\t//mark the message as delivered\n\t\t\t\t\t\tthis.markMessageAsDelivered(message);\n\n\t\t\t\t\t\t//mark the message as read\n\t\t\t\t\t\tif (message.hasOwnProperty(\"readAt\") === false) {\n\t\t\t\t\t\t\tCometChat.markAsRead(message);\n\t\t\t\t\t\t\tthis.props.actionGenerated(enums.ACTIONS[\"MESSAGE_READ\"], message);\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t});\n\n\t\t\t\tthis.lastScrollTop = this.messagesEnd.scrollHeight;\n\n\t\t\t\t//abort(don't return messagelist), when the chat window changes\n\t\t\t\tif ((item.hasOwnProperty(\"uid\") && this.context.item.hasOwnProperty(\"uid\") && item.uid === this.context.item.uid) || (item.hasOwnProperty(\"guid\") && this.context.item.hasOwnProperty(\"guid\") && item.guid === this.context.item.guid)) {\n\t\t\t\t\tthis.props.actionGenerated(actionGenerated, messageList);\n\t\t\t\t}\n\t\t\t})\n\t\t\t.catch(error => {\n\t\t\t\tif (this.props.messages.length === 0) {\n\t\t\t\t\tthis.setState({ decoratorMessage: \"SOMETHING_WRONG\" });\n\t\t\t\t}\n\n\t\t\t\tif (error && error.hasOwnProperty(\"code\") && error.code === \"ERR_GUID_NOT_FOUND\") {\n\t\t\t\t\t//this.context.setDeletedGroupId(this.context.item.guid);\n\t\t\t\t}\n\t\t\t});\n\t};\n\n\tfetchMessages = () => {\n\t\tconst promise = new Promise((resolve, reject) => {\n\t\t\tthis.MessageListManager.fetchPreviousMessages()\n\t\t\t\t.then(messageList => {\n\t\t\t\t\tresolve(messageList);\n\t\t\t\t})\n\t\t\t\t.catch(error => reject(error));\n\t\t});\n\n\t\treturn promise;\n\t};\n\n\t//callback for listener functions\n\tmessageUpdated = (key, message, group, options) => {\n\n\t\tswitch (key) \n\t\t{\n\t\t\tcase enums.MESSAGE_DELETED:\n\t\t\t\tthis.onMessageDeleted(message);\n\t\t\t\tbreak;\n\t\t\tcase enums.MESSAGE_EDITED:\n\t\t\t\tthis.onMessageEdited(message);\n\t\t\t\tbreak;\n\t\t\tcase enums.MESSAGE_DELIVERED:\n\t\t\tcase enums.MESSAGE_READ:\n\t\t\t\tthis.onMessageReadAndDelivered(message);\n\t\t\t\tbreak;\n\t\t\tcase enums.TEXT_MESSAGE_RECEIVED:\n\t\t\tcase enums.MEDIA_MESSAGE_RECEIVED:\n\t\t\t\tthis.onMessageReceived(message);\n\t\t\t\tbreak;\n\t\t\tcase enums.CUSTOM_MESSAGE_RECEIVED:\n\t\t\t\tthis.onCustomMessageReceived(message);\n\t\t\t\tbreak;\n\t\t\tcase enums.GROUP_MEMBER_SCOPE_CHANGED:\n\t\t\tcase enums.GROUP_MEMBER_JOINED:\n\t\t\tcase enums.GROUP_MEMBER_LEFT:\n\t\t\tcase enums.GROUP_MEMBER_ADDED:\n\t\t\tcase enums.GROUP_MEMBER_KICKED:\n\t\t\tcase enums.GROUP_MEMBER_BANNED:\n\t\t\tcase enums.GROUP_MEMBER_UNBANNED:\n\t\t\t\tthis.onGroupUpdated(key, message, group, options);\n\t\t\t\tbreak;\n\t\t\tcase enums.INCOMING_CALL_RECEIVED:\n\t\t\tcase enums.INCOMING_CALL_CANCELLED:\n\t\t\tcase enums.OUTGOING_CALL_ACCEPTED:\n\t\t\tcase enums.OUTGOING_CALL_REJECTED:\n\t\t\t\tthis.onCallUpdated(key, message);\n\t\t\t\tbreak;\n\t\t\tcase enums.TRANSIENT_MESSAGE_RECEIVED:\n\t\t\t\tthis.onTransientMessageReceived(key, message);\n\t\t\t\tbreak;\n\t\t\tdefault:\n\t\t\t\tbreak;\n\t\t}\n\t};\n\n\tonMessageDeleted = message => {\n\t\tif (this.context.type === CometChat.RECEIVER_TYPE.GROUP && message.getReceiverType() === CometChat.RECEIVER_TYPE.GROUP && message.getReceiverId() === this.context.item.guid) {\n\t\t\tthis.props.actionGenerated(enums.ACTIONS[\"ON_MESSAGE_DELETED\"], [message]);\n\t\t} else if (this.context.type === CometChat.RECEIVER_TYPE.USER && message.getReceiverType() === CometChat.RECEIVER_TYPE.USER && message.getSender().uid === this.context.item.uid) {\n\t\t\tthis.props.actionGenerated(enums.ACTIONS[\"ON_MESSAGE_DELETED\"], [message]);\n\t\t}\n\t};\n\n\tonMessageEdited = message => {\n\t\tconst messageList = [...this.props.messages];\n\t\tconst updateEditedMessage = message => {\n\t\t\tlet messageKey = messageList.findIndex(m => m.id === message.id);\n\n\t\t\tif (messageKey > -1) {\n\t\t\t\tconst messageObj = messageList[messageKey];\n\t\t\t\tconst newMessageObj = Object.assign({}, messageObj, message);\n\n\t\t\t\tmessageList.splice(messageKey, 1, newMessageObj);\n\t\t\t\tthis.props.actionGenerated(enums.ACTIONS[\"ON_MESSAGE_EDITED\"], messageList, newMessageObj);\n\t\t\t}\n\t\t};\n\n\t\tif (this.context.type === CometChat.RECEIVER_TYPE.GROUP && message.getReceiverType() === CometChat.RECEIVER_TYPE.GROUP && message.getReceiverId() === this.context.item.guid) {\n\t\t\tupdateEditedMessage(message);\n\t\t} else if (this.context.type === CometChat.RECEIVER_TYPE.USER && message.getReceiverType() === CometChat.RECEIVER_TYPE.USER && this.state.loggedInUser?.uid === message.getReceiverId() && message.getSender().uid === this.context.item.uid) {\n\t\t\tupdateEditedMessage(message);\n\t\t} else if (this.context.type === CometChat.RECEIVER_TYPE.USER && message.getReceiverType() === CometChat.RECEIVER_TYPE.USER && this.state.loggedInUser?.uid === message.getSender().uid && message.getReceiverId() === this.context.item.uid) {\n\t\t\tupdateEditedMessage(message);\n\t\t}\n\t};\n\n\tonMessageReadAndDelivered = message => {\n\n\t\t//read receipts\n\t\tif (message.getReceiverType() === CometChat.RECEIVER_TYPE.USER && message.getSender().getUid() === this.context.item.uid && message.getReceiver() === this.state.loggedInUser?.uid) {\n\t\t\tlet messageList = [...this.props.messages];\n\n\t\t\tif (message.getReceiptType() === \"delivery\") {\n\t\t\t\t//search for message\n\n\t\t\t\tlet messageKey = messageList.findIndex(m => m.id === message.messageId);\n\n\t\t\t\tif (messageKey > -1) {\n\t\t\t\t\tlet messageObj = messageList[messageKey];\n\t\t\t\t\tlet newMessageObj = Object.assign({}, messageObj, { deliveredAt: message.getDeliveredAt() });\n\n\t\t\t\t\tmessageList.splice(messageKey, 1, newMessageObj);\n\t\t\t\t\tthis.props.actionGenerated(enums.ACTIONS[\"ON_MESSAGE_READ_DELIVERED\"], messageList);\n\t\t\t\t}\n\t\t\t} else if (message.getReceiptType() === \"read\") {\n\t\t\t\t//search for message\n\t\t\t\tlet messageKey = messageList.findIndex(m => m.id === message.messageId);\n\n\t\t\t\tif (messageKey > -1) {\n\t\t\t\t\tlet messageObj = { ...messageList[messageKey] };\n\t\t\t\t\tlet newMessageObj = Object.assign({}, messageObj, { readAt: message.getReadAt() });\n\n\t\t\t\t\tmessageList.splice(messageKey, 1, newMessageObj);\n\t\t\t\t\tthis.props.actionGenerated(enums.ACTIONS[\"ON_MESSAGE_READ_DELIVERED\"], messageList);\n\t\t\t\t}\n\t\t\t}\n\t\t} else if (message.getReceiverType() === CometChat.RECEIVER_TYPE.GROUP && message.getReceiver() === this.context.item.guid) {\n\t\t\t//not implemented\n\t\t}\n\t};\n\n\treInitializeMessageBuilder = () => {\n\t\tif (this.props.hasOwnProperty(\"parentMessageId\") === false) {\n\t\t\tthis.messageCount = 0;\n\t\t}\n\n\t\tthis.props.actionGenerated(enums.ACTIONS[\"REFRESHING_MESSAGES\"], []);\n\t\tthis.setState({ decoratorMessage: \"LOADING\" });\n\t\tthis.MessageListManager.removeListeners();\n\n\t\tif (this.props.parentMessageId) {\n\t\t\tthis.MessageListManager = new MessageListManager(this.context, this.context.item, this.context.type, this.props.parentMessageId);\n\t\t} else {\n\t\t\tthis.MessageListManager = new MessageListManager(this.context, this.context.item, this.context.type);\n\t\t}\n\n\t\tthis.MessageListManager.initializeMessageRequest().then(() => {\n\t\t\tthis.messageHandler(this.context.item, enums.ACTIONS[\"MESSAGES_REFRESHED\"]);\n\t\t\tthis.MessageListManager.attachListeners(this.messageUpdated);\n\t\t});\n\t};\n\n\t//mark the message as delivered\n\tmarkMessageAsDelivered = message => {\n\n\t\tif (message.sender?.uid !== this.state.loggedInUser?.uid && message.hasOwnProperty(\"deliveredAt\") === false) {\n\t\t\tCometChat.markAsDelivered(message);\n\t\t}\n\t};\n\n\tmarkMessageAsRead = (message, type) => {\n\t\tif (message.hasOwnProperty(\"readAt\") === false) {\n\t\t\tCometChat.markAsRead(message);\n\t\t}\n\t};\n\n\tonMessageReceived = message => {\n\n\t\t//mark the message as delivered\n\t\tthis.markMessageAsDelivered(message);\n\n\t\t/**\n\t\t * message receiver is chat window group\n\t\t */\n\t\tif (this.context.type === CometChat.RECEIVER_TYPE.GROUP && message.getReceiverType() === CometChat.RECEIVER_TYPE.GROUP && message.getReceiverId() === this.context.item.guid) {\n\t\t\tthis.messageReceivedHandler(message, CometChat.RECEIVER_TYPE.GROUP);\n\t\t} else if (this.context.type === CometChat.RECEIVER_TYPE.USER && message.getReceiverType() === CometChat.RECEIVER_TYPE.USER) {\n\t\t\t/**\n\t\t\t * If the message sender is chat window user and message receiver is logged-in user\n\t\t\t * OR\n\t\t\t * If the message sender is logged-in user and message receiver is chat window user\n\t\t\t */\n\t\t\tif ((message.getSender().uid === this.context.item.uid && message.getReceiverId() === this.state.loggedInUser?.uid) || (message.getSender().uid === this.state.loggedInUser?.uid && message.getReceiverId() === this.context.item.uid)) {\n\t\t\t\tthis.messageReceivedHandler(message, CometChat.RECEIVER_TYPE.USER);\n\t\t\t}\n\t\t}\n\t};\n\n\tmessageReceivedHandler = (message, type) => {\n\t\t//handling dom lag - increment count only for main message list\n\t\tif (message.hasOwnProperty(\"parentMessageId\") === false && this.props.hasOwnProperty(\"parentMessageId\") === false) {\n\t\t\t++this.messageCount;\n\t\t\t//if the user has not scrolled in chat window(scroll is at the bottom of the chat window)\n\t\t\tif (this.messagesEnd.scrollHeight - this.messagesEnd.scrollTop - this.messagesEnd.clientHeight <= 1) {\n\t\t\t\tif (this.messageCount > enums.CONSTANTS[\"MAX_MESSAGE_COUNT\"]) {\n\t\t\t\t\tthis.reInitializeMessageBuilder();\n\t\t\t\t} else {\n\t\t\t\t\tthis.markMessageAsRead(message, type);\n\t\t\t\t\tthis.props.actionGenerated(enums.ACTIONS[\"MESSAGE_RECEIVED\"], [message]);\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\t//if the user has scrolled up in chat window\n\t\t\t\tthis.props.actionGenerated(enums.ACTIONS[\"NEW_MESSAGES\"], [message]);\n\t\t\t}\n\t\t} else if (message.hasOwnProperty(\"parentMessageId\") === true && this.props.hasOwnProperty(\"parentMessageId\") === true) {\n\t\t\tif (message.parentMessageId === this.props.parentMessageId) {\n\t\t\t\tthis.markMessageAsRead(message, type);\n\t\t\t}\n\n\t\t\tthis.props.actionGenerated(enums.ACTIONS[\"MESSAGE_RECEIVED\"], [message]);\n\t\t} else {\n\t\t\tthis.props.actionGenerated(enums.ACTIONS[\"MESSAGE_RECEIVED\"], [message]);\n\t\t}\n\t};\n\n\t//polls, stickers, collaborative document, collaborative whiteboard\n\tonCustomMessageReceived = message => {\n\t\t//mark the message as delivered\n\t\tthis.markMessageAsDelivered(message);\n\n\t\t//new messages\n\t\tif (\n\t\t\tthis.context.type === CometChat.RECEIVER_TYPE.GROUP &&\n\t\t\tmessage.getReceiverType() === CometChat.RECEIVER_TYPE.GROUP &&\n\t\t\tthis.state.loggedInUser?.uid === message.getSender().uid &&\n\t\t\tmessage.getReceiverId() === this.context.item.guid &&\n\t\t\t(message.type === enums.CUSTOM_TYPE_POLL || message.type === enums.CUSTOM_TYPE_DOCUMENT || message.type === enums.CUSTOM_TYPE_WHITEBOARD)\n\t\t) {\n\t\t\t//showing polls, collaborative document and whiteboard for sender (custom message received listener for sender)\n\t\t\tthis.props.actionGenerated(enums.ACTIONS[\"CUSTOM_MESSAGE_RECEIVED\"], [message]);\n\t\t} else if (this.context.type === CometChat.RECEIVER_TYPE.GROUP && message.getReceiverType() === CometChat.RECEIVER_TYPE.GROUP && message.getReceiverId() === this.context.item.guid) {\n\t\t\tthis.customMessageReceivedHandler(message, CometChat.RECEIVER_TYPE.GROUP);\n\t\t} else if (this.context.type === CometChat.RECEIVER_TYPE.USER && message.getReceiverType() === CometChat.RECEIVER_TYPE.USER && message.getSender().uid === this.context.item.uid) {\n\t\t\tthis.customMessageReceivedHandler(message, CometChat.RECEIVER_TYPE.USER);\n\t\t} else if (\n\t\t\tthis.context.type === CometChat.RECEIVER_TYPE.USER &&\n\t\t\tmessage.getReceiverType() === CometChat.RECEIVER_TYPE.USER &&\n\t\t\tthis.state.loggedInUser?.uid === message.getSender().uid &&\n\t\t\tmessage.getReceiverId() === this.context.item.uid &&\n\t\t\t(message.type === enums.CUSTOM_TYPE_POLL || message.type === enums.CUSTOM_TYPE_DOCUMENT || message.type === enums.CUSTOM_TYPE_WHITEBOARD)\n\t\t) {\n\t\t\t//showing polls, collaborative document and whiteboard for sender (custom message received listener for sender)\n\t\t\tthis.props.actionGenerated(enums.ACTIONS[\"CUSTOM_MESSAGE_RECEIVED\"], [message]);\n\t\t}\n\t};\n\n\tcustomMessageReceivedHandler = (message, type) => {\n\t\t//handling dom lag - increment count only for main message list\n\t\tif (message.hasOwnProperty(\"parentMessageId\") === false && this.props.hasOwnProperty(\"parentMessageId\") === false) {\n\t\t\t++this.messageCount;\n\n\t\t\t//if the user has not scrolled in chat window(scroll is at the bottom of the chat window)\n\t\t\tif (this.messagesEnd.scrollHeight - this.messagesEnd.scrollTop - this.messagesEnd.clientHeight <= 1) {\n\t\t\t\tif (this.messageCount > enums.CONSTANTS[\"MAX_MESSAGE_COUNT\"]) {\n\t\t\t\t\tthis.reInitializeMessageBuilder();\n\t\t\t\t} else {\n\t\t\t\t\tthis.markMessageAsRead(message, type);\n\t\t\t\t\tthis.props.actionGenerated(enums.ACTIONS[\"CUSTOM_MESSAGE_RECEIVED\"], [message]);\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\t//if the user has scrolled in chat window\n\n\t\t\t\tthis.props.actionGenerated(enums.ACTIONS[\"NEW_MESSAGES\"], [message]);\n\t\t\t}\n\t\t} else if (message.hasOwnProperty(\"parentMessageId\") === true && this.props.hasOwnProperty(\"parentMessageId\") === true) {\n\t\t\tif (message.parentMessageId === this.props.parentMessageId) {\n\t\t\t\tthis.markMessageAsRead(message, type);\n\t\t\t}\n\t\t\tthis.props.actionGenerated(enums.ACTIONS[\"CUSTOM_MESSAGE_RECEIVED\"], [message]);\n\t\t} else {\n\t\t\tthis.props.actionGenerated(enums.ACTIONS[\"CUSTOM_MESSAGE_RECEIVED\"], [message]);\n\t\t}\n\t};\n\n\tonCallUpdated = (key, message) => {\n\t\tif (this.context.type === CometChat.RECEIVER_TYPE.GROUP && message.getReceiverType() === CometChat.RECEIVER_TYPE.GROUP && message.getReceiverId() === this.context.item.guid) {\n\t\t\tthis.props.actionGenerated(key, message);\n\t\t} else if (this.context.type === CometChat.RECEIVER_TYPE.USER && message.getReceiverType() === CometChat.RECEIVER_TYPE.USER && message.getSender().uid === this.context.item.uid) {\n\t\t\tthis.props.actionGenerated(key, message);\n\t\t}\n\t};\n\n\tonTransientMessageReceived = (key, message) => {\n\n\t\tif (this.context.type === CometChat.RECEIVER_TYPE.GROUP && message.getReceiverType() === CometChat.RECEIVER_TYPE.GROUP && message.getReceiverId() === this.context.item.guid) {\n\t\t\tthis.props.actionGenerated(key, message);\n\t\t} else if (this.context.type === CometChat.RECEIVER_TYPE.USER && message.getReceiverType() === CometChat.RECEIVER_TYPE.USER && message.getSender().uid === this.context.item.uid) {\n\t\t\tthis.props.actionGenerated(key, message);\n\t\t}\n\t};\n\n\tonGroupUpdated = (key, message, group, options) => {\n\t\tif (this.context.type === CometChat.RECEIVER_TYPE.GROUP && message.getReceiverType() === CometChat.RECEIVER_TYPE.GROUP && message.getReceiverId() === this.context.item.guid) {\n\t\t\tthis.props.actionGenerated(key, message, null, group, options);\n\t\t}\n\t};\n\n\thandleScroll = e => {\n\n\t\tconst scrollTop = e.currentTarget.scrollTop;\n\t\tconst scrollHeight = e.currentTarget.scrollHeight;\n\t\tconst clientHeight = e.currentTarget.clientHeight;\n\n\t\tthis.lastScrollTop = scrollHeight - scrollTop;\n\n\t\tif (this.lastScrollTop === clientHeight) {\n\t\t\tthis.props.actionGenerated(enums.ACTIONS[\"CLEAR_UNREAD_MESSAGES\"]);\n\t\t}\n\n\t\tconst top = Math.round(scrollTop) === 0;\n\t\tif (top && this.props.messages.length) {\n\t\t\tthis.messageHandler(this.context.item);\n\t\t}\n\t};\n\n\tgetSenderMessageComponent = message => {\n\n\t\tlet component;\n\t\tconst messageKey = message._id ? message._id : message.id;\n\n\t\tif (message.hasOwnProperty(\"deletedAt\")) {\n\t\t\tcomponent = <CometChatDeleteMessageBubble key={messageKey} message={message} />;\n\t\t} else {\n\t\t\tswitch (message.type) {\n\t\t\t\tcase CometChat.MESSAGE_TYPE.TEXT:\n\t\t\t\t\tcomponent = <CometChatSenderTextMessageBubble key={messageKey} message={message} actionGenerated={this.props.actionGenerated} />;\n\t\t\t\t\tbreak;\n\t\t\t\tcase CometChat.MESSAGE_TYPE.IMAGE:\n\t\t\t\t\tcomponent = <CometChatSenderImageMessageBubble key={messageKey} message={message} actionGenerated={this.props.actionGenerated} />;\n\t\t\t\t\tbreak;\n\t\t\t\tcase CometChat.MESSAGE_TYPE.FILE:\n\t\t\t\t\tcomponent = <CometChatSenderFileMessageBubble key={messageKey} message={message} actionGenerated={this.props.actionGenerated} />;\n\t\t\t\t\tbreak;\n\t\t\t\tcase CometChat.MESSAGE_TYPE.VIDEO:\n\t\t\t\t\tcomponent = <CometChatSenderVideoMessageBubble key={messageKey} message={message} actionGenerated={this.props.actionGenerated} />;\n\t\t\t\t\tbreak;\n\t\t\t\tcase CometChat.MESSAGE_TYPE.AUDIO:\n\t\t\t\t\tcomponent = <CometChatSenderAudioMessageBubble key={messageKey} message={message} actionGenerated={this.props.actionGenerated} />;\n\t\t\t\t\tbreak;\n\t\t\t\tdefault:\n\t\t\t\t\tbreak;\n\t\t\t}\n\t\t}\n\n\t\treturn component;\n\t};\n\n\tgetReceiverMessageComponent = message => {\n\n\t\tlet component;\n\t\tconst messageKey = message._id ? message._id : message.id;\n\n\t\tif (message.hasOwnProperty(\"deletedAt\")) {\n\t\t\tcomponent = <CometChatDeleteMessageBubble key={messageKey} message={message} />;\n\t\t} else {\n\t\t\tswitch (message.type) {\n\t\t\t\tcase CometChat.MESSAGE_TYPE.TEXT:\n\t\t\t\t\tcomponent = message.text ? <CometChatReceiverTextMessageBubble key={messageKey} message={message} actionGenerated={this.props.actionGenerated} /> : null;\n\t\t\t\t\tbreak;\n\t\t\t\tcase CometChat.MESSAGE_TYPE.IMAGE:\n\t\t\t\t\tcomponent = message.data.url ? <CometChatReceiverImageMessageBubble key={messageKey} message={message} actionGenerated={this.props.actionGenerated} /> : null;\n\t\t\t\t\tbreak;\n\t\t\t\tcase CometChat.MESSAGE_TYPE.FILE:\n\t\t\t\t\tcomponent = message.data.attachments ? <CometChatReceiverFileMessageBubble key={messageKey} message={message} actionGenerated={this.props.actionGenerated} /> : null;\n\t\t\t\t\tbreak;\n\t\t\t\tcase CometChat.MESSAGE_TYPE.AUDIO:\n\t\t\t\t\tcomponent = message.data.url ? <CometChatReceiverAudioMessageBubble key={messageKey} message={message} actionGenerated={this.props.actionGenerated} /> : null;\n\t\t\t\t\tbreak;\n\t\t\t\tcase CometChat.MESSAGE_TYPE.VIDEO:\n\t\t\t\t\tcomponent = message.data.url ? <CometChatReceiverVideoMessageBubble key={messageKey} message={message} actionGenerated={this.props.actionGenerated} /> : null;\n\t\t\t\t\tbreak;\n\t\t\t\tdefault:\n\t\t\t\t\tbreak;\n\t\t\t}\n\t\t}\n\t\treturn component;\n\t};\n\n\tgetSenderCustomMessageComponent = message => {\n\n\t\tlet component;\n\t\tconst messageKey = message._id ? message._id : message.id;\n\n\t\tif (message.hasOwnProperty(\"deletedAt\")) {\n\t\t\tcomponent = <CometChatDeleteMessageBubble key={messageKey} message={message} />;\n\t\t} else {\n\t\t\tswitch (message.type) {\n\t\t\t\tcase enums.CUSTOM_TYPE_POLL:\n\t\t\t\t\tcomponent = <CometChatSenderPollMessageBubble key={messageKey} message={message} actionGenerated={this.props.actionGenerated} />;\n\t\t\t\t\tbreak;\n\t\t\t\tcase enums.CUSTOM_TYPE_STICKER:\n\t\t\t\t\tcomponent = <CometChatSenderStickerBubble key={messageKey} message={message} actionGenerated={this.props.actionGenerated} />;\n\t\t\t\t\tbreak;\n\t\t\t\tcase enums.CUSTOM_TYPE_DOCUMENT:\n\t\t\t\t\tcomponent = <CometChatSenderDocumentBubble key={messageKey} message={message} actionGenerated={this.props.actionGenerated} />;\n\t\t\t\t\tbreak;\n\t\t\t\tcase enums.CUSTOM_TYPE_WHITEBOARD:\n\t\t\t\t\tcomponent = <CometChatSenderWhiteboardBubble key={messageKey} message={message} actionGenerated={this.props.actionGenerated} />;\n\t\t\t\t\tbreak;\n\t\t\t\tcase enums.CUSTOM_TYPE_MEETING:\n\t\t\t\t\tcomponent = <CometChatSenderDirectCallBubble key={messageKey} message={message} actionGenerated={this.props.actionGenerated} />;\n\t\t\t\t\tbreak;\n\t\t\t\tdefault:\n\t\t\t\t\tbreak;\n\t\t\t}\n\t\t}\n\n\t\treturn component;\n\t};\n\n\tgetReceiverCustomMessageComponent = message => {\n\n\t\tlet component;\n\t\tconst messageKey = message._id ? message._id : message.id;\n\t\t\n\t\tif (message.hasOwnProperty(\"deletedAt\")) {\n\t\t\tcomponent = <CometChatDeleteMessageBubble key={messageKey} message={message} />;\n\t\t} else {\n\t\t\tswitch (message.type) {\n\t\t\t\tcase enums.CUSTOM_TYPE_POLL:\n\t\t\t\t\tcomponent = <CometChatReceiverPollMessageBubble key={messageKey} message={message} actionGenerated={this.props.actionGenerated} />;\n\t\t\t\t\tbreak;\n\t\t\t\tcase enums.CUSTOM_TYPE_STICKER:\n\t\t\t\t\tcomponent = <CometChatReceiverStickerMessageBubble key={messageKey} message={message} actionGenerated={this.props.actionGenerated} />;\n\t\t\t\t\tbreak;\n\t\t\t\tcase enums.CUSTOM_TYPE_DOCUMENT:\n\t\t\t\t\tcomponent = <CometChatReceiverDocumentBubble key={messageKey} message={message} actionGenerated={this.props.actionGenerated} />;\n\t\t\t\t\tbreak;\n\t\t\t\tcase enums.CUSTOM_TYPE_WHITEBOARD:\n\t\t\t\t\tcomponent = <CometChatReceiverWhiteboardBubble key={messageKey} message={message} actionGenerated={this.props.actionGenerated} />;\n\t\t\t\t\tbreak;\n\t\t\t\tcase enums.CUSTOM_TYPE_MEETING:\n\t\t\t\t\tcomponent = <CometChatReceiverDirectCallBubble key={messageKey} message={message} actionGenerated={this.props.actionGenerated} />;\n\t\t\t\t\tbreak;\n\t\t\t\tdefault:\n\t\t\t\t\tbreak;\n\t\t\t}\n\t\t}\n\n\t\treturn component;\n\t};\n\n\tgetActionMessageComponent = message => {\n\n\t\tconst messageKey = message._id ? message._id : message.id;\n\t\treturn <CometChatActionMessageBubble key={messageKey} message={message} />;\n\t};\n\n\tgetComponent = (message, key) => {\n\t\tlet component;\n\n\t\tswitch (message.category) {\n\t\t\tcase CometChat.CATEGORY_ACTION:\n\t\t\tcase CometChat.CATEGORY_CALL:\n\t\t\t\tcomponent = this.getActionMessageComponent(message);\n\t\t\t\tbreak;\n\t\t\tcase CometChat.CATEGORY_MESSAGE:\n\t\t\t\tif (this.state.loggedInUser?.uid === message.sender?.uid) {\n\t\t\t\t\tcomponent = this.getSenderMessageComponent(message);\n\t\t\t\t} else {\n\t\t\t\t\tcomponent = this.getReceiverMessageComponent(message);\n\t\t\t\t}\n\t\t\t\tbreak;\n\t\t\tcase CometChat.CATEGORY_CUSTOM:\n\t\t\t\tif (this.state.loggedInUser?.uid === message.sender?.uid) {\n\t\t\t\t\tcomponent = this.getSenderCustomMessageComponent(message);\n\t\t\t\t} else {\n\t\t\t\t\tcomponent = this.getReceiverCustomMessageComponent(message);\n\t\t\t\t}\n\t\t\t\tbreak;\n\t\t\tdefault:\n\t\t\t\tbreak;\n\t\t}\n\n\t\treturn component;\n\t};\n\n\trender() {\n\n\t\tlet messageContainer = null;\n\t\tif (this.state.decoratorMessage.length !== 0 && this.props.messages.length === 0) {\n\t\t\tmessageContainer = (\n\t\t\t\t<div css={decoratorMessageStyle()} className=\"messages__decorator-message\">\n\t\t\t\t\t<p css={decoratorMessageTxtStyle(this.context)} className=\"decorator-message\">\n\t\t\t\t\t\t{Translator.translate(this.state.decoratorMessage, this.props.lang)}\n\t\t\t\t\t</p>\n\t\t\t\t</div>\n\t\t\t);\n\t\t}\n\n\t\tlet cDate = null;\n\t\tconst messages = this.props.messages.map((message, key) => {\n\t\t\tlet dateSeparator = null;\n\n\t\t\tconst dateField = message._composedAt || message.sentAt;\n\n\t\t\tconst messageDate = message.sentAt * 1000;\n\t\t\tconst messageSentDate = dateFormat(messageDate, \"dd/mm/yyyy\");\n\n\t\t\tif (cDate !== messageSentDate) {\n\t\t\t\tdateSeparator = (\n\t\t\t\t\t<div css={messageDateContainerStyle()} className=\"message__date\">\n\t\t\t\t\t\t<span css={messageDateStyle(this.context)}>{getMessageDate(dateField, this.context.language)}</span>\n\t\t\t\t\t</div>\n\t\t\t\t);\n\t\t\t}\n\t\t\tcDate = messageSentDate;\n\n\t\t\treturn (\n\t\t\t\t<React.Fragment key={key}>\n\t\t\t\t\t{dateSeparator}\n\t\t\t\t\t{this.getComponent(message, key)}\n\t\t\t\t</React.Fragment>\n\t\t\t);\n\t\t});\n\n\t\treturn (\n\t\t\t<div className=\"chat__list\" css={chatListStyle(this.context)}>\n\t\t\t\t{messageContainer}\n\t\t\t\t<div\n\t\t\t\t\tclassName=\"list__wrapper\"\n\t\t\t\t\tcss={listWrapperStyle()}\n\t\t\t\t\tref={el => {\n\t\t\t\t\t\tthis.messagesEnd = el;\n\t\t\t\t\t}}\n\t\t\t\t\tonScroll={this.handleScroll}>\n\t\t\t\t\t{messages}\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t);\n\t}\n}\n\n// Specifies the default values for props:\nCometChatMessageList.defaultProps = {\n  theme: theme\n};\n\nCometChatMessageList.propTypes = {\n  theme: PropTypes.object\n}\n\nexport { CometChatMessageList };","import { CometChat } from \"@cometchat-pro/chat\";\n\nimport * as enums from \"../../../util/enums.js\";\n\nexport class SharedMediaManager {\n\n    mediaMessageListenerId = new Date().getTime();\n    mediaMessageRequest = null;\n\n    constructor(item, type, messagetype) {\n\n        if(type === \"user\") {\n\n            this.mediaMessageRequest = new CometChat.MessagesRequestBuilder()\n            .setUID(item.uid)\n            .setLimit(10).setCategory(\"message\").setType(messagetype).build();\n\n        } else {\n\n            this.mediaMessageRequest = new CometChat.MessagesRequestBuilder()\n            .setGUID(item.guid)\n            .setLimit(10).setCategory(\"message\").setType(messagetype).build();\n        }\n    }\n\n    fetchPreviousMessages() {\n        return this.mediaMessageRequest.fetchPrevious();\n    }\n    \n    attachListeners(callback) {\n\n        CometChat.addMessageListener(\n            this.msgListenerId,\n            new CometChat.MessageListener({\n                onMediaMessageReceived: mediaMessage => {\n                    callback(enums.MEDIA_MESSAGE_RECEIVED, mediaMessage);\n                },\n                onMessageDeleted: deletedMessage => {\n                    callback(enums.MESSAGE_DELETED, deletedMessage);\n                }\n            })\n        );\n    }\n\n    removeListeners() {\n        CometChat.removeMessageListener(this.mediaMessageListenerId);\n    }\n\n}","export const sectionStyle = (props) => {\n\n    const containerHeightProp = (props.containerHeight) ? {\n        height: `calc(100% - ${props.containerHeight})`\n    } : {\n        height: \"calc(100% - 20px)\"\n    };\n\n    \n    return {\n        width: \"100%\",\n        ...containerHeightProp\n    }\n}\n\nexport const sectionHeaderStyle = (props) => {\n\n    return {\n        margin: \"0\",\n        width: \"100%\",\n        fontSize: \"12px\",\n        fontWeight: \"500!important\",\n        lineHeight: \"20px\",\n        color: `${props.theme.color.secondary}`,\n        textTransform: \"uppercase\",\n    }\n}\n\nexport const sectionContentStyle = () => {\n\n    return {\n        width: \"100%\",\n        margin: \"6px 0\",\n        display: \"flex\",\n        flexDirection: \"column\",\n        height: \"calc(100% - 20px)\"\n    }\n}\n\nexport const mediaBtnStyle = () => {\n\n    return {\n        borderRadius: \"8px\",\n        backgroundColor: \"rgba(20, 20, 20, 0.08)\",\n        width: \"100%\",\n        padding: \"2px\",\n        margin: \"6px 0\",\n        clear: \"both\",\n    }\n}\n\nexport const buttonStyle = (state, type) => {\n\n    const activeBtn = (state.messagetype === type) ? {\n        backgroundColor : \"#fff\",\n        boxShadow: \"rgba(20, 20, 20, 0.04) 0 3px 1px, rgba(20, 20, 20, 0.12) 0 3px 8px\",\n        borderRadius: \"7px\",\n        \"&::before\": {\n            display: \"none\",\n        }\n    } : {};\n\n    return {\n        display: \"inline-block\",\n        width: \"33.33%\",\n        float: \"left\",\n        fontSize: \"13px\",\n        fontWeight: \"500\",\n        lineHeight: \"18px\",\n        padding: \"5px\",\n        position: \"relative\",\n        textAlign: \"center\",\n        cursor: \"pointer\",\n        ...activeBtn,\n        \"&:before\": {\n            \"`content`\": \"\",\n            position: \"absolute\",\n            display: \"block\",\n            width: \"2px\",\n            height: \"16px\",\n            backgroundColor: \"rgba(20, 20, 20, 0.12)\",\n            right: \"-2px\",\n            top: \"6px\",\n        },\n        \"&:last-of-type::before\": {\n            display: \"none\",\n        }\n    }\n}\n\nexport const mediaItemStyle = () => {\n\n    return {\n        height: \"calc(100% - 45px)\",\n        overflowY: \"auto\",\n        overflowX: \"hidden\",\n        display: \"flex\",\n        flexWrap: \"wrap\",\n        fontSize: \"14px\",\n    }\n}\n\nexport const itemStyle = (state, props, img, context) => {\n\n    let itemTypeStyle = {};\n    let bgColor = `${props.theme.backgroundColor.lightGrey}`;\n\n    if (state.messagetype === \"image\") {\n\n        itemTypeStyle = {\n            height: \"120px\",\n            width: \"120px\",\n            backgroundColor: bgColor,\n            \"> img\": {\n                display: \"block\",\n                width: \"100%\",\n                height: \"100%\",\n                objectFit: \"contain\",\n            }\n        }\n        \n    } else if (state.messagetype === \"video\") {\n\n        itemTypeStyle = {\n            \"> video\": {\n                height: \"120px\",\n                width: \"120px\",\n                margin: \"auto\",\n            }\n        }\n\n    } else if (state.messagetype === \"file\") {\n\n        itemTypeStyle = {\n            backgroundColor: bgColor,\n            \"> a\": {\n                maxWidth: \"100%\",\n                maxHeight: \"100%\",\n                margin: \"auto\",\n                display: \"flex\",\n                padding: \"8px\",\n                \"&:hover, &:visited\": {\n                    color: `${props.theme.secondaryTextColor}`,\n                },\n                \"> i\": {\n                    width: \"30px\",\n                    height: \"24px\",\n                    display: \"inline-block\",\n                    mask: `url(${img}) left center no-repeat`,\n\t\t            backgroundColor: `${context.theme.secondaryTextColor}`,\n                },\n                \"> span\": {\n                    fontSize: \"13px\",\n                    color: `${props.theme.secondaryTextColor}`,\n                    whiteSpace: \"pre-wrap\",\n                    wordWrap: \"break-word\",\n                    textAlign: \"left\",\n                    width: \"calc(100% - 30px)\"\n                }\n\n            }\n        }\n\n    }\n\n    return {\n        margin: \"0.5rem\",\n        textAlign: \"center\",\n        flex: \"1 0 auto\",\n        ...itemTypeStyle,\n        \"@for $i from 1 through 36\": {\n            \"&:nth-of-type(#{$i})\": {\n            maxWidth: \"100%\",\n            }\n        }\n    }\n}","export default __webpack_public_path__ + \"static/media/file-upload.a68d497b.svg\";","import React from \"react\";\n/** @jsxRuntime classic */\n/** @jsx jsx */\nimport { jsx } from \"@emotion/core\";\nimport PropTypes from \"prop-types\";\nimport { CometChat } from \"@cometchat-pro/chat\";\n\n\nimport { CometChatContext } from \"../../../util/CometChatContext\";\n\nimport { SharedMediaManager } from \"./controller\";\nimport * as enums from \"../../../util/enums.js\";\n\nimport { theme } from \"../../../resources/theme\";\nimport Translator from \"../../../resources/localization/translator\";\n\nimport {\n    sectionStyle,\n    sectionHeaderStyle,\n    sectionContentStyle,\n    mediaBtnStyle,\n    buttonStyle,\n    mediaItemStyle,\n    itemStyle,\n\n} from \"./style\";\n\nimport fileIcon from \"./resources/file-upload.svg\";\n\nclass CometChatSharedMediaView extends React.Component {\n\n    static contextType = CometChatContext;\n\n    constructor(props) {\n        super(props);\n        this._isMounted = false;\n        this.state = {\n            messagetype: \"image\",\n            messageList: []\n        }\n\n        this.messageContainer = React.createRef();\n\n        CometChat.getLoggedinUser().then(user => this.loggedInUser = user).catch(error => {\n            console.error(error);\n        });\n    }\n\n    componentDidMount() {\n\n        this._isMounted = true;\n        this.SharedMediaManager = new SharedMediaManager(this.context.item, this.context.type, this.state.messagetype);\n        this.getMessages(true);\n        this.SharedMediaManager.attachListeners(this.messageUpdated);\n    }\n\n    componentDidUpdate(prevProps, prevState) {\n\n        if(prevState.messagetype !== this.state.messagetype) {\n\n            this.SharedMediaManager = null;\n            this.SharedMediaManager = new SharedMediaManager(this.context.item, this.context.type, this.state.messagetype);\n            this.getMessages(true);\n            this.SharedMediaManager.attachListeners(this.messageUpdated);\n        }\n    }\n\n    componentWillUnmount() {\n        this.SharedMediaManager.removeListeners();\n        this.SharedMediaManager = null;\n        this._isMounted = false;\n    }\n\n    //callback for listener functions\n    messageUpdated = (key, message) => {\n\n        switch(key) {\n\n            case enums.MESSAGE_DELETED:\n              this.messageDeleted(message);\n              break;\n            case enums.MEDIA_MESSAGE_RECEIVED:\n              this.messageReceived(message);\n              break;\n            default:\n              break;\n        }\n    }\n\n    messageDeleted = (deletedMessage) => {\n  \n        const messageType = deletedMessage.data.type;\n        if (this.context.type === CometChat.ACTION_TYPE.TYPE_GROUP\n        && deletedMessage.getReceiverType() === CometChat.RECEIVER_TYPE.GROUP\n        && deletedMessage.getReceiver().guid === this.context.item.guid\n        && messageType === this.state.messagetype) {\n\n            const messageList = [...this.state.messageList];\n            const filteredMessages = messageList.filter(message => message.id !== deletedMessage.id);\n            this.setState({ messageList: filteredMessages, scrollToBottom: false });\n        }\n    }\n    \n    //message is received or composed & sent\n    messageReceived = (message) => {\n\n        const messageType = message.data.type;\n        if (this.context.type === CometChat.ACTION_TYPE.TYPE_GROUP\n        && message.getReceiverType() === CometChat.RECEIVER_TYPE.GROUP\n        && message.getReceiver().guid === this.context.item.guid\n        && messageType === this.state.messagetype) {\n\n            let messages = [...this.state.messageList];\n            messages = messages.concat(message);\n            this.setState({ messageList: messages, scrollToBottom: true });\n        }\n    }\n\n    getMessages = (scrollToBottom = false) => {\n        \n        this.SharedMediaManager.fetchPreviousMessages().then(messages => {\n    \n            const messageList = [...messages, ...this.state.messageList];\n            if (this._isMounted) {\n\n                this.setState({messageList: messageList});\n                if(scrollToBottom) {\n                    this.scrollToBottom();\n                }\n            } \n    \n        }).catch(error => {\n\n            const errorCode = (error && error.hasOwnProperty(\"code\")) ? error.code : \"ERROR\";\n            this.context.setToastMessage(\"error\", errorCode);\n        });\n    }\n\n    scrollToBottom = () => {\n      \n        if (this.messageContainer) {\n            this.messageContainer.scrollTop = this.messageContainer.scrollHeight;\n        }\n    }\n\n    handleScroll = (e) => {\n\n        const top = Math.round(e.currentTarget.scrollTop) === 0;\n        if (top && this.state.messageList.length) {\n            this.getMessages();\n        }\n    }\n\n    mediaClickHandler = (type) => {\n        this.setState({messagetype: type, messageList: []});\n    }\n\n    render() {\n\n        const template = (message, key) => {\n\n            if(this.state.messagetype === \"image\" && message.data.url) {\n\n                return (\n                    <div id={message.id} key={key} css={itemStyle(this.state, this.props, fileIcon, this.context)} className=\"item item__image\">\n                        <img src={message.data.url} alt={Translator.translate(\"SHARED_MEDIA\", this.props.lang)} />\n                    </div>\n                );\n\n            } else if (this.state.messagetype === \"video\" && message.data.url) {\n\n                return (\n                    <div id={message.id} key={key} css={itemStyle(this.state, this.props, fileIcon, this.context)} className=\"item item__video\">\n                        <video src={message.data.url} />\n                    </div>\n                );\n\n            } else if (this.state.messagetype === \"file\" && message.data.attachments) {\n\n                return (\n                    <div id={message.id} key={key} css={itemStyle(this.state, this.props, fileIcon, this.context)} className=\"item item__file\">\n                        <a href={message.data.attachments[0].url} \n                        target=\"_blank\" \n                        rel=\"noopener noreferrer\">\n                            <i></i>\n                           <span>{message.data.attachments[0].name}</span>\n                        </a>\n                    </div>\n                );\n            }\n        }\n\n        const messages = [...this.state.messageList];\n        const messageList = messages.map((message, key) => {\n            return (template(message, key));\n        });\n\n        return (\n            <div css={sectionStyle(this.props)} className=\"section section__sharedmedia\">\n                <h6 css={sectionHeaderStyle(this.props)} className=\"section__header\">{Translator.translate(\"SHARED_MEDIA\", this.props.lang)}</h6>\n                <div css={sectionContentStyle(this.props)} data-id=\"sharedmedia\" className=\"section__content\">\n                    <div css={mediaBtnStyle()} className=\"media__button\">\n                        <span css={buttonStyle(this.state, \"image\")} onClick={() => this.mediaClickHandler(\"image\")}>{Translator.translate(\"PHOTOS\", this.props.lang)}</span>\n                        <span css={buttonStyle(this.state, \"video\")} onClick={() => this.mediaClickHandler(\"video\")}>{Translator.translate(\"VIDEOS\", this.props.lang)}</span>\n                        <span css={buttonStyle(this.state, \"file\")} onClick={() => this.mediaClickHandler(\"file\")}>{Translator.translate(\"DOCS\", this.props.lang)}</span>\n                    </div>\n                    <div css={mediaItemStyle()} className=\"media_items\" \n                    ref={el => this.messageContainer = el}\n                    onScroll={this.handleScroll}>{(messageList.length) ? messageList : Translator.translate(\"NO_RECORDS_FOUND\", this.props.lang)}\n                    </div>\n                </div>\n            </div>\n        );\n    }\n}\n\n// Specifies the default values for props:\nCometChatSharedMediaView.defaultProps = {\n    lang: Translator.getDefaultLanguage(),\n    theme: theme\n};\n\nCometChatSharedMediaView.propTypes = {\n    lang: PropTypes.string,\n    theme: PropTypes.object\n}\n\nexport { CometChatSharedMediaView };","import {CometChat} from \"@cometchat-pro/chat\";\n\nimport * as enums from \"../../../util/enums.js\";\n\nexport class UserDetailManager {\n\tuserListenerId = \"user_detail_\" + new Date().getTime();\n\n\tattachListeners(callback) {\n\t\tCometChat.addUserListener(\n\t\t\tthis.userListenerId,\n\t\t\tnew CometChat.UserListener({\n\t\t\t\tonUserOnline: onlineUser => {\n\t\t\t\t\t/* when someuser/friend comes online, user will be received here */\n\t\t\t\t\tcallback(enums.USER_ONLINE, onlineUser);\n\t\t\t\t},\n\t\t\t\tonUserOffline: offlineUser => {\n\t\t\t\t\t/* when someuser/friend went offline, user will be received here */\n\t\t\t\t\tcallback(enums.USER_OFFLINE, offlineUser);\n\t\t\t\t},\n\t\t\t}),\n\t\t);\n\t}\n\n\tremoveListeners() {\n\t\tCometChat.removeUserListener(this.userListenerId);\n\t}\n}","import {CometChat} from \"@cometchat-pro/chat\";\nimport Translator from \"../../../resources/localization/translator\";\n\nexport const userDetailStyle = context => {\n\treturn {\n\t\tdisplay: \"flex\",\n\t\tflexDirection: \"column\",\n\t\theight: \"100%\",\n\t\tposition: \"relative\",\n\t\tboxSizing: \"border-box\",\n\t\tfontFamily: `${context.theme.fontFamily}`,\n\t\t\"*\": {\n\t\t\tboxSizing: \"border-box\",\n\t\t\tfontFamily: `${context.theme.fontFamily}`,\n\t\t},\n\t};\n};\n\nexport const headerStyle = context => {\n\treturn {\n\t\tpadding: \"16px\",\n\t\tposition: \"relative\",\n\t\tborderBottom: `1px solid ${context.theme.borderColor.primary}`,\n\t\tdisplay: \"flex\",\n\t\tjustifyContent: \"flex-start\",\n\t\talignItems: \"center\",\n\t\theight: \"69px\",\n\t};\n};\n\nexport const headerCloseStyle = (img, context) => {\n\t\n\tconst mq = [...context.theme.breakPoints];\n\n\treturn {\n\t\tcursor: \"pointer\",\n\t\tdisplay: \"none\",\n\t\tmask: `url(${img}) center center no-repeat`,\n\t\tbackgroundColor: `${context.theme.primaryColor}`,\n\t\twidth: \"24px\",\n\t\theight: \"24px\",\n\t\t[`@media ${mq[1]}, ${mq[2]}, ${mq[3]}, ${mq[4]}`]: {\n\t\t\tdisplay: \"block\",\n\t\t},\n\t};\n};\n\nexport const headerTitleStyle = () => {\n\treturn {\n\t\tmargin: \"0\",\n\t\tfontWeight: \"700\",\n\t\tfontSize: \"20px\",\n\t};\n};\n\nexport const sectionStyle = () => {\n\treturn {\n\t\tmargin: \"0\",\n\t\tpadding: \"16px 16px 0 16px\",\n\t\tdisplay: \"flex\",\n\t\tflexDirection: \"column\",\n\t\tjustifyContent: \"space-between\",\n\t\talignItems: \"flex-start\",\n\t};\n};\n\nexport const actionSectionStyle = context => {\n\treturn {\n\t\twidth: \"100%\",\n\t\t\"> div\": {\n\t\t\tfontWeight: \"600\",\n\t\t\tcursor: \"pointer\",\n\t\t\tfontSize: \"12px\",\n\t\t},\n\t\t\".item__link\": {\n\t\t\tcolor: `${context.theme.color.blue}`,\n\t\t},\n\t};\n};\n\nexport const privacySectionStyle = context => {\n\treturn {\n\t\twidth: \"100%\",\n\t\t\"> div\": {\n\t\t\tcolor: `${context.theme.color.red}`,\n\t\t\tfontWeight: \"600\",\n\t\t\tcursor: \"pointer\",\n\t\t\tfontSize: \"12px\",\n\t\t},\n\t};\n};\n\nexport const mediaSectionStyle = () => {\n\treturn {\n\t\theight: \"calc(100% - 255px)\",\n\t\twidth: \"100%\",\n\t\tmargin: \"0\",\n\t\tpadding: \"16px 16px 0 16px\",\n\t\tdisplay: \"flex\",\n\t\tflexDirection: \"column\",\n\t\tjustifyContent: \"space-between\",\n\t\talignItems: \"flex-start\",\n\t};\n};\n\nexport const sectionHeaderStyle = context => {\n\treturn {\n\t\tmargin: \"0\",\n\t\twidth: \"100%\",\n\t\tfontSize: \"12px\",\n\t\tfontWeight: \"500!important\",\n\t\tlineHeight: \"20px\",\n\t\tcolor: `${context.theme.color.secondary}`,\n\t\ttextTransform: \"uppercase\",\n\t};\n};\n\nexport const sectionContentStyle = () => {\n\treturn {\n\t\twidth: \"100%\",\n\t\tmargin: \"6px 0\",\n\t};\n};\n\nexport const contentItemStyle = () => {\n\treturn {\n\t\t\"width\": 100 % \"\",\n\t\t\"&:not(:first-of-type):not(:last-of-type)\": {\n\t\t\tpadding: \"6px 0\",\n\t\t},\n\t};\n};\n\nexport const itemLinkStyle = context => {\n\treturn {\n\t\tfontSize: \"15px\",\n\t\tlineHeight: \"20px\",\n\t\tfontWeight: \"600\",\n\t\tdisplay: \"inline-block\",\n\t\tcolor: `${context.theme.color.red}`,\n\t};\n};\n\nexport const userInfoSectionStyle = () => {\n\treturn {\n\t\tdisplay: \"flex\",\n\t\talignItems: \"center\",\n\t\tjustifyContent: \"flex-start\",\n\t};\n};\n\nexport const userThumbnailStyle = () => {\n\treturn {\n\t\twidth: \"35px\",\n\t\theight: \"35px\",\n\t\tdisplay: \"inline-block\",\n\t\tflexShrink: \"0\",\n\t\tmargin: \"0 16px 0 0\",\n\t};\n};\n\nexport const userNameStyle = () => {\n\treturn {\n\t\tmargin: \"0\",\n\t\tfontSize: \"15px\",\n\t\tfontWeight: \"600\",\n\t\tlineHeight: \"22px\",\n\t\twidth: \"100%\",\n\t\toverflow: \"hidden\",\n\t\ttextOverflow: \"ellipsis\",\n\t\twhiteSpace: \"nowrap\",\n\t};\n};\n\nexport const userStatusStyle = () => {\n\treturn {\n\t\twidth: \"calc(100% - 50px)\",\n\t};\n};\n\nexport const userPresenceStyle = (context, state) => {\n\t\n\tlet status = state.status ? state.status.toLowerCase() : \"\";\n\tlet compareTo = Translator.translate((CometChat.USER_STATUS.ONLINE).toUpperCase(), context.language).toLowerCase();\n\tstatus = status === compareTo ? { color: `${context.theme.color.blue}` } : { color: `${context.theme.color.helpText}` };\n\n\treturn {\n\t\twidth: \"calc(100% - 50px)\",\n\t\ttextTransform: \"capitalize\",\n\t\tfontSize: \"13px\",\n\t\tfontWeight: \"400\",\n\t\tlineHeight: \"20px\",\n\t\t...status,\n\t};\n};\n","export default __webpack_public_path__ + \"static/media/back.e8e05e7c.svg\";","import React from \"react\";\nimport dateFormat from \"dateformat\";\n/** @jsxRuntime classic */\n/** @jsx jsx */\nimport { jsx } from \"@emotion/core\";\nimport PropTypes from \"prop-types\";\n\nimport { CometChat } from \"@cometchat-pro/chat\";\n\nimport { CometChatAvatar, CometChatToastNotification } from \"../../Shared/\";\nimport { CometChatSharedMediaView } from \"../../Shared/CometChatSharedMediaView/index.js\";\n\nimport { UserDetailManager } from \"./controller\";\n\nimport { CometChatContext } from \"../../../util/CometChatContext\";\nimport * as enums from \"../../../util/enums.js\";\n\nimport Translator from \"../../../resources/localization/translator\";\nimport { theme } from \"../../../resources/theme\";\n\nimport {\n\tuserDetailStyle,\n\theaderStyle,\n\theaderCloseStyle,\n\theaderTitleStyle,\n\tsectionStyle,\n\tactionSectionStyle,\n\tmediaSectionStyle,\n\tprivacySectionStyle,\n\tsectionHeaderStyle,\n\tsectionContentStyle,\n\tcontentItemStyle,\n\titemLinkStyle,\n\tuserInfoSectionStyle,\n\tuserThumbnailStyle,\n\tuserNameStyle,\n\tuserStatusStyle,\n\tuserPresenceStyle,\n} from \"./style\";\n\nimport navigateIcon from \"./resources/back.svg\";\n\nclass CometChatUserDetails extends React.Component {\n\tstatic contextType = CometChatContext;\n\n\tconstructor(props) {\n\t\tsuper(props);\n\t\tthis._isMounted = false;\n\t\tthis.state = {\n\t\t\tloggedInUser: null,\n\t\t\tstatus: null,\n\t\t\tenableSharedMedia: false,\n\t\t\tenableBlockUser: false,\n\t\t\tenableViewProfile: false,\n\t\t\tenableUserPresence: false,\n\t\t};\n\n\t\tthis.toastRef = React.createRef();\n\t}\n\n\tcomponentDidMount() {\n\t\tCometChat.getLoggedinUser()\n\t\t\t.then(user => {\n\t\t\t\tif (this._isMounted) {\n\t\t\t\t\tthis.setState({ loggedInUser: user });\n\t\t\t\t}\n\t\t\t})\n\t\t\t.catch(error => this.toastRef.setError(\"SOMETHING_WRONG\"));\n\n\t\tthis._isMounted = true;\n\t\tthis.toastRef = React.createRef();\n\n\t\tthis.UserDetailManager = new UserDetailManager();\n\t\tthis.UserDetailManager.attachListeners(this.updateUser);\n\n\t\tthis.setStatusForUser();\n\t\tthis.enableSharedMedia();\n\t\tthis.enableBlockUser();\n\t\tthis.enableViewProfile();\n\t\tthis.enableUserPresence();\n\t}\n\n\tcomponentDidUpdate(prevProps) {\n\t\tthis.enableSharedMedia();\n\t\tthis.enableBlockUser();\n\t\tthis.enableViewProfile();\n\t\tthis.enableUserPresence();\n\n\t\tif (prevProps.lang !== this.props.lang) {\n\t\t\tthis.setStatusForUser();\n\t\t}\n\t}\n\n\tcomponentWillUnmount() {\n\t\tthis._isMounted = false;\n\t\tthis.UserDetailManager.removeListeners();\n\t\tthis.UserDetailManager = null;\n\t}\n\n\tenableUserPresence = () => {\n\t\tthis.context.FeatureRestriction.isUserPresenceEnabled()\n\t\t\t.then(response => {\n\t\t\t\tif (response !== this.state.enableUserPresence && this._isMounted) {\n\t\t\t\t\tthis.setState({ enableUserPresence: response });\n\t\t\t\t}\n\t\t\t})\n\t\t\t.catch(error => {\n\t\t\t\tif (this.state.enableUserPresence !== false) {\n\t\t\t\t\tthis.setState({ enableUserPresence: false });\n\t\t\t\t}\n\t\t\t});\n\t};\n\n\tupdateUser = (key, user) => {\n\t\tswitch (key) {\n\t\t\tcase enums.USER_ONLINE:\n\t\t\tcase enums.USER_OFFLINE: {\n\t\t\t\tif (this.context.type === CometChat.ACTION_TYPE.TYPE_USER && this.context.item.uid === user.uid) {\n\t\t\t\t\t//if user presence feature is disabled\n\t\t\t\t\tif (this.state.enableUserPresence === false) {\n\t\t\t\t\t\treturn false;\n\t\t\t\t\t}\n\n\t\t\t\t\tlet status = \"\";\n\t\t\t\t\tif (user.status === CometChat.USER_STATUS.OFFLINE) {\n\t\t\t\t\t\tstatus = Translator.translate(\"OFFLINE\", this.props.lang);\n\t\t\t\t\t} else if (user.status === CometChat.USER_STATUS.ONLINE) {\n\t\t\t\t\t\tstatus = Translator.translate(\"ONLINE\", this.props.lang);\n\t\t\t\t\t}\n\t\t\t\t\tthis.setState({ status: status });\n\t\t\t\t}\n\t\t\t\tbreak;\n\t\t\t}\n\t\t\tdefault:\n\t\t\t\tbreak;\n\t\t}\n\t};\n\n\tsetStatusForUser = () => {\n\t\tlet status = null;\n\t\tif (this.context.item.status === CometChat.USER_STATUS.OFFLINE && this.context.item.lastActiveAt) {\n\t\t\tconst lastActive = this.context.item.lastActiveAt * 1000;\n\t\t\tconst messageDate = dateFormat(lastActive, \"dS mmm yyyy, h:MM TT\");\n\n\t\t\t// status = `${Translator.translate(\"LAST_ACTIVE_AT\", this.props.lang)}: ${messageDate}`;\n\t\t\tstatus = `Online lần cuối: ${messageDate}`;\n\t\t} else if (this.context.item.status === CometChat.USER_STATUS.OFFLINE) {\n\t\t\tstatus = Translator.translate(\"OFFLINE\", this.props.lang);\n\t\t} else if (this.context.item.status === CometChat.USER_STATUS.ONLINE) {\n\t\t\tstatus = Translator.translate(\"ONLINE\", this.props.lang);\n\t\t}\n\n\t\tthis.setState({ status: status });\n\t};\n\n\tenableSharedMedia = () => {\n\t\tthis.context.FeatureRestriction.isSharedMediaEnabled()\n\t\t\t.then(response => {\n\t\t\t\t/**\n\t\t\t\t * Don't update state if the response has the same value\n\t\t\t\t */\n\t\t\t\tif (response !== this.state.enableSharedMedia && this._isMounted) {\n\t\t\t\t\tthis.setState({ enableSharedMedia: response });\n\t\t\t\t}\n\t\t\t})\n\t\t\t.catch(error => {\n\t\t\t\tif (this.state.enableSharedMedia !== false && this._isMounted) {\n\t\t\t\t\tthis.setState({ enableSharedMedia: false });\n\t\t\t\t}\n\t\t\t});\n\t};\n\n\tenableBlockUser = () => {\n\t\tthis.context.FeatureRestriction.isBlockUserEnabled()\n\t\t\t.then(response => {\n\t\t\t\t/**\n\t\t\t\t * Don't update state if the response has the same value\n\t\t\t\t */\n\t\t\t\tif (response !== this.state.enableBlockUser && this._isMounted) {\n\t\t\t\t\tthis.setState({ enableBlockUser: response });\n\t\t\t\t}\n\t\t\t})\n\t\t\t.catch(error => {\n\t\t\t\tif (this.state.enableBlockUser !== false && this._isMounted) {\n\t\t\t\t\tthis.setState({ enableBlockUser: false });\n\t\t\t\t}\n\t\t\t});\n\t};\n\n\tenableViewProfile = () => {\n\t\tthis.context.FeatureRestriction.isViewProfileEnabled()\n\t\t\t.then(response => {\n\t\t\t\tif (response !== this.state.enableViewProfile && this._isMounted) {\n\t\t\t\t\tthis.setState({ enableViewProfile: response });\n\t\t\t\t}\n\t\t\t})\n\t\t\t.catch(error => {\n\t\t\t\tif (this.state.enableViewProfile !== false && this._isMounted) {\n\t\t\t\t\tthis.setState({ enableViewProfile: false });\n\t\t\t\t}\n\t\t\t});\n\t};\n\n\tblockUser = () => {\n\t\tlet uid = this.context.item.uid;\n\t\tlet usersList = [uid];\n\t\tCometChat.blockUsers(usersList)\n\t\t\t.then(response => {\n\t\t\t\tif (response && response.hasOwnProperty(uid) && response[uid].hasOwnProperty(\"success\") && response[uid][\"success\"] === true) {\n\n\t\t\t\t\tconst newType = CometChat.ACTION_TYPE.TYPE_USER;\n\t\t\t\t\tconst newItem = Object.assign({}, this.context.item, { blockedByMe: true });\n\t\t\t\t\tthis.context.setTypeAndItem(newType, newItem);\n\n\t\t\t\t} else {\n\t\t\t\t\tthis.toastRef.setError(\"SOMETHING_WRONG\");\n\t\t\t\t}\n\t\t\t})\n\t\t\t.catch(error => this.toastRef.setError(\"SOMETHING_WRONG\"));\n\t};\n\n\tunblockUser = () => {\n\t\tlet uid = this.context.item.uid;\n\t\tlet usersList = [uid];\n\t\tCometChat.unblockUsers(usersList)\n\t\t\t.then(response => {\n\t\t\t\tif (response && response.hasOwnProperty(uid) && response[uid].hasOwnProperty(\"success\") && response[uid][\"success\"] === true) {\n\t\t\t\t\t\n\t\t\t\t\tconst newType = CometChat.ACTION_TYPE.TYPE_USER;\n\t\t\t\t\tconst newItem = Object.assign({}, this.context.item, { blockedByMe: false });\n\t\t\t\t\tthis.context.setTypeAndItem(newType, newItem);\n\t\t\t\t\t\n\t\t\t\t} else {\n\t\t\t\t\tthis.toastRef.setError(\"SOMETHING_WRONG\");\n\t\t\t\t}\n\t\t\t})\n\t\t\t.catch(error => this.toastRef.setError(\"SOMETHING_WRONG\"));\n\t};\n\n\tviewProfile = () => {\n\t\tconst profileLink = this.context.item.link;\n\t\twindow.open(profileLink, \"\", \"fullscreen=yes, scrollbars=auto\");\n\t};\n\n\tcloseDetailView = () => {\n\t\tthis.props.actionGenerated(enums.ACTIONS[\"CLOSE_USER_DETAIL\"]);\n\t};\n\n\trender() {\n\t\tif (this.state.loggedInUser === null) {\n\t\t\treturn null;\n\t\t}\n\n\t\tlet viewProfile = null;\n\t\tif (this.state.enableViewProfile === true && this.context.item.hasOwnProperty(\"link\") && this.context.item.link && this.context.item.link.trim().length) {\n\t\t\tviewProfile = (\n\t\t\t\t<div css={sectionStyle()} className=\"detailpane__section\">\n\t\t\t\t\t<div css={actionSectionStyle(this.context)} className=\"section section__viewprofile\">\n\t\t\t\t\t\t<h6 css={sectionHeaderStyle(this.props)} className=\"section__header\">\n\t\t\t\t\t\t\t{Translator.translate(\"ACTIONS\", this.context.language)}\n\t\t\t\t\t\t</h6>\n\t\t\t\t\t\t<div css={sectionContentStyle()} className=\"section__content\">\n\t\t\t\t\t\t\t<div css={contentItemStyle()} className=\"content__item\">\n\t\t\t\t\t\t\t\t<div css={itemLinkStyle(this.context)} className=\"item__link\" onClick={this.viewProfile}>\n\t\t\t\t\t\t\t\t\t{Translator.translate(\"VIEW_PROFILE\", this.context.language)}\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t);\n\t\t}\n\n\t\tlet blockUserText;\n\t\tif (this.context.item.blockedByMe) {\n\t\t\tblockUserText = (\n\t\t\t\t<div css={itemLinkStyle(this.context)} className=\"item__link\" onClick={this.unblockUser}>\n\t\t\t\t\t{Translator.translate(\"UNBLOCK_USER\", this.context.language)}\n\t\t\t\t</div>\n\t\t\t);\n\t\t} else {\n\t\t\tblockUserText = (\n\t\t\t\t<div css={itemLinkStyle(this.context)} className=\"item__link\" onClick={this.blockUser}>\n\t\t\t\t\t{/* {Translator.translate(\"BLOCK_USER\", this.context.language)} */}\n\t\t\t\t\tChặn\n\t\t\t\t</div>\n\t\t\t);\n\t\t}\n\n\t\tlet blockUserView = (\n\t\t\t<div css={sectionStyle()} className=\"detailpane__section\">\n\t\t\t\t<div css={privacySectionStyle(this.context)} className=\"section section__privacy\">\n\t\t\t\t\t<h6 css={sectionHeaderStyle(this.context)} className=\"section__header\">\n\t\t\t\t\t\t{/* {Translator.translate(\"OPTIONS\", this.context.language)} */}\n\t\t\t\t\t\tCài đặt\n\t\t\t\t\t</h6>\n\t\t\t\t\t<div css={sectionContentStyle()} className=\"section__content\">\n\t\t\t\t\t\t<div css={contentItemStyle()} className=\"content__item\">\n\t\t\t\t\t\t\t{blockUserText}\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t);\n\n\t\t//if block/unblock user feature is disabled\n\t\tif (this.state.enableBlockUser === false) {\n\t\t\tblockUserView = null;\n\t\t}\n\n\t\tlet sharedmediaView = (\n\t\t\t<div css={mediaSectionStyle()} className=\"detailpane__section\">\n\t\t\t\t<CometChatSharedMediaView theme={this.props.theme} lang={this.context.language} />\n\t\t\t</div>\n\t\t);\n\n\t\t//if shared media feature is disabled\n\t\tif (this.state.enableSharedMedia === false) {\n\t\t\tsharedmediaView = null;\n\t\t}\n\n\t\treturn (\n\t\t\t<div css={userDetailStyle(this.context)} className=\"detailpane detailpane--user\">\n\t\t\t\t<div css={headerStyle(this.context)} className=\"detailpane__header\">\n\t\t\t\t\t<div css={headerCloseStyle(navigateIcon, this.context)} className=\"header__close\" onClick={this.closeDetailView}></div>\n\t\t\t\t\t<h4 css={headerTitleStyle()} className=\"header__title\">\n\t\t\t\t\t\t{/* {Translator.translate(\"DETAILS\", this.context.language)} */}\n\t\t\t\t\t\tChi tiết\n\t\t\t\t\t</h4>\n\t\t\t\t</div>\n\t\t\t\t<div css={sectionStyle()} className=\"detailpane__section\">\n\t\t\t\t\t<div css={userInfoSectionStyle()} className=\"section section__userinfo\">\n\t\t\t\t\t\t<div css={userThumbnailStyle()} className=\"user__thumbnail\">\n\t\t\t\t\t\t\t<CometChatAvatar user={this.context.item} />\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div css={userStatusStyle()} className=\"user__status\">\n\t\t\t\t\t\t\t<h6 css={userNameStyle()}>{this.context.item.name}</h6>\n\t\t\t\t\t\t\t<span css={userPresenceStyle(this.context, this.state)}>{this.state.status}</span>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t\t<CometChatToastNotification ref={el => (this.toastRef = el)} lang={this.props.lang} />\n\t\t\t\t{/* {viewProfile} */}\n\t\t\t\t{/* {blockUserView} */}\n\t\t\t\t{/* {sharedmediaView} */}\n\t\t\t</div>\n\t\t);\n\t}\n}\n\n// Specifies the default values for props:\nCometChatUserDetails.defaultProps = {\n\ttheme: theme,\n};\n\nCometChatUserDetails.propTypes = {\n\ttheme: PropTypes.object,\n};\n\nexport { CometChatUserDetails };\n","import { CometChat } from \"@cometchat-pro/chat\";\n\nimport {UIKitSettings} from \"../../../util/UIKitSettings\";\n\nexport class UserListManager {\n\n    userRequest = null;\n    userListenerId = \"userlist_\" + new Date().getTime();\n\n    constructor(context, searchKey) {\n\n        this.context = context;\n        this.searchKey = searchKey;\n    }\n\n    initializeUsersRequest = () => {\n\n        const userListMode = this.context.UIKitSettings.userListMode;\n\t\tconst userListModeOptions = UIKitSettings.userListFilterOptions;\n\n        return new Promise((resolve, reject) => {\n            if (userListMode === userListModeOptions[\"ALL\"]) {\n                if (this.searchKey) {\n                    this.usersRequest = new CometChat.UsersRequestBuilder().setLimit(30).setSearchKeyword(this.searchKey).build();\n                } else {\n                    this.usersRequest = new CometChat.UsersRequestBuilder().setLimit(30).build();\n                }\n\n                return resolve(this.usersRequest);\n            } else if (userListMode === userListModeOptions[\"FRIENDS\"]) {\n                if (this.searchKey) {\n                    this.usersRequest = new CometChat.UsersRequestBuilder().setLimit(30).friendsOnly(true).setSearchKeyword(this.searchKey).build();\n                } else {\n                    this.usersRequest = new CometChat.UsersRequestBuilder().setLimit(30).friendsOnly(true).build();\n                }\n\n                return resolve(this.usersRequest);\n            } else {\n                return reject({message: \"Invalid filter for userlist\"});\n            }\n        });\n    }\n\n    fetchNextUsers() {\n        return this.usersRequest.fetchNext();\n    }\n\n    attachListeners(callback) {\n        \n        CometChat.addUserListener(\n            this.userListenerId,\n            new CometChat.UserListener({\n                onUserOnline: onlineUser => {\n                    /* when someuser/friend comes online, user will be received here */\n                    callback(onlineUser);\n                },\n                onUserOffline: offlineUser => {\n                    /* when someuser/friend went offline, user will be received here */\n                    callback(offlineUser);\n                }\n            })\n        );\n    }\n\n    removeListeners() {\n\n        CometChat.removeUserListener(this.userListenerId);\n    }\n}","export const contactWrapperStyle = (props, theme) => {\n\n    const borderStyle = (props._parent === \"\") ? {\n        border: `1px solid ${theme.borderColor.primary}`\n    } : {};\n\n\n    return {\n        display: \"flex\",\n        flexDirection: \"column\",\n        height: \"100%\",\n        boxSizing: \"border-box\",\n        ...borderStyle,\n        \"*\": {\n            boxSizing: \"border-box\",\n            \"::-webkit-scrollbar\": {\n                width: \"8px\",\n                height: \"4px\",\n            },\n            \"::-webkit-scrollbar-track\": {\n                background: \"#ffffff00\"\n            },\n            \"::-webkit-scrollbar-thumb\": {\n                background: \"#ccc\",\n                \"&:hover\": {\n                    background: \"#aaa\"\n                }\n            }\n        }\n    }\n}\n\nexport const contactHeaderStyle = theme => {\n\n\treturn {\n\t\tpadding: \"16px\",\n\t\tposition: \"relative\",\n\t\tdisplay: \"flex\",\n\t\talignItems: \"center\",\n\t\tborderBottom: `1px solid ${theme.borderColor.primary}`,\n\t\theight: \"70px\",\n\t};\n};\n\nexport const contactHeaderCloseStyle = (img, theme) => {\n\n\tconst mq = [...theme.breakPoints];\n\n\treturn {\n\t\tcursor: \"pointer\",\n\t\tdisplay: \"none\",\n\t\tmask: `url(${img}) left center no-repeat`,\n\t\tbackgroundColor: `${theme.secondaryTextColor}`,\n\t\theight: \"24px\",\n\t\twidth: \"33%\",\n\t\t[`@media ${mq[1]}, ${mq[2]}`]: {\n\t\t\tdisplay: \"block!important\",\n\t\t},\n\t};\n};\n\nexport const contactHeaderTitleStyle = (props) => {\n\n    const alignment = (props.hasOwnProperty(\"enableCloseMenu\") && props.enableCloseMenu.length > 0) ? {\n        width: \"33%\",\n        textAlign: \"center\"\n    } : {};\n\n    return {\n        margin: \"0\",\n        fontWeight: \"700\",\n        display: \"inline-block\",\n        width: \"100%\",\n        textAlign: \"left\",\n        fontSize: \"22px\",\n        lineHeight: \"26px\",\n        ...alignment,\n        \"&[dir=rtl]\": {\n            textAlign: \"right\",\n        }\n    }\n}\n\nexport const contactSearchStyle = () => {\n    \n    return {\n        margin: \"16px\",\n        position: \"relative\",\n        borderRadius: \"8px\",\n\t\tboxShadow: \"rgba(20, 20, 20, 0.04) 0 0 0 1px inset\",\n        backgroundColor: \"rgba(20, 20, 20, 0.04)\",\n        height: \"35px\",\n        display: \"flex\",\n        justifyContent: \"center\",\n        alignItems: \"center\"\n    }\n}\n\nexport const contactSearchButtonStyle = (img, theme) => {\n\n\treturn {\n\t\twidth: \"30px\",\n\t\theight: \"100%\",\n\t\tpadding: \"8px 0 8px 8px\",\n\t\tcursor: \"default\",\n\t\tmask: `url(${img}) 10px center no-repeat`,\n\t\tbackgroundColor: `${theme.secondaryTextColor}!important`,\n\t};\n};\n\nexport const contactSearchInputStyle = (props) => {\n\n    return {\n        width: \"calc(100% - 30px)\",\n        padding: \"8px\",\n        fontSize: \"15px\",\n        fontWeight: \"400\",\n        lineHeight: \"20px\",\n        outline: \"none\",\n        border: \"none\",\n        height: \"100%\",\n        color: props.theme.color.search,\n        backgroundColor: \"transparent\",\n    }\n}\n\nexport const contactMsgStyle = () => {\n\n    return {\n        overflow: \"hidden\",\n        width: \"100%\",\n        display: \"flex\",\n        justifyContent: \"center\",\n        alignItems: \"center\",\n        position: \"absolute\",\n        top: \"50%\",\n    }\n}\n\nexport const contactMsgTxtStyle = theme => {\n\n\treturn {\n\t\tmargin: \"0\",\n\t\tminHeight: \"36px\",\n\t\tcolor: `${theme.color.secondary}`,\n\t\tfontSize: \"20px!important\",\n\t\tfontWeight: \"600\",\n\t\tlineHeight: \"30px\",\n\t\twordWrap: \"break-word\",\n\t\tpadding: \"0 16px\",\n\t};\n};\n\nexport const contactListStyle = () => {\n    \n    return {\n        height: \"calc(100% - 125px)\",\n        overflowY: \"auto\",\n        margin: \"0\",\n        padding: \"0\"\n    }\n}\n\nexport const contactAlphabetStyle = (props) => {\n    \n    return {\n        padding: \"0 16px\",\n        margin: \"5px 0\",\n        width: \"100%\",\n        fontSize: \"12px\",\n        fontWeight: \"500\",\n        lineHeight: \"20px\",\n        color: `${props.theme.color.tertiary}`\n    }\n}\n","export default __webpack_public_path__ + \"static/media/search.61b1c747.svg\";","export default __webpack_public_path__ + \"static/media/back.e8e05e7c.svg\";","import React from \"react\";\n/** @jsxRuntime classic */\n/** @jsx jsx */\nimport { jsx } from \"@emotion/core\";\nimport PropTypes from \"prop-types\";\nimport { CometChat } from \"@cometchat-pro/chat\";\n\nimport { UserListManager } from \"./controller\";\n\nimport { CometChatUserListItem } from \"../../Users\";\n\nimport { CometChatContextProvider, CometChatContext } from \"../../../util/CometChatContext\";\nimport * as enums from \"../../../util/enums.js\";\n\nimport { theme } from \"../../../resources/theme\";\nimport Translator from \"../../../resources/localization/translator\";\n\nimport { \n  contactWrapperStyle, \n  contactHeaderStyle, \n  contactHeaderCloseStyle, \n  contactHeaderTitleStyle,\n  contactSearchStyle,\n  contactSearchButtonStyle,\n  contactSearchInputStyle,\n  contactMsgStyle,\n  contactMsgTxtStyle,\n  contactListStyle,\n  contactAlphabetStyle\n} from \"./style\";\n\nimport searchIcon from \"./resources/search.svg\";\nimport navigateIcon from \"./resources/back.svg\";\n\nclass CometChatUserList extends React.PureComponent {\n\n\titem;\n\ttimeout;\n\tstatic contextType = CometChatContext;\n\n\tconstructor(props) {\n\n\t\tsuper(props);\n\n\t\tthis.state = {\n\t\t\tuserlist: [],\n\t\t\tenableSearchUser: false,\n\t\t\tdecoratorMessage: \"Đang tải dữ liệu\",\n\t\t};\n\n\t\tthis.contextProviderRef = React.createRef();\n\t\tthis.userListRef = React.createRef();\n\n\t\tCometChat.getLoggedinUser()\n\t\t\t.then(user => (this.loggedInUser = user))\n\t\t\t.catch(error => this.setState({ decoratorMessage: Translator.translate(\"SOMETHING_WRONG\", this.props.lang) }));\n\t}\n\n\tcomponentDidMount() {\n\n\t\tthis.item = (this.getContext().type === CometChat.ACTION_TYPE.TYPE_USER) ? this.getContext().item : null;\n\t\tthis.toggleUserSearch();\n\n\t\tthis.UserListManager = new UserListManager(this.getContext())\n\t\tthis.UserListManager.initializeUsersRequest()\n\t\t\t.then(response => {\n\t\t\t\tthis.getUsers();\n\t\t\t\tthis.UserListManager.attachListeners(this.userUpdated);\n\t\t\t})\n\t\t\t.catch(error => this.setState({ decoratorMessage: Translator.translate(\"SOMETHING_WRONG\", this.props.lang) }));\n\t}\n\n\tcomponentDidUpdate(prevProps) {\n\n\t\t//if user is blocked/unblocked, update userlist\n\t\tif (this.item \n\t\t&& Object.keys(this.item).length\n\t\t&& this.getContext().type === CometChat.ACTION_TYPE.TYPE_USER && this.item.uid === this.getContext().item.uid\n\t\t&& this.item.blockedByMe !== this.getContext().item.blockedByMe) {\n\n\t\t\tlet userlist = [...this.state.userlist];\n\n\t\t\t\t//search for user\n\t\t\t\tlet userKey = userlist.findIndex(u => u.uid === this.getContext().item.uid);\n\t\t\t\tif(userKey > -1) {\n\n\t\t\t\tlet userObject = { ...userlist[userKey] };\n\t\t\t\tlet newUserObject = Object.assign({}, userObject, { blockedByMe: this.getContext().item.blockedByMe });\n\t\t\t\t\n\t\t\t\tuserlist.splice(userKey, 1, newUserObject);\n\t\t\t\tthis.setState({ userlist: userlist });\n\t\t\t}\n\t\t}\n\n\t\tthis.item = (this.getContext().type === CometChat.ACTION_TYPE.TYPE_USER) ? this.getContext().item : null;\n\t\tthis.toggleUserSearch();\n\t}\n\n\tcomponentWillUnmount() {\n\n\t\tthis.UserListManager.removeListeners();\n\t\tthis.UserListManager = null;\n\t}\n\n\ttoggleUserSearch = () => {\n\n\t\tthis.getContext().FeatureRestriction.isUserSearchEnabled().then(response => {\n\n\t\t\t/**\n\t\t\t* Don't update state if the response has the same value\n\t\t\t*/\n\t\t\tif (response !== this.state.enableSearchUser) {\n\t\t\t\tthis.setState({enableSearchUser: response});\n\t\t\t}\n\n\t\t}).catch(error => {\n\n\t\t\tif (this.state.enableSearchUser !== false) {\n\t\t\t\tthis.setState({enableSearchUser: false});\n\t\t\t}\n\n\t\t});\n\t}\n\n\tuserUpdated = (user) => {\n\t\t\n\t\tlet userlist = [...this.state.userlist];\n\n\t\t//search for user\n\t\tlet userKey = userlist.findIndex(u => u.uid === user.uid);\n\t\t\n\t\t//if found in the list, update user object\n\t\tif(userKey > -1) {\n\n\t\t\tlet userObj = {...userlist[userKey]};\n\t\t\tlet newUserObj = {...userObj, ...user};\n\t\t\tuserlist.splice(userKey, 1, newUserObj);\n\n\t\t\tthis.setState({ userlist: userlist });\n\t\t}\n\t}\n\n\thandleScroll = (e) => {\n\n\t\tconst bottom =\n\t\tMath.round(e.currentTarget.scrollHeight - e.currentTarget.scrollTop) === Math.round(e.currentTarget.clientHeight);\n\t\tif (bottom) this.getUsers();\n\t}\n\n\thandleClick = (user) => {\n\n\t\tif(!this.props.onItemClick)\n\t\t\treturn;\n\n\t\tthis.props.onItemClick(user, CometChat.ACTION_TYPE.TYPE_USER);\n\t}\n\n  \thandleMenuClose = () => {\n\n\t\tif(!this.props.actionGenerated) {\n\t\t\treturn false;\n\t\t}\n\n\t\tthis.props.actionGenerated(enums.ACTIONS[\"TOGGLE_SIDEBAR\"]);\n  \t}\n  \n \tsearchUsers = (e) => {\n\n\t\tif (this.timeout) {\n\t\t\tclearTimeout(this.timeout);\n\t\t}\n\n\t\tlet val = e.target.value;\n\t\tthis.UserListManager = new UserListManager(this.getContext(), val);\n\t\tthis.UserListManager.initializeUsersRequest()\n\t\t\t.then(response => {\n\t\t\t\tthis.timeout = setTimeout(() => {\n\t\t\t\t\tthis.setState({ userlist: [], decoratorMessage: Translator.translate(\"LOADING\", this.props.lang) }, () => this.getUsers());\n\t\t\t\t}, 500);\n\t\t\t})\n\t\t\t.catch(error => this.setState({ decoratorMessage: Translator.translate(\"SOMETHING_WRONG\", this.props.lang) }));\n  \t}\n\n\tgetUsers = () => {\n\n\t\tthis.UserListManager.fetchNextUsers()\n\t\t\t.then(userList => {\n\n\t\t\t\tif (userList.length === 0) {\n\t\t\t\t\tif (this.state.userlist.length === 0) {\n\t\t\t\t\t\tthis.setState({ decoratorMessage: Translator.translate(\"NO_USERS_FOUND\", this.props.lang) });\n\t\t\t\t\t}\n\t\t\t\t} else {\n\t\t\t\t\tthis.setState({ userlist: [...this.state.userlist, ...userList], decoratorMessage: \"\" });\n\t\t\t\t}\n\t\t\t\t\n\t\t\t})\n\t\t\t.catch(error => this.setState({ decoratorMessage: Translator.translate(\"SOMETHING_WRONG\", this.props.lang) }));\n\t}\n\n\tgetContext = () => {\n\n\t\tif (this.props._parent.length) {\n\t\t\treturn this.context;\n\t\t} else {\n\t\t\treturn this.contextProviderRef.state;\n\t\t}\n\t}\n\n  \trender() {\n\n\t\tlet messageContainer = null;\n\t\tif (this.state.decoratorMessage.length !== 0) {\n\t\t\tmessageContainer = (\n\t\t\t\t<div css={contactMsgStyle()} className=\"contacts__decorator-message\">\n\t\t\t\t\t<p css={contactMsgTxtStyle(theme)} className=\"decorator-message\">\n\t\t\t\t\t\t{this.state.decoratorMessage}\n\t\t\t\t\t</p>\n\t\t\t\t</div>\n\t\t\t);\n\t\t}\n\n\t\tconst userList = [...this.state.userlist];\n\t\tlet currentLetter = \"\";\n\t\t\n\t\tconst users = userList.map(user => {\n\t\t\n\t\t\tconst chr = user.name[0].toUpperCase();\n\t\t\tlet firstChar = null;\n\t\t\tif (chr !== currentLetter) {\n\t\t\t\tcurrentLetter = chr;\n\t\t\t\tfirstChar = (<div css={contactAlphabetStyle(this.props)} className=\"contacts__list__alphabet-filter\">{currentLetter}</div>);\n\t\t\t} else {\n\t\t\t\tfirstChar = null;\n\t\t\t}\n\t\t\t\n\t\t\tlet selectedUser = (this.getContext().type === CometChat.ACTION_TYPE.TYPE_USER && this.getContext().item.uid === user.uid) ? user : null;\n\n\t\t\treturn (\n\t\t\t\t<React.Fragment key={user.uid}>\n\t\t\t\t\t{firstChar}\n\t\t\t\t\t<CometChatUserListItem user={user} selectedUser={selectedUser} clickHandler={this.handleClick} />\n\t\t\t\t</React.Fragment>\n\t\t\t);\n\n\t\t});\n\n\t\tlet closeBtn = <div css={contactHeaderCloseStyle(navigateIcon, theme)} className=\"header__close\" onClick={this.handleMenuClose}></div>;\n\t\tif (this.getContext() && Object.keys(this.getContext().item).length === 0) {\n\t\t\tcloseBtn = null;\n\t\t}\n\n\t\tlet searchUser = null;\n\t\tif (this.state.enableSearchUser) {\n\t\t\tsearchUser = (\n\t\t\t\t<div css={contactSearchStyle()} className=\"contacts__search\">\n\t\t\t\t\t<button type=\"button\" className=\"search__button\" css={contactSearchButtonStyle(searchIcon, theme)} />\n\t\t\t\t\t<input type=\"text\" autoComplete=\"off\" css={contactSearchInputStyle(this.props)} className=\"search__input\" placeholder=\"Tìm kiếm\" onChange={this.searchUsers} />\n\t\t\t\t</div>\n\t\t\t);\n\t\t}\n\n\t\tconst userListTemplate = (\n\t\t\t<div css={contactWrapperStyle(this.props, theme)} className=\"contacts\">\n\t\t\t\t<div css={contactHeaderStyle(theme)} className=\"contacts__header\">\n\t\t\t\t\t{closeBtn}\n\t\t\t\t\t<h4 css={contactHeaderTitleStyle(this.props)} className=\"header__title\" dir={Translator.getDirection(this.props.lang)}>\n\t\t\t\t\t\tMedical Advice\n\t\t\t\t\t</h4>\n\t\t\t\t\t<div></div>\n\t\t\t\t</div>\n\t\t\t\t{searchUser}\n\t\t\t\t{messageContainer}\n\t\t\t\t<div css={contactListStyle()} className=\"contacts__list\" onScroll={this.handleScroll} ref={el => (this.userListRef = el)}>\n\t\t\t\t\t{users}\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t);\n\n\t\tlet userListWrapper = (userListTemplate);\n\t\tif (this.props._parent === \"\") {\n\t\t\tuserListWrapper = (\n\t\t\t\t<CometChatContextProvider ref={el => (this.contextProviderRef = el)}>\n\t\t\t\t\t{userListTemplate}\n\t\t\t\t</CometChatContextProvider>\n\t\t\t);\n\t\t}\n\n\t\treturn (userListWrapper);\n  \t}\n}\n\n// Specifies the default values for props:\nCometChatUserList.defaultProps = {\n\tlang: Translator.getDefaultLanguage(),\n\ttheme: theme,\n\tonItemClick: () => {},\n\t_parent: \"\"\n};\n\nCometChatUserList.propTypes = {\n\tlang: PropTypes.string,\n\ttheme: PropTypes.object,\n\tonItemClick: PropTypes.func,\n\t_parent: PropTypes.string\n}\n\nexport { CometChatUserList };\n","export const listItem = (props, context) => {\n\n    const selectedState = (props.selectedUser && props.selectedUser.uid === props.user.uid) ? {\n        backgroundColor: `${context.theme.backgroundColor.primary}`\n    } : {};\n\n    return {\n        display: \"flex\",\n        flexDirection: \"row\",\n        justifyContent: \"left\",\n        alignItems: \"center\",\n        cursor: \"pointer\",\n        width: \"100%\",\n        padding: \"8px 16px\",\n        ...selectedState,\n        '&:hover': {\n            backgroundColor: `${context.theme.backgroundColor.primary}`\n        }\n    }\n}\n\nexport const itemThumbnailStyle = () => {\n    \n    return {\n        display: \"inline-block\",\n        width: \"36px\",\n        height: \"36px\",\n        flexShrink: \"0\"\n    }\n}\n\nexport const itemDetailStyle = () => {\n    \n    return {\n        width: \"calc(100% - 45px)\",\n        flexGrow: 1,\n        paddingLeft: \"16px\",\n        \"&[dir=rtl]\": {\n            paddingRight: \"16px\",\n            paddingLeft: \"0\",\n        }\n    }\n}\n\nexport const itemNameStyle = (context) => { \n    \n    return {\n        fontSize: \"15px\",\n        fontWeight: \"600\",\n        overflow: \"hidden\",\n        textOverflow: \"ellipsis\",\n        whiteSpace: \"nowrap\",\n        width: \"100%\",\n        margin: \"5px 0 0 0\",\n        lineHeight: \"22px\",\n        color: `${context.theme.color.primary}`\n    }\n};\n\nexport const itemDescStyle = context => {\n\treturn {\n\t\tmarginTop: \"10px\",\n\t\tborderBottom: `1px solid ${context.theme.borderColor.primary}`,\n\t};\n};\n\n","/** @jsxRuntime classic */\n/** @jsx jsx */\nimport { jsx } from \"@emotion/core\";\nimport PropTypes from \"prop-types\";\nimport { CometChat } from \"@cometchat-pro/chat\";\n\nimport { CometChatAvatar, CometChatUserPresence } from \"../../Shared\";\n\nimport { CometChatContext } from \"../../../util/CometChatContext\";\nimport { theme } from \"../../../resources/theme\";\nimport Translator from \"../../../resources/localization/translator\";\n\nimport { listItem, itemThumbnailStyle, itemDetailStyle, itemNameStyle, itemDescStyle } from \"./style\";\nimport { useContext } from \"react\";\n\nconst CometChatUserListItem = (props) => {\n\n\tconst context = useContext(CometChatContext);\n\n\tlet userPresence = (<CometChatUserPresence status={props.user.status} />);\n\n  \tconst toggleTooltip = (event, flag) => {\n\n\t\tconst elem = event.target;\n\n\t\tconst scrollWidth = elem.scrollWidth;\n\t\tconst clientWidth = elem.clientWidth;\n\n\t\tif(scrollWidth <= clientWidth) {\n\t\treturn false;\n\t\t}\n\n\t\tif(flag) {\n\t\t\telem.setAttribute(\"title\", elem.textContent);\n\t\t} else {\n\t\t\telem.removeAttribute(\"title\");\n\t\t}\n\t} \n  \n\treturn (\n\t\t<div css={listItem(props, context)} onClick={() => props.clickHandler(props.user)} className=\"list__item\">\n\t\t\t<div css={itemThumbnailStyle()} className=\"list__item__thumbnail\">\n\t\t\t\t<CometChatAvatar user={props.user} />\n\t\t\t\t{userPresence}\n\t\t\t</div>\n\t\t\t<div css={itemDetailStyle()} className=\"list__item__details\" dir={Translator.getDirection(context.language)}>\n\t\t\t\t<div css={itemNameStyle(context)} className=\"item__details__name\"  \n\t\t\t\tonMouseEnter={event => toggleTooltip(event, true)} \n\t\t\t\tonMouseLeave={event => toggleTooltip(event, false)}>{props.user.name}</div>\n\t\t\t\t<div css={itemDescStyle(context)} className=\"item__details__desc\"></div>\n\t\t\t</div>\n\t\t</div>\n\t)\n}\n\n// Specifies the default values for props:\nCometChatUserListItem.defaultProps = {\n\ttheme: theme,\n\tuser: {},\n};\n\nCometChatUserListItem.propTypes = {\n\ttheme: PropTypes.object,\n\tuser: PropTypes.shape(CometChat.User),\n};\n\nexport { CometChatUserListItem };\n","export const userScreenStyle = (props) => {\n\n    return {\n        display: \"flex\",\n        height: \"100%\",\n        width: \"100%\",\n        boxSizing: \"border-box\",\n        fontFamily: `${props.theme.fontFamily}`,\n        border: `1px solid ${props.theme.borderColor.primary}`,\n        \"*\": {\n            boxSizing: \"border-box\",\n            fontFamily: `${props.theme.fontFamily}`,\n            \"::-webkit-scrollbar\": {\n                width: \"8px\",\n                height: \"4px\",\n            },\n            \"::-webkit-scrollbar-track\": {\n                background: \"#ffffff00\"\n            },\n            \"::-webkit-scrollbar-thumb\": {\n                background: \"#ccc\",\n                \"&:hover\": {\n                    background: \"#aaa\"\n                }\n            }\n        }\n    }\n}\n\nexport const userScreenSidebarStyle = (state, props) => {\n\n    const sidebarView = (state.sidebarview) ? {\n        left: \"0\",\n        boxShadow: \"rgba(0, 0, 0, .4) -30px 0 30px 30px\"\n    } : {};\n\n    const mq = [...props.theme.breakPoints];\n\n    return {\n\n        width: \"280px\",\n        borderRight: `1px solid ${props.theme.borderColor.primary}`,\n        height: \"100%\",\n        position: \"relative\",\n        display: \"flex\",\n        flexDirection: \"column\",\n        \"> .contacts\": {\n            height: \"calc(100% - 5px)\",\n        },\n        [`@media ${mq[0]}`]: {\n            position: \"absolute!important\",\n            left: \"-100%\",\n            top: \"0\",\n            bottom: \"0\",\n            width: \"100%!important\",\n            zIndex: \"2\",\n            backgroundColor: `${props.theme.backgroundColor.white}`,\n            transition: \"all .3s ease-out\",\n            ...sidebarView\n        }\n    }\n}\n\nexport const userScreenMainStyle = (state, props) => {\n\n    const mq = [...props.theme.breakPoints];\n\n    return {\n        width: \"calc(100% - 280px)\",\n        height: \"100%\",\n        order: \"2\",\n        display: \"flex\",\n        flexDirection: \"row\",\n        [`@media ${mq[1]}, ${mq[2]}`]: {\n            width: \"100%!important\",\n        }\n    }\n}","import React from \"react\";\n/** @jsxRuntime classic */\n/** @jsx jsx */\nimport { jsx } from \"@emotion/core\";\nimport PropTypes from \"prop-types\";\n\nimport { CometChatUserList } from \"../\";\nimport { CometChatMessages } from \"../../Messages\";\nimport { CometChatIncomingCall } from \"../../Calls\";\n\nimport { CometChatContextProvider } from \"../../../util/CometChatContext\";\nimport * as enums from \"../../../util/enums.js\";\n\nimport { theme } from \"../../../resources/theme\";\nimport Translator from \"../../../resources/localization/translator\";\n\nimport {\n\tuserScreenStyle,\n\tuserScreenSidebarStyle,\n\tuserScreenMainStyle,\n} from \"./style\"\n\nclass CometChatUserListWithMessages extends React.Component {\n\n  \tloggedInUser = null;\n\n  \tconstructor(props) {\n\n\t\tsuper(props);\n\n\t\tthis.state = {\n\t\t\tsidebarview: false,\n\t\t}\n\n\t\tthis.contextProviderRef = React.createRef();\n  \t}\n  \n\tcomponentDidMount() {\n\n\t\tif (this.props.chatWithUser.length === 0) {\n\t\t\tthis.toggleSideBar();\n\t\t}\n\t}\n\n\titemClicked = (user, type) => {\n\n\t\tthis.contextProviderRef.setTypeAndItem(type, user);\n\t\tthis.toggleSideBar()\n\t}\n\n\tactionHandler = (action) => {\n\t\t\n\t\tswitch(action) {\n\t\t\tcase enums.ACTIONS[\"TOGGLE_SIDEBAR\"]:\n\t\t\t\tthis.toggleSideBar();\n\t\t\tbreak;\n\t\t\tdefault:\n\t\t\tbreak;\n\t\t}\n\t}\n\n\ttoggleSideBar = () => {\n\n\t\tconst sidebarview = this.state.sidebarview;\n\t\tthis.setState({ sidebarview: !sidebarview });\n\t}\n\n\trender() {\n\n\t\tlet messageScreen = (\n\t\t<CometChatMessages\n\t\t_parent=\"userscreen\"\n\t\tactionGenerated={this.actionHandler} />);\n\n\t\treturn (\n\t\t\t<CometChatContextProvider ref={el => (this.contextProviderRef = el)} user={this.props.chatWithUser} language={this.props.lang}>\n\t\t\t\t<div css={userScreenStyle(this.props)} className=\"cometchat cometchat--contacts\" dir={Translator.getDirection(this.props.lang)}>\n\t\t\t\t\t<div css={userScreenSidebarStyle(this.state, this.props)} className=\"contacts__sidebar\">\n\t\t\t\t\t\t<CometChatUserList _parent=\"ulwm\" theme={this.props.theme} lang={this.props.lang} onItemClick={this.itemClicked} actionGenerated={this.actionHandler} />\n\t\t\t\t\t</div>\n\t\t\t\t\t<div css={userScreenMainStyle(this.state, this.props)} className=\"contacts__main\">\n\t\t\t\t\t\t{messageScreen}\n\t\t\t\t\t</div>\n\t\t\t\t\t<CometChatIncomingCall theme={this.props.theme} lang={this.props.lang} actionGenerated={this.actionHandler} />\n\t\t\t\t</div>\n\t\t\t</CometChatContextProvider>\n\t\t);\n\t}\n}\n\n// Specifies the default values for props:\nCometChatUserListWithMessages.defaultProps = {\n\tlang: Translator.getDefaultLanguage(),\n\ttheme: theme,\n\tchatWithUser: \"\",\n};\n\nCometChatUserListWithMessages.propTypes = {\n\tlang: PropTypes.string,\n\ttheme: PropTypes.object,\n\tchatWithUser: PropTypes.string,\n}\n\nexport { CometChatUserListWithMessages };","export const modalWrapperStyle = (context) => {\n\n    const mq = context.theme.breakPoints.map(x => `@media ${x}`);\n    return {\n        minWidth: \"350px\",\n        minHeight: \"350px\",\n        width: \"40%\",\n        height: \"40%\",\n        overflow: \"hidden\",\n        backgroundColor: `${context.theme.backgroundColor.white}`,\n        position: \"fixed\",\n        left: \"50%\",\n        top: \"50%\",\n        transform: \"translate(-50%, -50%)\",\n        zIndex: \"4\",\n        margin: \"0 auto\",\n        boxShadow: \"rgba(20, 20, 20, 0.2) 0 16px 32px, rgba(20, 20, 20, 0.04) 0 0 0 1px\",\n        borderRadius: \"12px\",\n        display: \"block\",\n        [mq[0]]: {\n            width: \"100%\",\n            height: \"100%\",\n        },\n        [mq[1]]: {\n            width: \"100%\",\n            height: \"100%\",\n        },\n        [mq[2]]: {\n            width: \"100%\",\n            height: \"100%\",\n        }\n    }\n}\n\nexport const modalCloseStyle = (img, context) => {\n\n    return {\n        position: \"absolute\",\n        width: \"32px\",\n        height: \"32px\",\n        borderRadius: \"50%\",\n        top: \"16px\",\n        right: \"16px\",\n        mask: `url(${img}) center center no-repeat`,\n\t\tbackgroundColor: `${context.theme.primaryColor}`,\n        cursor: \"pointer\",\n    }\n}\n\nexport const modalBodyStyle = () => {\n\n    return {\n        padding: \"24px\",\n        height: \"100%\",\n        width: \"100%\"\n    }\n}\n\nexport const modalErrorStyle = context => {\n\treturn {\n\t\tfontSize: \"12px\",\n\t\tcolor: `${context.theme.color.red}`,\n\t\ttextAlign: \"center\",\n\t\tmargin: \"8px 0\",\n\t\twidth: \"100%\",\n\t};\n};\n\nexport const modalTableStyle = (props) => {\n\n    return {\n        borderCollapse: \"collapse\",\n        margin: \"0\",\n        padding: \"0\",\n        width: \"100%\",\n        height: \"90%\",\n        \"tr\": {\n            display: \"table\",\n            width: \"100%\",\n            tableLayout: \"fixed\",\n        }\n    }\n}\n\nexport const tableCaptionStyle = () => {\n\n    return {\n        fontSize: \"20px\",\n        marginBottom: \"15px\",\n        fontWeight: \"bold\",\n        textAlign: \"left\",\n    }\n}\n\nexport const tableBodyStyle = () => {\n\n    return {\n        height: \"calc(100% - 40px)\",\n        overflowY: \"auto\",\n        display: \"block\",\n        \"tr\": {\n            \"td\": {\n                padding: \"8px 0\",\n                fontSize: \"14px\",\n                \"input\": {\n                    width: \"100%\",\n                    border: \"none\",\n                    padding: \"8px 16px\",\n                    fontSize: \"14px\",\n                    outline: \"none\",\n                },\n                \"select\": {\n                    outline: \"none\",\n                    padding: \"8px 16px\",\n                }\n            }\n        }\n    }\n}\n\nexport const tableFootStyle = (context, state, img) => {\n\n    const loadingState = (state.creatingGroup) ? {\n        disabled: \"true\",\n        pointerEvents: \"none\",\n        background: `url(${img}) no-repeat right 10px center ${context.theme.primaryColor}`,\n    } : {};\n\n    const textMargin = (state.creatingGroup) ? { marginRight: \"24px\", } : {};\n\n    return {\n        display: \"inline-block\",\n        \"button\": {\n            cursor: \"pointer\",\n            padding: \"8px 16px\",\n            backgroundColor: `${context.theme.primaryColor}`,\n            borderRadius: \"5px\",\n            color: `${context.theme.color.white}`,\n            fontSize: \"14px\",\n            outline: \"0\",\n            border: \"0\",\n            ...loadingState,\n            \"span\": {\n                ...textMargin\n            }\n        },\n        \"tr\": {\n            border: \"none\",\n            \"td\": {\n                textAlign: \"center\",\n            }\n        },\n    }\n}\n\nexport const inputStyle = (context) => {\n\n    return {\n        display: \"block\",\n        width: \"100%\",\n        border: '0',\n        boxShadow: \"rgba(20, 20, 20, 0.04) 0 0 0 1px inset\",\n        borderRadius: \"8px\",\n        backgroundColor: `${context.theme.backgroundColor.grey}`,\n        color: `${context.theme.color.helpText}`,\n        fontSize: \"14px\",\n    }\n}","export default __webpack_public_path__ + \"static/media/creating.446449d0.svg\";","export default __webpack_public_path__ + \"static/media/close.0b0b6f95.svg\";","import React from \"react\";\n/** @jsxRuntime classic */\n/** @jsx jsx */\nimport { jsx } from \"@emotion/core\";\nimport { CometChat } from \"@cometchat-pro/chat\";\n\nimport { CometChatBackdrop } from \"../../Shared\";\n\nimport { CometChatContext } from \"../../../util/CometChatContext\";\nimport * as enums from \"../../../util/enums.js\";\nimport Translator from \"../../../resources/localization/translator\";\n\nimport {\n    modalWrapperStyle,\n    modalCloseStyle,\n    modalBodyStyle,\n    modalTableStyle,\n    tableCaptionStyle,\n    tableBodyStyle,\n    inputStyle,\n    tableFootStyle,\n\tmodalErrorStyle,\n} from \"./style\";\n\nimport creatingIcon from \"./resources/creating.svg\";\nimport closeIcon from \"./resources/close.svg\";\n\nclass CometChatCreateGroup extends React.Component {\n\tstatic contextType = CometChatContext;\n\n\tconstructor(props) {\n\t\tsuper(props);\n\n\t\tthis.state = {\n\t\t\terrorMessage: \"\",\n\t\t\tpasswordInput: false,\n\t\t\tname: \"\",\n\t\t\ttype: \"\",\n\t\t\tpassword: \"\",\n\t\t\tcreatingGroup: false,\n\t\t\tenablePublicGroup: false,\n\t\t\tenablePasswordGroup: false,\n\t\t\tenablePrivateGroup: false,\n\t\t};\n\t}\n\n    componentDidMount() {\n\n        this.enablePublicGroup();\n        this.enablePasswordGroup();\n        this.enablePrivateGroup();\n    }\n\n    componentDidUpdate() {\n\n        this.enablePublicGroup();\n        this.enablePasswordGroup();\n        this.enablePrivateGroup();\n    }\n\n\tenablePublicGroup = () => {\n\t\tthis.context.FeatureRestriction.isPublicGroupEnabled()\n\t\t\t.then(response => {\n\t\t\t\t/**\n\t\t\t\t * Don't update state if the response has the same value\n\t\t\t\t */\n\t\t\t\tif (response !== this.state.enablePublicGroup) {\n\t\t\t\t\tthis.setState({enablePublicGroup: response});\n\t\t\t\t}\n\t\t\t})\n\t\t\t.catch(error => {\n\t\t\t\tif (this.state.enablePublicGroup !== false) {\n\t\t\t\t\tthis.setState({enablePublicGroup: false});\n\t\t\t\t}\n\t\t\t});\n\t};\n\n\tenablePasswordGroup = () => {\n\t\tthis.context.FeatureRestriction.isPasswordGroupEnabled()\n\t\t\t.then(response => {\n\t\t\t\t/**\n\t\t\t\t * Don't update state if the response has the same value\n\t\t\t\t */\n\t\t\t\tif (response !== this.state.enablePasswordGroup) {\n\t\t\t\t\tthis.setState({enablePasswordGroup: response});\n\t\t\t\t}\n\t\t\t})\n\t\t\t.catch(error => {\n\t\t\t\tif (this.state.enablePasswordGroup !== false) {\n\t\t\t\t\tthis.setState({enablePasswordGroup: false});\n\t\t\t\t}\n\t\t\t});\n\t};\n\n\tenablePrivateGroup = () => {\n\t\tthis.context.FeatureRestriction.isPrivateGroupEnabled()\n\t\t\t.then(response => {\n\t\t\t\t/**\n\t\t\t\t * Don't update state if the response has the same value\n\t\t\t\t */\n\t\t\t\tif (response !== this.state.enablePrivateGroup) {\n\t\t\t\t\tthis.setState({enablePrivateGroup: response});\n\t\t\t\t}\n\t\t\t})\n\t\t\t.catch(error => {\n\t\t\t\tif (this.state.enablePrivateGroup !== false) {\n\t\t\t\t\tthis.setState({enablePrivateGroup: false});\n\t\t\t\t}\n\t\t\t});\n\t};\n\n\tpasswordChangeHandler = event => {\n\t\tthis.setState({password: event.target.value});\n\t};\n\n\tnameChangeHandler = event => {\n\t\tthis.setState({name: event.target.value});\n\t};\n\n\ttypeChangeHandler = event => {\n\t\tconst type = event.target.value;\n\t\tthis.setState({type});\n\n\t\tif (type === CometChat.GROUP_TYPE.PASSWORD) {\n\t\t\tthis.setState({passwordInput: true});\n\t\t} else {\n\t\t\tthis.setState({passwordInput: false});\n\t\t}\n\t};\n\n\tvalidate = () => {\n\t\tconst groupName = this.state.name.trim();\n\t\tconst groupType = this.state.type.trim();\n\n\t\tif (!groupName) {\n\t\t\tthis.setState({ errorMessage: Translator.translate(\"INVALID_GROUP_NAME\", this.context.language) });\n\t\t\treturn false;\n\t\t}\n\n\t\tif (!groupType) {\n\t\t\tthis.setState({ errorMessage: Translator.translate(\"INVALID_GROUP_TYPE\", this.context.language) });\n\t\t\treturn false;\n\t\t}\n\n\t\tlet password = \"\";\n\t\tif (groupType === CometChat.GROUP_TYPE.PASSWORD) {\n\t\t\tpassword = this.state.password;\n\n\t\t\tif (!password.length) {\n\t\t\t\tthis.setState({ errorMessage: Translator.translate(\"INVALID_PASSWORD\", this.context.language) });\n\t\t\t\treturn false;\n\t\t\t}\n\t\t}\n\t\treturn true;\n\t};\n\n\tcreateGroup = () => {\n\n\t\tif (!this.validate()) {\n\t\t\treturn false;\n\t\t}\n\n\t\tthis.setState({ creatingGroup: true });\n\n\t\tconst groupType = this.state.type.trim();\n\n\t\tconst password = this.state.password;\n\t\tconst guid = \"group_\" + new Date().getTime();\n\t\tconst name = this.state.name.trim();\n\t\tlet type = CometChat.GROUP_TYPE.PUBLIC;\n\n\t\tswitch (groupType) {\n\t\t\tcase \"public\":\n\t\t\t\ttype = CometChat.GROUP_TYPE.PUBLIC;\n\t\t\t\tbreak;\n\t\t\tcase \"private\":\n\t\t\t\ttype = CometChat.GROUP_TYPE.PRIVATE;\n\t\t\t\tbreak;\n\t\t\tcase \"password\":\n\t\t\t\ttype = CometChat.GROUP_TYPE.PASSWORD;\n\t\t\t\tbreak;\n\t\t\tdefault:\n\t\t\t\tbreak;\n\t\t}\n\n\t\tconst group = new CometChat.Group(guid, name, type, password);\n\t\tCometChat.createGroup(group)\n\t\t\t.then(newGroup => {\n\t\t\t\tthis.setState({ creatingGroup: false });\n\n\t\t\t\tif (typeof newGroup === \"object\" && Object.keys(newGroup).length) {\n\t\t\t\t\tthis.context.setToastMessage(\"success\", \"GROUP_CREATION_SUCCESS\");\n\t\t\t\t\tthis.setState({ name: \"\", type: \"\", password: \"\", passwordInput: \"\" });\n\t\t\t\t\tthis.props.actionGenerated(enums.ACTIONS[\"GROUP_CREATED\"], newGroup);\n\t\t\t\t} else {\n\t\t\t\t\tthis.setState({ errorMessage: Translator.translate(\"SOMETHING_WRONG\", this.context.language) });\n\t\t\t\t}\n\t\t\t})\n\t\t\t.catch(error => {\n\t\t\t\tthis.setState({ creatingGroup: false, errorMessage: Translator.translate(\"SOMETHING_WRONG\", this.context.language) });\n\t\t\t});\n\t};\n\n\tpopulateGroupType = () => {};\n\n\trender() {\n\n        const groupTypes = {};\n        let groupTypeSelect = null;\n\n        if (this.state.enablePublicGroup === true) {\n            groupTypes[CometChat.GROUP_TYPE.PUBLIC] = Translator.translate(\"PUBLIC\", this.context.language);\n        }\n\n        if (this.state.enablePasswordGroup === true) {\n            groupTypes[CometChat.GROUP_TYPE.PASSWORD] = Translator.translate(\"PASSWORD_PROTECTED\", this.context.language);\n        }\n\n        if (this.state.enablePrivateGroup === true) {\n            groupTypes[CometChat.GROUP_TYPE.PRIVATE] = Translator.translate(\"PRIVATE\", this.context.language);\n        }\n\n        const groupTypeKeys = Object.keys(groupTypes);\n        if (groupTypeKeys.length) {\n\n            const groupTypeListOptions = groupTypeKeys.map(groupTypeKey => {\n                return (\n                    <option value={groupTypeKey} key={groupTypeKey}>\n                        {groupTypes[groupTypeKey]}\n                    </option>\n                );\n            });\n\n            if (groupTypeKeys.length > 1) {\n                groupTypeSelect = (\n                    <tr>\n                        <td>\n                            <select css={inputStyle(this.props)} className=\"grouptype\" onChange={this.typeChangeHandler} value={this.state.type} tabIndex=\"2\">\n                                <option value=\"\">{Translator.translate(\"SELECT_GROUP_TYPE\", this.context.language)}</option>\n                                {groupTypeListOptions}\n                            </select>\n                        </td>\n                    </tr>\n                );\n            } else {\n                groupTypeSelect = (\n                    <tr>\n                        <td>\n                            <select css={inputStyle(this.props)} className=\"grouptype\" onChange={this.typeChangeHandler} value={this.state.type} tabIndex=\"2\">\n                                {groupTypeListOptions}\n                            </select>\n                        </td>\n                    </tr>\n                );\n            }\n        }\n\n\t\tlet password = null;\n\t\tif (this.state.passwordInput) {\n\t\t\tpassword = (\n\t\t\t\t<tr>\n\t\t\t\t\t<td>\n\t\t\t\t\t\t<input autoComplete=\"off\" css={inputStyle(this.context)} placeholder={Translator.translate(\"ENTER_GROUP_PASSWORD\", this.context.language)} type=\"password\" tabIndex=\"3\" onChange={this.passwordChangeHandler} value={this.state.password} />\n\t\t\t\t\t</td>\n\t\t\t\t</tr>\n\t\t\t);\n\t\t}\n\n\t\tconst createText = this.state.creatingGroup ? Translator.translate(\"CREATING\", this.context.language) : Translator.translate(\"CREATE\", this.context.language);\n\n\t\treturn (\n\t\t\t<React.Fragment>\n\t\t\t\t<CometChatBackdrop show={true} clicked={this.props.close} />\n\t\t\t\t<div css={modalWrapperStyle(this.context)} className=\"modal__creategroup\">\n\t\t\t\t\t<span css={modalCloseStyle(closeIcon, this.context)} className=\"modal__close\" onClick={this.props.close} title={Translator.translate(\"CLOSE\", this.context.language)}></span>\n\t\t\t\t\t<div css={modalBodyStyle()} className=\"modal__body\">\n\t\t\t\t\t\t<table css={modalTableStyle(this.props)}>\n\t\t\t\t\t\t\t<caption css={tableCaptionStyle()} className=\"modal__title\"> {Translator.translate(\"CREATE_GROUP\", this.context.language)} </caption>\n\t\t\t\t\t\t\t<tbody css={tableBodyStyle()} className=\"modal__search\">\n\t\t\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t\t\t<td><div css={modalErrorStyle(this.context)}>{this.state.errorMessage}</div></td>\n\t\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t\t\t\t<input autoComplete=\"off\" css={inputStyle(this.props)} className=\"search__input\" placeholder={Translator.translate(\"ENTER_GROUP_NAME\", this.context.language)} type=\"text\" tabIndex=\"1\" onChange={this.nameChangeHandler} value={this.state.name} />\n\t\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t\t{groupTypeSelect}\n\t\t\t\t\t\t\t\t{password}\n\t\t\t\t\t\t\t</tbody>\n\t\t\t\t\t\t\t<tfoot css={tableFootStyle(this.context, this.state, creatingIcon)}>\n\t\t\t\t\t\t\t\t<tr className=\"creategroup\">\n\t\t\t\t\t\t\t\t\t<td><button type=\"button\" tabIndex=\"4\" onClick={this.createGroup}><span>{createText}</span></button></td>\n\t\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t</tfoot>\n\t\t\t\t\t\t</table>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</React.Fragment>\n\t\t);\n\t}\n}\n\nexport { CometChatCreateGroup };","import { CometChat } from \"@cometchat-pro/chat\";\n\nimport * as enums from \"../../../util/enums.js\";\n\nexport class GroupDetailManager {\n\n    guid = null;\n    groupMemberRequest = null;\n    bannedGroupMemberRequest = null;\n\n    userListenerId = \"group_detail_user_\" + new Date().getTime();\n    groupListenerId = \"group_detail_group_\" + new Date().getTime();\n\n    constructor(guid) {\n        this.guid = guid;\n        this.groupMemberRequest = new CometChat.GroupMembersRequestBuilder(guid).setLimit(10).build();\n        this.bannedGroupMemberRequest = new CometChat.BannedMembersRequestBuilder(guid).setLimit(10).build();\n    }\n\n    fetchNextGroupMembers() {\n        return this.groupMemberRequest.fetchNext();\n    }\n\n    fetchNextBannedGroupMembers() {\n        return this.bannedGroupMemberRequest.fetchNext();\n    }\n\n    attachListeners(callback) {\n\n        CometChat.addGroupListener(\n            this.groupListenerId,\n            new CometChat.GroupListener({\n                onGroupMemberScopeChanged: (message, changedUser, newScope, oldScope, changedGroup) => {\n                    callback(enums.GROUP_MEMBER_SCOPE_CHANGED, message, changedGroup, {\"user\": changedUser, \"scope\": newScope});\n                }, \n                onGroupMemberKicked: (message, kickedUser, kickedBy, kickedFrom) => {\n                    callback(enums.GROUP_MEMBER_KICKED, message, kickedFrom, {\"user\": kickedUser, \"hasJoined\": false});\n                }, \n                onGroupMemberBanned: (message, bannedUser, bannedBy, bannedFrom) => {\n                    callback(enums.GROUP_MEMBER_BANNED, message, bannedFrom, {\"user\": bannedUser});\n                }, \n                onGroupMemberUnbanned: (message, unbannedUser, unbannedBy, unbannedFrom) => {\n                    callback(enums.GROUP_MEMBER_UNBANNED, message, unbannedFrom, {\"user\": unbannedUser, \"hasJoined\": false});\n                }, \n                onMemberAddedToGroup: (message, userAdded, userAddedBy, userAddedIn) => {\n                    callback(enums.GROUP_MEMBER_ADDED, message, userAddedIn, {\"user\": userAdded, \"hasJoined\": true});\n                }, \n                onGroupMemberLeft: (message, leavingUser, group) => {\n                    callback(enums.GROUP_MEMBER_LEFT, message, group, {\"user\": leavingUser});\n                }, \n                onGroupMemberJoined: (message, joinedUser, joinedGroup) => {\n                    callback(enums.GROUP_MEMBER_JOINED, message, joinedGroup, {\"user\": joinedUser});\n                }\n            })\n        );\n\n        CometChat.addUserListener(\n            this.userListenerId,\n            new CometChat.UserListener({\n                onUserOnline: onlineUser => {\n                    /* when someuser/friend comes online, user will be received here */\n                    callback(enums.USER_ONLINE, null, {guid: this.guid}, {\"user\": onlineUser});\n                },\n                onUserOffline: offlineUser => {\n                    /* when someuser/friend went offline, user will be received here */\n                    callback(enums.USER_OFFLINE, null, {guid: this.guid}, {\"user\": offlineUser});\n                }\n            })\n        );\n    }\n\n    removeListeners() {\n\n        CometChat.removeUserListener(this.userListenerId);\n        CometChat.removeGroupListener(this.groupListenerId);\n    }\n}","export const detailStyle = (context) => {\n\n    return {\n        height: \"100%\",\n        position: \"relative\",\n        boxSizing: \"border-box\",\n        fontFamily: `${context.theme.fontFamily}`,\n        \"*\": {\n            boxSizing: \"border-box\",\n            fontFamily: `${context.theme.fontFamily}`,\n        }\n    }\n}\n\nexport const headerStyle = (context) => {\n\n    return {\n        padding: \"16px\",\n        position: \"relative\",\n        borderBottom: `1px solid ${context.theme.borderColor.primary}`,\n        display: \"flex\",\n        justifyContent: \"flex-start\",\n        alignItems: \"center\",\n        height: \"69px\",\n    }\n}\n\nexport const headerCloseStyle = (img, context) => {\n\n    const mq = [...context.theme.breakPoints];\n\n    return {\n        cursor: \"pointer\",\n        display: \"none\",\n        mask: `url(${img}) center center no-repeat`,\n        backgroundColor: `${context.theme.primaryColor}`,\n        width: \"24px\",\n        height: \"24px\",\n        [`@media ${mq[1]}, ${mq[2]}, ${mq[3]}, , ${mq[4]}`]: {\n            display: \"block\"\n        },\n    }\n}\n\nexport const headerTitleStyle = () => {\n\n    return {\n        margin: \"0\",\n        fontWeight: \"700\",\n        fontSize: \"22px\",\n        lineHeight: \"26px\"\n    }\n}\n\nexport const detailPaneStyle = () => {\n\n    return {\n        margin: \"0\",\n        padding: \"16px\",\n        display: \"flex\",\n        flexDirection: \"column\",\n        justifyContent: \"space-between\",\n        alignItems: \"flex-start\",\n        height: \"calc(100% - 70px)\"\n    }\n}\n\nexport const sectionStyle = () => {\n\n    return {\n        width: \"100%\",\n    }\n}\n\nexport const sectionHeaderStyle = (context) => {\n\n    return {\n        margin: \"0\",\n        width: \"100%\",\n        fontSize: \"12px\",\n        fontWeight: \"500\",\n        lineHeight: \"20px\",\n        color: `${context.theme.color.secondary}`,\n        textTransform: \"uppercase\",\n    }\n}\n\nexport const sectionContentStyle = () => {\n\n    return {\n        width: \"100%\",\n        margin: \"6px 0\",\n        '&:not(:last-of-type)': {\n            marginBottom: \"16px\",\n        }\n    }\n}\n\nexport const contentItemStyle = () => {\n\n    return {\n        position: \"relative\",\n        display: \"flex\",\n        clear: \"both\",\n        width: \"100%\",\n        padding:\" 6px 0\",\n        '&:first-of-type': {\n            paddingTop: \"0\",\n        },\n        '&:last-of-type': {\n            paddingBottom: \"0\",\n        }\n    }\n}\n\nexport const itemLinkStyle = (context, deleteLink) => {\n\n    const deleteCss = (deleteLink) ? {\n        color: `${context.theme.color.red}`,\n    } : {\n        color: `${context.theme.color.primary}`,\n    };\n\n    return {\n        fontSize: \"15px\",\n        lineHeight: \"20px\",\n        display: \"inline-block\",\n        cursor: \"pointer\",\n        fontWeight: \"600\",\n        ...deleteCss\n    }\n}\n","export default __webpack_public_path__ + \"static/media/back.e8e05e7c.svg\";","import React from \"react\";\n/** @jsxRuntime classic */\n/** @jsx jsx */\nimport { jsx } from \"@emotion/core\";\nimport PropTypes from \"prop-types\";\nimport { CometChat } from \"@cometchat-pro/chat\";\n\nimport { GroupDetailManager } from \"./controller\";\n\nimport { CometChatConfirmDialog, CometChatToastNotification } from \"../../Shared\";\nimport { \n\tCometChatViewGroupMemberList, \n\tCometChatAddGroupMemberList, \n\tCometChatBanGroupMemberList, \n\tCometChatTransferOwnershipMemberList\n} from \"../../Groups\";\n\nimport { CometChatSharedMediaView } from \"../../Shared/CometChatSharedMediaView/index.js\";\n\nimport { CometChatContext } from \"../../../util/CometChatContext\";\nimport * as enums from \"../../../util/enums.js\";\n\nimport Translator from \"../../../resources/localization/translator\";\nimport { theme } from \"../../../resources/theme\";\n\nimport {\n    detailStyle,\n    headerStyle,\n    headerCloseStyle,\n    headerTitleStyle,\n    detailPaneStyle,\n    sectionStyle,\n    sectionHeaderStyle,\n    sectionContentStyle,\n    contentItemStyle,\n    itemLinkStyle\n} from \"./style\";\n\nimport navigateIcon from \"./resources/back.svg\";\n\nclass CometChatGroupDetails extends React.Component {\n\titem;\n\tstatic contextType = CometChatContext;\n\n\tconstructor(props, context) {\n\t\tsuper(props, context);\n\n\t\tthis._isMounted = false;\n\n\t\tthis.state = {\n\t\t\tloggedInUser: null,\n\t\t\tmemberlist: [],\n\t\t\tbannedmemberlist: [],\n\t\t\tadministratorslist: [],\n\t\t\tmoderatorslist: [],\n\t\t\tviewMember: false,\n\t\t\taddMember: false,\n\t\t\tbanMember: false,\n\t\t\taddAdministrator: false,\n\t\t\taddModerator: false,\n\t\t\tenableAddGroupMembers: false,\n\t\t\tenableChangeScope: false,\n\t\t\tenableKickGroupMembers: false,\n\t\t\tenableBanGroupMembers: false,\n\t\t\tenableDeleteGroup: false,\n\t\t\tenableViewGroupMembers: false,\n\t\t\tenableLeaveGroup: false,\n\t\t\tenableSharedMedia: false,\n\t\t\tshowDeleteConfirmDialog: false,\n\t\t\tshowLeaveGroupConfirmDialog: false,\n\t\t\tshowTransferOwnershipConfirmDialog: false,\n\t\t\ttransferOwnership: false,\n\t\t};\n\n\t\tthis.toastRef = React.createRef();\n\t}\n\n\tcomponentDidMount() {\n\t\tCometChat.getLoggedinUser()\n\t\t\t.then(user => {\n\t\t\t\tif (this._isMounted) {\n\t\t\t\t\tthis.setState({ loggedInUser: user });\n\t\t\t\t}\n\t\t\t})\n\t\t\t.catch(error => this.toastRef.setError(\"SOMETHING_WRONG\"));\n\n\t\tthis._isMounted = true;\n\t\tthis.context.clearGroupMembers();\n\n\t\tthis.item = this.context.item;\n\n\t\tconst guid = this.context.item.guid;\n\t\tthis.GroupDetailManager = new GroupDetailManager(guid);\n\t\tthis.getGroupMembers();\n\t\tthis.getBannedGroupMembers();\n\t\tthis.GroupDetailManager.attachListeners(this.groupUpdated);\n\n\t\tthis.enableAddGroupMembers();\n\t\tthis.enableChangeScope();\n\t\tthis.enableKickGroupMembers();\n\t\tthis.enableBanGroupMembers();\n\t\tthis.enableViewGroupMembers();\n\t\tthis.enableDeleteGroup();\n\t\tthis.enableLeaveGroup();\n\t\tthis.enableSharedMedia();\n\t}\n\n\tcomponentDidUpdate(prevProps, prevState) {\n\t\tif (this.item.guid !== this.context.item.guid) {\n\t\t\tthis.context.clearGroupMembers();\n\n\t\t\tconst guid = this.context.item.guid;\n\t\t\tthis.GroupDetailManager.removeListeners();\n\t\t\tthis.GroupDetailManager = new GroupDetailManager(guid);\n\t\t\tthis.getGroupMembers();\n\t\t\tthis.getBannedGroupMembers();\n\t\t\tthis.GroupDetailManager.attachListeners(this.groupUpdated);\n\t\t}\n\n\t\tthis.item = this.context.item;\n\t\tthis.enableAddGroupMembers();\n\t\tthis.enableChangeScope();\n\t\tthis.enableKickGroupMembers();\n\t\tthis.enableBanGroupMembers();\n\t\tthis.enableViewGroupMembers();\n\t\tthis.enableDeleteGroup();\n\t\tthis.enableLeaveGroup();\n\t\tthis.enableSharedMedia();\n\t}\n\n\tcomponentWillUnmount() {\n\t\tthis.GroupDetailManager.removeListeners();\n\t\tthis.GroupDetailManager = null;\n\t\tthis._isMounted = false;\n\t}\n\n\tenableAddGroupMembers = () => {\n\t\tthis.context.FeatureRestriction.isAddingGroupMembersEnabled()\n\t\t\t.then(response => {\n\t\t\t\t/**\n\t\t\t\t * Don't update state if the response has the same value\n\t\t\t\t */\n\t\t\t\tif (response !== this.state.enableAddGroupMembers && this._isMounted) {\n\t\t\t\t\tthis.setState({ enableAddGroupMembers: response });\n\t\t\t\t}\n\t\t\t})\n\t\t\t.catch(error => {\n\t\t\t\tif (this.state.enableAddGroupMembers !== false && this._isMounted) {\n\t\t\t\t\tthis.setState({ enableAddGroupMembers: false });\n\t\t\t\t}\n\t\t\t});\n\t};\n\n\tenableChangeScope = () => {\n\t\tthis.context.FeatureRestriction.isChangingGroupMemberScopeEnabled()\n\t\t\t.then(response => {\n\t\t\t\t/**\n\t\t\t\t * Don't update state if the response has the same value\n\t\t\t\t */\n\t\t\t\tif (response !== this.state.enableChangeScope && this._isMounted) {\n\t\t\t\t\tthis.setState({ enableChangeScope: response });\n\t\t\t\t}\n\t\t\t})\n\t\t\t.catch(error => {\n\t\t\t\tif (this.state.enableChangeScope !== false && this._isMounted) {\n\t\t\t\t\tthis.setState({ enableChangeScope: false });\n\t\t\t\t}\n\t\t\t});\n\t};\n\n\tenableKickGroupMembers = () => {\n\t\tthis.context.FeatureRestriction.isKickingGroupMembersEnabled()\n\t\t\t.then(response => {\n\t\t\t\t/**\n\t\t\t\t * Don't update state if the response has the same value\n\t\t\t\t */\n\t\t\t\tif (response !== this.state.enableKickGroupMembers && this._isMounted) {\n\t\t\t\t\tthis.setState({ enableKickGroupMembers: response });\n\t\t\t\t}\n\t\t\t})\n\t\t\t.catch(error => {\n\t\t\t\tif (this.state.enableKickGroupMembers !== false && this._isMounted) {\n\t\t\t\t\tthis.setState({ enableKickGroupMembers: false });\n\t\t\t\t}\n\t\t\t});\n\t};\n\n\tenableBanGroupMembers = () => {\n\t\tthis.context.FeatureRestriction.isBanningGroupMembersEnabled()\n\t\t\t.then(response => {\n\t\t\t\t/**\n\t\t\t\t * Don't update state if the response has the same value\n\t\t\t\t */\n\t\t\t\tif (response !== this.state.enableBanGroupMembers && this._isMounted) {\n\t\t\t\t\tthis.setState({ enableBanGroupMembers: response });\n\t\t\t\t}\n\t\t\t})\n\t\t\t.catch(error => {\n\t\t\t\tif (this.state.enableBanGroupMembers !== false && this._isMounted) {\n\t\t\t\t\tthis.setState({ enableBanGroupMembers: false });\n\t\t\t\t}\n\t\t\t});\n\t};\n\n\tenableDeleteGroup = () => {\n\t\tthis.context.FeatureRestriction.isGroupDeletionEnabled()\n\t\t\t.then(response => {\n\t\t\t\t/**\n\t\t\t\t * Don't update state if the response has the same value\n\t\t\t\t */\n\t\t\t\tif (response !== this.state.enableDeleteGroup && this._isMounted) {\n\t\t\t\t\tthis.setState({ enableDeleteGroup: response });\n\t\t\t\t}\n\t\t\t})\n\t\t\t.catch(error => {\n\t\t\t\tif (this.state.enableDeleteGroup !== false && this._isMounted) {\n\t\t\t\t\tthis.setState({ enableDeleteGroup: false });\n\t\t\t\t}\n\t\t\t});\n\t};\n\n\tenableViewGroupMembers = () => {\n\t\tthis.context.FeatureRestriction.isViewingGroupMembersEnabled()\n\t\t\t.then(response => {\n\t\t\t\t/**\n\t\t\t\t * Don't update state if the response has the same value\n\t\t\t\t */\n\t\t\t\tif (response !== this.state.enableViewGroupMembers && this._isMounted) {\n\t\t\t\t\tthis.setState({ enableViewGroupMembers: response });\n\t\t\t\t}\n\t\t\t})\n\t\t\t.catch(error => {\n\t\t\t\tif (this.state.enableViewGroupMembers !== false && this._isMounted) {\n\t\t\t\t\tthis.setState({ enableViewGroupMembers: false });\n\t\t\t\t}\n\t\t\t});\n\t};\n\n\tenableLeaveGroup = () => {\n\t\tthis.context.FeatureRestriction.isJoinLeaveGroupsEnabled()\n\t\t\t.then(response => {\n\t\t\t\t/**\n\t\t\t\t * Don't update state if the response has the same value\n\t\t\t\t */\n\t\t\t\tif (response !== this.state.enableLeaveGroup && this._isMounted) {\n\t\t\t\t\tthis.setState({ enableLeaveGroup: response });\n\t\t\t\t}\n\t\t\t})\n\t\t\t.catch(error => {\n\t\t\t\tif (this.state.enableLeaveGroup !== false && this._isMounted) {\n\t\t\t\t\tthis.setState({ enableLeaveGroup: false });\n\t\t\t\t}\n\t\t\t});\n\t};\n\n\tenableSharedMedia = () => {\n\t\tthis.context.FeatureRestriction.isSharedMediaEnabled()\n\t\t\t.then(response => {\n\t\t\t\t/**\n\t\t\t\t * Don't update state if the response has the same value\n\t\t\t\t */\n\t\t\t\tif (response !== this.state.enableSharedMedia && this._isMounted) {\n\t\t\t\t\tthis.setState({ enableSharedMedia: response });\n\t\t\t\t}\n\t\t\t})\n\t\t\t.catch(error => {\n\t\t\t\tif (this.state.enableSharedMedia !== false && this._isMounted) {\n\t\t\t\t\tthis.setState({ enableSharedMedia: false });\n\t\t\t\t}\n\t\t\t});\n\t};\n\n\tenableBlockUser = () => {\n\t\tthis.context.FeatureRestriction.isBlockUserEnabled()\n\t\t\t.then(response => {\n\t\t\t\t/**\n\t\t\t\t * Don't update state if the response has the same value\n\t\t\t\t */\n\t\t\t\tif (response !== this.state.enableBlockUser && this._isMounted) {\n\t\t\t\t\tthis.setState({ enableBlockUser: response });\n\t\t\t\t}\n\t\t\t})\n\t\t\t.catch(error => {\n\t\t\t\tif (this.state.enableBlockUser !== false && this._isMounted) {\n\t\t\t\t\tthis.setState({ enableBlockUser: false });\n\t\t\t\t}\n\t\t\t});\n\t};\n\n\tgroupUpdated = (key, message, group, options) => {\n\t\tconst guid = this.context.item.guid;\n\t\tif (guid !== group.guid) {\n\t\t\treturn false;\n\t\t}\n\n\t\tswitch (key) {\n\t\t\tcase enums.USER_ONLINE:\n\t\t\tcase enums.USER_OFFLINE:\n\t\t\t\tthis.updateGroupMemberPresence(options.user);\n\t\t\t\tbreak;\n\t\t\tcase enums.GROUP_MEMBER_ADDED:\n\t\t\tcase enums.GROUP_MEMBER_JOINED:\n\t\t\t\t{\n\t\t\t\t\tconst member = options.user;\n\t\t\t\t\tconst updatedMember = Object.assign({}, member, { scope: CometChat.GROUP_MEMBER_SCOPE.PARTICIPANT });\n\n\t\t\t\t\tthis.addParticipants([updatedMember], false);\n\t\t\t\t}\n\t\t\t\tbreak;\n\t\t\tcase enums.GROUP_MEMBER_LEFT:\n\t\t\tcase enums.GROUP_MEMBER_KICKED:\n\t\t\t\t{\n\t\t\t\t\tconst member = options.user;\n\t\t\t\t\tthis.removeParticipants(key, member, false);\n\t\t\t\t}\n\t\t\t\tbreak;\n\t\t\tcase enums.GROUP_MEMBER_BANNED:\n\t\t\t\t{\n\t\t\t\t\tconst member = options.user;\n\t\t\t\t\t//this.setAvatar(member);\n\t\t\t\t\tthis.banMembers([member]);\n\t\t\t\t\tthis.removeParticipants(key, member, false);\n\t\t\t\t}\n\t\t\t\tbreak;\n\t\t\tcase enums.GROUP_MEMBER_UNBANNED:\n\t\t\t\t{\n\t\t\t\t\tconst member = options.user;\n\t\t\t\t\tthis.unbanMembers([member]);\n\t\t\t\t}\n\t\t\t\tbreak;\n\t\t\tcase enums.GROUP_MEMBER_SCOPE_CHANGED:\n\t\t\t\t{\n\t\t\t\t\tconst member = options.user;\n\t\t\t\t\tconst updatedMember = Object.assign({}, member, { scope: options[\"scope\"] });\n\t\t\t\t\tthis.updateParticipants(updatedMember);\n\t\t\t\t}\n\t\t\t\tbreak;\n\t\t\tdefault:\n\t\t\t\tbreak;\n\t\t}\n\t};\n\n\t/*\n    Updating group members presence\n    */\n\tupdateGroupMemberPresence = member => {\n\t\tlet memberlist = [...this.context.groupMembers];\n\t\t//search for user\n\t\tlet memberKey = memberlist.findIndex((m, k) => m.uid === member.uid);\n\t\t//if found in the list, update user object\n\t\tif (memberKey > -1) {\n\t\t\tlet memberObj = memberlist[memberKey];\n\t\t\tlet newMemberObj = Object.assign({}, memberObj, member);\n\t\t\tmemberlist.splice(memberKey, 1, newMemberObj);\n\n\t\t\tthis.context.updateGroupMembers(memberlist);\n\t\t}\n\n\t\tlet bannedmemberlist = [...this.context.bannedGroupMembers];\n\t\t//search for user\n\t\tlet bannedMemberKey = bannedmemberlist.findIndex((m, k) => m.uid === member.uid);\n\t\t//if found in the list, update user object\n\t\tif (bannedMemberKey > -1) {\n\t\t\tlet bannedMemberObj = bannedmemberlist[bannedMemberKey];\n\t\t\tlet newBannedMemberObj = Object.assign({}, bannedMemberObj, member);\n\t\t\tbannedmemberlist.splice(bannedMemberKey, 1, newBannedMemberObj);\n\n\t\t\tthis.updateBannedGroupMembers(bannedmemberlist);\n\t\t}\n\t};\n\n\tgetGroupMembers = () => {\n\t\tconst administratorslist = [],\n\t\t\tmoderatorslist = [];\n\t\tthis.GroupDetailManager.fetchNextGroupMembers()\n\t\t\t.then(groupMembers => {\n\t\t\t\tgroupMembers.forEach(member => {\n\t\t\t\t\tif (member.scope === CometChat.GROUP_MEMBER_SCOPE.ADMIN) {\n\t\t\t\t\t\tadministratorslist.push(member);\n\t\t\t\t\t}\n\n\t\t\t\t\tif (member.scope === CometChat.GROUP_MEMBER_SCOPE.MODERATOR) {\n\t\t\t\t\t\tmoderatorslist.push(member);\n\t\t\t\t\t}\n\t\t\t\t});\n\n\t\t\t\tthis.context.setAllGroupMembers(groupMembers, administratorslist, moderatorslist);\n\t\t\t})\n\t\t\t.catch(error => this.toastRef.setError(\"SOMETHING_WRONG\"));\n\t};\n\n\tgetBannedGroupMembers = () => {\n\t\tif (this.context.item.scope === CometChat.GROUP_MEMBER_SCOPE.PARTICIPANT) {\n\t\t\treturn false;\n\t\t}\n\n\t\tthis.GroupDetailManager.fetchNextBannedGroupMembers()\n\t\t\t.then(bannedMembers => {\n\t\t\t\tthis.context.setBannedGroupMembers(bannedMembers);\n\t\t\t})\n\t\t\t.catch(error => this.toastRef.setError(\"SOMETHING_WRONG\"));\n\t};\n\n\tdeleteGroup = () => {\n\t\tthis.setState({ showDeleteConfirmDialog: true, showLeaveGroupConfirmDialog: false, showTransferOwnershipConfirmDialog: false });\n\t};\n\n\tonDeleteConfirm = e => {\n\t\tconst optionSelected = e.target.value;\n\t\tthis.setState({ showDeleteConfirmDialog: false });\n\n\t\tif (optionSelected === \"no\") {\n\t\t\treturn false;\n\t\t}\n\n\t\tconst guid = this.context.item.guid;\n\t\tCometChat.deleteGroup(guid)\n\t\t\t.then(response => {\n\t\t\t\tif (response) {\n\t\t\t\t\tthis.context.setToastMessage(\"success\", \"GROUP_DELETION_SUCCESS\");\n\t\t\t\t\tthis.context.setDeletedGroupId(guid);\n\t\t\t\t} else {\n\t\t\t\t\tthis.toastRef.setError(\"SOMETHING_WRONG\");\n\t\t\t\t}\n\t\t\t})\n\t\t\t.catch(error => this.toastRef.setError(\"SOMETHING_WRONG\"));\n\t};\n\n\tonLeaveConfirm = e => {\n\t\tconst optionSelected = e.target.value;\n\t\tthis.setState({ showLeaveGroupConfirmDialog: false });\n\n\t\tif (optionSelected === \"no\") {\n\t\t\treturn false;\n\t\t}\n\n\t\tconst guid = this.context.item.guid;\n\t\tCometChat.leaveGroup(guid)\n\t\t\t.then(response => {\n\t\t\t\tif (response) {\n\t\t\t\t\tthis.context.setLeftGroupId(guid);\n\t\t\t\t} else {\n\t\t\t\t\tthis.toastRef.setError(\"SOMETHING_WRONG\");\n\t\t\t\t}\n\t\t\t})\n\t\t\t.catch(error => this.toastRef.setError(\"SOMETHING_WRONG\"));\n\t};\n\n\tonTransferConfirm = e => {\n\t\tconst optionSelected = e.target.value;\n\t\tthis.setState({ showTransferOwnershipConfirmDialog: false });\n\t\tif (optionSelected === \"no\") {\n\t\t\treturn false;\n\t\t}\n\n\t\tthis.setState({ transferOwnership: true });\n\t};\n\n\tleaveGroup = () => {\n\t\t/**\n\t\t * If loggeduser is the owner of the group; ask him to transfer ownership before leaving the group else show leave group confirmtion dialog\n\t\t */\n\t\tif (this.context.item?.owner === this.state.loggedInUser?.uid) {\n\t\t\tthis.setState({ showTransferOwnershipConfirmDialog: true, showDeleteConfirmDialog: false, showLeaveGroupConfirmDialog: false });\n\t\t} else {\n\t\t\tthis.setState({ showLeaveGroupConfirmDialog: true, showTransferOwnershipConfirmDialog: false, showDeleteConfirmDialog: false });\n\t\t}\n\t};\n\n\tclickHandler = (action, flag) => {\n\t\tswitch (action) {\n\t\t\tcase \"viewmember\":\n\t\t\t\tthis.setState({ viewMember: flag });\n\t\t\t\tbreak;\n\t\t\tcase \"addmember\":\n\t\t\t\tthis.setState({ addMember: flag });\n\t\t\t\tbreak;\n\t\t\tcase \"banmember\":\n\t\t\t\tthis.setState({ banMember: flag });\n\t\t\t\tbreak;\n\t\t\tcase \"transferownership\":\n\t\t\t\tthis.setState({ transferOwnership: flag });\n\t\t\t\tbreak;\n\t\t\tdefault:\n\t\t\t\tbreak;\n\t\t}\n\t};\n\n\tmembersActionHandler = (action, members) => {\n\t\tswitch (action) {\n\t\t\tcase enums.ACTIONS[\"FETCH_GROUP_MEMBERS\"]:\n\t\t\t\tthis.getGroupMembers();\n\t\t\t\tbreak;\n\t\t\tcase enums.ACTIONS[\"FETCH_BANNED_GROUP_MEMBERS\"]:\n\t\t\t\tthis.getBannedGroupMembers();\n\t\t\t\tbreak;\n\t\t\tcase enums.ACTIONS[\"UNBAN_GROUP_MEMBER_SUCCESS\"]:\n\t\t\t\tthis.unbanMembers(members);\n\t\t\t\tbreak;\n\t\t\tcase enums.ACTIONS[\"ADD_GROUP_MEMBER_SUCCESS\"]:\n\t\t\t\tthis.addParticipants(members);\n\t\t\t\tbreak;\n\t\t\tcase enums.ACTIONS[\"BAN_GROUPMEMBER_SUCCESS\"]:\n\t\t\tcase enums.ACTIONS[\"KICK_GROUPMEMBER_SUCCESS\"]:\n\t\t\t\tthis.removeParticipants(action, members);\n\t\t\t\tbreak;\n\t\t\tcase enums.ACTIONS[\"SCOPECHANGE_GROUPMEMBER_SUCCESS\"]:\n\t\t\t\tthis.updateParticipants(members);\n\t\t\t\tbreak;\n\t\t\tcase enums.ACTIONS[\"OWNERSHIP_TRANSFERRED\"]:\n\t\t\t\tthis.updateOwnership(members);\n\t\t\t\tbreak;\n\t\t\tdefault:\n\t\t\t\tbreak;\n\t\t}\n\t};\n\n\tbanMembers = members => {\n\t\tthis.context.setBannedGroupMembers(members);\n\t};\n\n\tunbanMembers = members => {\n\t\tconst bannedMembers = [...this.context.bannedGroupMembers];\n\t\tconst unbannedMembers = [];\n\n\t\tconst filteredBannedMembers = bannedMembers.filter(bannedmember => {\n\t\t\tconst found = members.find(member => bannedmember.uid === member.uid);\n\t\t\tif (found) {\n\t\t\t\tunbannedMembers.push(found);\n\t\t\t\treturn false;\n\t\t\t}\n\t\t\treturn true;\n\t\t});\n\n\t\tthis.props.actionGenerated(enums.ACTIONS[\"UNBAN_GROUP_MEMBER_SUCCESS\"], unbannedMembers);\n\t\tthis.context.updateBannedGroupMembers(filteredBannedMembers);\n\t};\n\n\taddParticipants = (members, triggerUpdate = true) => {\n\t\tthis.context.setGroupMembers(members);\n\t\t\n\t\tif (triggerUpdate) {\n\t\t\tconst newItem = { ...this.context.item, membersCount: this.context.groupMembers.length };\n\t\t\tthis.context.setItem(newItem);\n\n\t\t\tthis.props.actionGenerated(enums.ACTIONS[\"ADD_GROUP_MEMBER_SUCCESS\"], members);\n\t\t}\n\t};\n\n\tremoveParticipants = (action, member, triggerUpdate = true) => {\n\n\t\tconst groupmembers = [...this.context.groupMembers];\n\t\tconst filteredMembers = groupmembers.filter(groupmember => {\n\t\t\tif (groupmember.uid === member.uid) {\n\t\t\t\treturn false;\n\t\t\t}\n\t\t\treturn true;\n\t\t});\n\n\t\tthis.context.updateGroupMembers(filteredMembers);\n\n\t\tif (triggerUpdate) {\n\t\t\t\n\t\t\tconst newItem = { ...this.context.item, membersCount: filteredMembers.length };\n\t\t\tthis.context.setItem(newItem);\n\n\t\t\t//if group member is banned, update banned member list in context api\n\t\t\tif(action === enums.ACTIONS[\"BAN_GROUPMEMBER_SUCCESS\"]) {\n\t\t\t\tthis.context.setBannedGroupMembers([member]);\n\t\t\t}\n\n\t\t\tthis.props.actionGenerated(action, [member]);\n\t\t}\n\t};\n\n\tupdateParticipants = updatedMember => {\n\t\tconst memberlist = [...this.context.groupMembers];\n\n\t\tconst memberKey = memberlist.findIndex(member => member.uid === updatedMember.uid);\n\t\tif (memberKey > -1) {\n\t\t\tconst memberObj = memberlist[memberKey];\n\t\t\tconst newMemberObj = Object.assign({}, memberObj, updatedMember, { scope: updatedMember[\"scope\"] });\n\n\t\t\tmemberlist.splice(memberKey, 1, newMemberObj);\n\t\t\tthis.props.actionGenerated(enums.ACTIONS[\"SCOPECHANGE_GROUPMEMBER_SUCCESS\"], [newMemberObj]);\n\t\t\tthis.context.updateGroupMembers(memberlist);\n\t\t}\n\t};\n\n\tupdateOwnership = uid => {\n\t\tconst item = { ...this.context.item, owner: uid };\n\t\tconst type = CometChat.RECEIVER_TYPE.GROUP;\n\n\t\tthis.setState({ transferOwnership: false });\n\t\tthis.context.setTypeAndItem(type, item);\n\t};\n\n\tcloseGroupDetail = () => {\n\t\tthis.props.actionGenerated(enums.ACTIONS[\"CLOSE_GROUP_DETAIL\"]);\n\t};\n\n\trender() {\n\t\tif (this.state.loggedInUser === null) {\n\t\t\treturn null;\n\t\t}\n\n\t\tlet viewMembersBtn = (\n\t\t\t<div css={contentItemStyle()} className=\"content__item\">\n\t\t\t\t<div css={itemLinkStyle(this.context, 0)} className=\"item__link\" onClick={() => this.clickHandler(\"viewmember\", true)}>\n\t\t\t\t\t{Translator.translate(\"VIEW_MEMBERS\", this.context.language)}\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t);\n\n\t\tlet addMembersBtn = null,\n\t\t\tdeleteGroupBtn = null,\n\t\t\tbannedMembersBtn = null;\n\t\tif (this.context.item.scope === CometChat.GROUP_MEMBER_SCOPE.ADMIN) {\n\t\t\taddMembersBtn = (\n\t\t\t\t<div css={contentItemStyle()} className=\"content__item\">\n\t\t\t\t\t<div css={itemLinkStyle(this.context, 0)} className=\"item__link\" onClick={() => this.clickHandler(\"addmember\", true)}>\n\t\t\t\t\t\t{Translator.translate(\"ADD_MEMBERS\", this.context.language)}\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t);\n\n\t\t\tdeleteGroupBtn = (\n\t\t\t\t<div css={contentItemStyle()} className=\"content__item\">\n\t\t\t\t\t<span css={itemLinkStyle(this.context, 1)} className=\"item__link\" onClick={this.deleteGroup}>\n\t\t\t\t\t\t{Translator.translate(\"DELETE_AND_EXIT\", this.context.language)}\n\t\t\t\t\t</span>\n\t\t\t\t</div>\n\t\t\t);\n\t\t}\n\n\t\tif (this.context.item.scope !== CometChat.GROUP_MEMBER_SCOPE.PARTICIPANT) {\n\t\t\tbannedMembersBtn = (\n\t\t\t\t<div css={contentItemStyle()} className=\"content__item\">\n\t\t\t\t\t<div css={itemLinkStyle(this.context, 0)} className=\"item__link\" onClick={() => this.clickHandler(\"banmember\", true)}>\n\t\t\t\t\t\t{Translator.translate(\"BANNED_MEMBERS\", this.context.language)}\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t);\n\t\t}\n\n\t\tlet leaveGroupBtn = (\n\t\t\t<div css={contentItemStyle()} className=\"content__item\">\n\t\t\t\t<span css={itemLinkStyle(this.context, 0)} className=\"item__link\" onClick={this.leaveGroup}>\n\t\t\t\t\t{Translator.translate(\"LEAVE_GROUP\", this.context.language)}\n\t\t\t\t</span>\n\t\t\t</div>\n\t\t);\n\n\t\tlet sharedmediaView = <CometChatSharedMediaView containerHeight=\"225px\" lang={this.context.language} />;\n\n\t\tif (this.context.item.scope === CometChat.GROUP_MEMBER_SCOPE.PARTICIPANT) {\n\t\t\t//if viewing group membersfeature is disabled\n\t\t\tif (this.state.enableViewGroupMembers === false) {\n\t\t\t\tviewMembersBtn = null;\n\t\t\t}\n\t\t} else if (this.context.item.scope === CometChat.GROUP_MEMBER_SCOPE.MODERATOR || this.context.item.scope === CometChat.GROUP_MEMBER_SCOPE.ADMIN) {\n\t\t\tif (this.state.enableViewGroupMembers === false && this.state.enableKickGroupMembers === false && this.state.enableBanGroupMembers === false && this.state.enableChangeScope === false) {\n\t\t\t\t//if viewing, kicking/banning, promoting/demoting group membersare feature is disabled\n\t\t\t\tviewMembersBtn = null;\n\t\t\t}\n\t\t}\n\n\t\t//if adding group members feature is disabled\n\t\tif (this.state.enableAddGroupMembers === false) {\n\t\t\taddMembersBtn = null;\n\t\t}\n\n\t\t//if kicking/banning/unbanning group members feature is disabled\n\t\tif (this.state.enableBanGroupMembers === false) {\n\t\t\tbannedMembersBtn = null;\n\t\t}\n\n\t\t//if deleting group feature is disabled\n\t\tif (this.state.enableDeleteGroup === false) {\n\t\t\tdeleteGroupBtn = null;\n\t\t}\n\n\t\t//if leaving group feature is disabled\n\t\tif (this.state.enableLeaveGroup === false || this.context?.item?.membersCount === 1) {\n\t\t\tleaveGroupBtn = null;\n\t\t}\n\n\t\t//if viewing shared media group feature is disabled\n\t\tif (this.state.enableSharedMedia === false) {\n\t\t\tsharedmediaView = null;\n\t\t}\n\n\t\tlet members = (\n\t\t\t<div css={sectionStyle()} className=\"section section__members\">\n\t\t\t\t<h6 css={sectionHeaderStyle(this.context)} className=\"section__header\">\n\t\t\t\t\t{Translator.translate(\"MEMBERS\", this.context.language)}\n\t\t\t\t</h6>\n\t\t\t\t<div css={sectionContentStyle()} className=\"section__content\">\n\t\t\t\t\t{viewMembersBtn}\n\t\t\t\t\t{addMembersBtn}\n\t\t\t\t\t{bannedMembersBtn}\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t);\n\n\t\tlet options = (\n\t\t\t<div css={sectionStyle()} className=\"section section__options\">\n\t\t\t\t<h6 css={sectionHeaderStyle(this.context)} className=\"section__header\">\n\t\t\t\t\t{Translator.translate(\"OPTIONS\", this.context.language)}\n\t\t\t\t</h6>\n\t\t\t\t<div css={sectionContentStyle()} className=\"section__content\">\n\t\t\t\t\t{leaveGroupBtn}\n\t\t\t\t\t{deleteGroupBtn}\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t);\n\n\t\tif (viewMembersBtn === null && addMembersBtn === null && bannedMembersBtn === null) {\n\t\t\tmembers = null;\n\t\t}\n\n\t\tif (leaveGroupBtn === null && deleteGroupBtn === null) {\n\t\t\toptions = null;\n\t\t}\n\n\t\tlet viewMembers = null;\n\t\tif (this.state.viewMember) {\n\t\t\tviewMembers = (\n\t\t\t\t<CometChatViewGroupMemberList\n\t\t\t\t\tloggedinuser={this.state.loggedInUser}\n\t\t\t\t\tlang={this.props.lang}\n\t\t\t\t\tenableChangeScope={this.state.enableChangeScope}\n\t\t\t\t\tenableKickGroupMembers={this.state.enableKickGroupMembers}\n\t\t\t\t\tenableBanGroupMembers={this.state.enableBanGroupMembers}\n\t\t\t\t\tclose={() => this.clickHandler(\"viewmember\", false)}\n\t\t\t\t\tactionGenerated={this.membersActionHandler}\n\t\t\t\t/>\n\t\t\t);\n\t\t}\n\n\t\tlet addMembers = null;\n\t\tif (this.state.addMember) {\n\t\t\taddMembers = <CometChatAddGroupMemberList close={() => this.clickHandler(\"addmember\", false)} actionGenerated={this.membersActionHandler} />;\n\t\t}\n\n\t\tlet bannedMembers = null;\n\t\tif (this.state.banMember) {\n\t\t\tbannedMembers = <CometChatBanGroupMemberList loggedinuser={this.state.loggedInUser} close={() => this.clickHandler(\"banmember\", false)} actionGenerated={this.membersActionHandler} />;\n\t\t}\n\n\t\tlet showDeleteConfirmDialog = null;\n\t\tif (this.state.showDeleteConfirmDialog) {\n\t\t\tshowDeleteConfirmDialog = (\n\t\t\t\t<CometChatConfirmDialog {...this.props} onClick={this.onDeleteConfirm} message={Translator.translate(\"DELETE_CONFIRM\", this.context.language)} confirmButtonText={Translator.translate(\"DELETE\", this.context.language)} cancelButtonText={Translator.translate(\"CANCEL\", this.context.language)} />\n\t\t\t);\n\t\t}\n\n\t\tlet showLeaveGroupConfirmDialog = null;\n\t\tif (this.state.showLeaveGroupConfirmDialog) {\n\t\t\tshowLeaveGroupConfirmDialog = (\n\t\t\t\t<CometChatConfirmDialog {...this.props} onClick={this.onLeaveConfirm} message={Translator.translate(\"LEAVE_CONFIRM\", this.context.language)} confirmButtonText={Translator.translate(\"LEAVE\", this.context.language)} cancelButtonText={Translator.translate(\"CANCEL\", this.context.language)} />\n\t\t\t);\n\t\t}\n\n\t\tlet showTransferOwnershipConfirmDialog = null;\n\t\tif (this.state.showTransferOwnershipConfirmDialog) {\n\t\t\tshowTransferOwnershipConfirmDialog = (\n\t\t\t\t<CometChatConfirmDialog\n\t\t\t\t\t{...this.props}\n\t\t\t\t\tonClick={this.onTransferConfirm}\n\t\t\t\t\tmessage={Translator.translate(\"TRANSFER_CONFIRM\", this.context.language)}\n\t\t\t\t\tconfirmButtonText={Translator.translate(\"TRANSFER\", this.context.language)}\n\t\t\t\t\tcancelButtonText={Translator.translate(\"CANCEL\", this.context.language)}\n\t\t\t\t/>\n\t\t\t);\n\t\t}\n\n\t\tlet transferOwnership = null;\n\t\tif (this.state.transferOwnership) {\n\t\t\ttransferOwnership = <CometChatTransferOwnershipMemberList roles={this.roles} loggedinuser={this.state.loggedInUser} actionGenerated={this.membersActionHandler} close={() => this.clickHandler(\"transferownership\", false)} />;\n\t\t}\n\n\t\treturn (\n\t\t\t<div css={detailStyle(this.context)} className=\"detailpane\">\n\t\t\t\t<div css={headerStyle(this.context)} className=\"detailpane__header\">\n\t\t\t\t\t<div css={headerCloseStyle(navigateIcon, this.context)} className=\"header__close\" onClick={this.closeGroupDetail}></div>\n\t\t\t\t\t<h4 css={headerTitleStyle()} className=\"header__title\">\n\t\t\t\t\t\t{Translator.translate(\"DETAILS\", this.context.language)}\n\t\t\t\t\t</h4>\n\t\t\t\t</div>\n\t\t\t\t<div css={detailPaneStyle()} className=\"detailpane__section\">\n\t\t\t\t\t{members}\n\t\t\t\t\t{options}\n\t\t\t\t\t{sharedmediaView}\n\t\t\t\t</div>\n\t\t\t\t{viewMembers}\n\t\t\t\t{addMembers}\n\t\t\t\t{bannedMembers}\n\t\t\t\t{transferOwnership}\n\t\t\t\t{showDeleteConfirmDialog}\n\t\t\t\t{showLeaveGroupConfirmDialog}\n\t\t\t\t{showTransferOwnershipConfirmDialog}\n\t\t\t\t<CometChatToastNotification ref={el => (this.toastRef = el)} lang={this.props.lang} />\n\t\t\t</div>\n\t\t);\n\t}\n}\n\n// Specifies the default values for props:\nCometChatGroupDetails.defaultProps = {\n    lang: Translator.getDefaultLanguage(),\n    theme: theme\n};\n\nCometChatGroupDetails.propTypes = {\n    lang: PropTypes.string,\n    theme: PropTypes.object\n}\n\nexport { CometChatGroupDetails };\n","import { CometChat } from \"@cometchat-pro/chat\";\n\nimport * as enums from \"../../../util/enums.js\";\n\nexport class GroupListManager {\n\n    groupRequest = null;\n    groupListenerId = \"grouplist_\" + new Date().getTime();\n\n    constructor(searchKey) {\n\n        if (searchKey) {\n            this.groupRequest = new CometChat.GroupsRequestBuilder().setLimit(30).setSearchKeyword(searchKey).build();\n        } else {\n            this.groupRequest = new CometChat.GroupsRequestBuilder().setLimit(30).build();\n        }\n    }\n\n    fetchNextGroups() {\n        return this.groupRequest.fetchNext();\n    }\n\n    attachListeners(callback) {\n\n        CometChat.addGroupListener(\n            this.groupListenerId,\n            new CometChat.GroupListener({\n                onGroupMemberScopeChanged: (message, changedUser, newScope, oldScope, changedGroup) => {\n                    callback(enums.GROUP_MEMBER_SCOPE_CHANGED, message, changedGroup, {\"user\": changedUser, \"scope\": newScope});\n                }, \n                onGroupMemberKicked: (message, kickedUser, kickedBy, kickedFrom) => {\n                    callback(enums.GROUP_MEMBER_KICKED, message, kickedFrom, {\"user\": kickedUser, \"hasJoined\": false});\n                }, \n                onGroupMemberBanned: (message, bannedUser, bannedBy, bannedFrom) => {\n                    callback(enums.GROUP_MEMBER_BANNED, message, bannedFrom, {\"user\": bannedUser, \"hasJoined\": false});\n                }, \n                onGroupMemberUnbanned: (message, unbannedUser, unbannedBy, unbannedFrom) => {\n                    callback(enums.GROUP_MEMBER_UNBANNED, message, unbannedFrom, {\"user\": unbannedUser, \"hasJoined\": false});\n                }, \n                onMemberAddedToGroup: (message, userAdded, userAddedBy, userAddedIn) => {\n                    callback(enums.GROUP_MEMBER_ADDED, message, userAddedIn, {\"user\": userAdded, \"hasJoined\": true});\n                }, \n                onGroupMemberLeft: (message, leavingUser, group) => {\n                    callback(enums.GROUP_MEMBER_LEFT, message, group, {\"user\": leavingUser});\n                }, \n                onGroupMemberJoined: (message, joinedUser, joinedGroup) => {\n                    callback(enums.GROUP_MEMBER_JOINED, message, joinedGroup, {\"user\": joinedUser});\n                }\n            })\n        );\n    }\n\n    removeListeners() {\n        CometChat.removeGroupListener(this.groupListenerId);\n    }\n}","export const groupWrapperStyle = (props, theme) => {\n    \n    const borderStyle = (props._parent === \"\") ? {\n        border: `1px solid ${theme.borderColor.primary}`\n    } : {};\n\n    return {\n        display: \"flex\",\n        flexDirection: \"column\",\n        height: \"100%\",\n        boxSizing: \"border-box\",\n        ...borderStyle,\n        \"*\": {\n            boxSizing: \"border-box\",\n            \"::-webkit-scrollbar\": {\n                width: \"8px\",\n                height: \"4px\",\n            },\n            \"::-webkit-scrollbar-track\": {\n                background: \"#ffffff00\"\n            },\n            \"::-webkit-scrollbar-thumb\": {\n                background: \"#ccc\",\n                \"&:hover\": {\n                    background: \"#aaa\"\n                }\n            }\n        }\n    }\n}\n\nexport const groupHeaderStyle = theme => {\n\n\treturn {\n\t\tpadding: \"16px\",\n\t\tposition: \"relative\",\n\t\tdisplay: \"flex\",\n\t\tjustifyContent: \"space-between\",\n\t\talignItems: \"center\",\n\t\tborderBottom: `1px solid ${theme.borderColor.primary}`,\n\t\theight: \"70px\",\n\t};\n};\n\nexport const groupHeaderCloseStyle = (img, theme) => {\n\n\tconst mq = [...theme.breakPoints];\n\n\treturn {\n\t\tcursor: \"pointer\",\n\t\tdisplay: \"none\",\n\t\tmask: `url(${img}) left center no-repeat`,\n\t\tbackgroundColor: `${theme.primaryColor}`,\n\t\theight: \"24px\",\n\t\twidth: \"33%\",\n\t\t[`@media ${mq[0]}`]: {\n\t\t\tdisplay: \"block!important\",\n\t\t},\n\t};\n};\n\nexport const groupHeaderTitleStyle = (props) => {\n\n    const alignment = (props.hasOwnProperty(\"enableCloseMenu\") && props.enableCloseMenu.length > 0) ? {\n        width: \"33%\",\n        textAlign: \"center\"\n    } : {};\n\n    return {\n        margin: \"0\",\n        display: \"inline-block\",\n        width: \"100%\",\n        textAlign: \"left\",\n        fontSize: \"22px\",\n        fontWeight: \"700\",\n        lineHeight: \"26px\",\n        ...alignment,\n        \"&[dir=rtl]\": {\n            textAlign: \"right\",\n        }\n    }\n}\n\nexport const groupAddStyle = (img, theme) => {\n\n\treturn {\n\t\theight: \"24px\",\n\t\tcursor: \"pointer\",\n\t\ti: {\n\t\t\tdisplay: \"inline-block\",\n\t\t\twidth: \"24px\",\n\t\t\theight: \"24px\",\n\t\t\tmask: `url(${img}) center center no-repeat`,\n\t\t\tbackgroundColor: `${theme.primaryColor}`,\n\t\t},\n\t};\n};\n\nexport const groupSearchStyle = () => {\n    \n    return {\n        margin: \"16px\",\n        position: \"relative\",\n        borderRadius: \"8px\",\n\t\tboxShadow: \"rgba(20, 20, 20, 0.04) 0 0 0 1px inset\",\n        backgroundColor: \"rgba(20, 20, 20, 0.04)\",\n        height: \"35px\",\n        display: \"flex\",\n        justifyContent: \"center\",\n        alignItems: \"center\"\n    }\n}\n\nexport const groupSearchButtonStyle = (img, context) => {\n\n\treturn {\n\t\twidth: \"30px\",\n\t\theight: \"100%\",\n\t\tpadding: \"8px 0 8px 8px\",\n\t\tcursor: \"default\",\n\t\tmask: `url(${img}) 10px center no-repeat`,\n\t\tbackgroundColor: `${context.theme.secondaryTextColor}!important`,\n\t};\n};\n\nexport const groupSearchInputStyle = (props) => {\n\n    return {\n        width: \"calc(100% - 30px)\",\n        height: \"100%\",\n        padding: \"8px\",\n        fontSize: \"15px\",\n        fontWeight: \"400\",\n        lineHeight: \"20px\",\n        outline: \"none\",\n        border: \"none\",\n        color: props.theme.color.search,\n        backgroundColor: \"transparent\",\n    };\n}\n\nexport const groupMsgStyle = () => {\n    \n    return {\n        overflow: \"hidden\",\n        width: \"100%\",\n        display: \"flex\",\n        justifyContent: \"center\",\n        alignItems: \"center\",\n        position: \"absolute\",\n        top: \"50%\"\n    }\n}\n\nexport const groupMsgTxtStyle = theme => {\n\n\treturn {\n\t\tmargin: \"0\",\n\t\tminHeight: \"36px\",\n\t\tcolor: `${theme.color.secondary}`,\n\t\tfontSize: \"20px!important\",\n\t\tfontWeight: \"600\",\n\t\tlineHeight: \"30px\",\n\t\twordWrap: \"break-word\",\n\t\tpadding: \"0 16px\",\n\t};\n};\n\nexport const groupListStyle = () => {\n\n    return {\n        height: \"calc(100% - 125px)\",\n        overflowY: \"auto\",\n        margin: \"0\",\n        padding: \"0\"\n    }\n}\n","export default __webpack_public_path__ + \"static/media/search.61b1c747.svg\";","export default __webpack_public_path__ + \"static/media/back.e8e05e7c.svg\";","export default __webpack_public_path__ + \"static/media/create.65daf562.svg\";","import React from \"react\";\n/** @jsxRuntime classic */\n/** @jsx jsx */\nimport { jsx } from \"@emotion/core\";\nimport PropTypes from \"prop-types\";\nimport { CometChat } from \"@cometchat-pro/chat\";\n\nimport { GroupListManager } from \"./controller\";\n\nimport { CometChatCreateGroup, CometChatGroupListItem }  from \"../../Groups\";\nimport { CometChatToastNotification } from \"../../Shared\";\n\nimport { CometChatContextProvider, CometChatContext } from \"../../../util/CometChatContext\";\nimport * as enums from \"../../../util/enums.js\";\n\nimport { theme } from \"../../../resources/theme\";\nimport Translator from \"../../../resources/localization/translator\";\n\nimport {\n  groupWrapperStyle,\n  groupHeaderStyle,\n  groupHeaderCloseStyle,\n  groupHeaderTitleStyle,\n  groupAddStyle,\n  groupSearchStyle,\n  groupSearchButtonStyle,\n  groupSearchInputStyle,\n  groupMsgStyle,\n  groupMsgTxtStyle,\n  groupListStyle\n} from \"./style\";\n\nimport searchIcon from \"./resources/search.svg\";\nimport navigateIcon from \"./resources/back.svg\";\nimport addIcon from \"./resources/create.svg\";\n\nclass CometChatGroupList extends React.PureComponent {\n\titem;\n\ttimeout;\n\tloggedInUser = null;\n\n\tstatic contextType = CometChatContext;\n\n\tconstructor(props) {\n\t\tsuper(props);\n\n\t\tthis.state = {\n\t\t\tgrouplist: [],\n\t\t\tcreateGroup: false,\n\t\t\tenableSearchGroup: false,\n\t\t\tenableCreateGroup: false,\n\t\t\tenableJoinGroup: false,\n\t\t\tdecoratorMessage: Translator.translate(\"LOADING\", props.lang),\n\t\t};\n\n\t\tthis.contextProviderRef = React.createRef();\n\t\tthis.groupListRef = React.createRef();\n\t\tthis.toastRef = React.createRef();\n\n\t\tCometChat.getLoggedinUser()\n\t\t\t.then(user => (this.loggedInUser = user))\n\t\t\t.catch(error => this.setState({ decoratorMessage: Translator.translate(\"SOMETHING_WRONG\", props.lang) }));\n\t}\n\n\tcomponentDidMount() {\n\t\tthis.item = this.getContext().type === CometChat.ACTION_TYPE.TYPE_GROUP ? this.getContext().item : null;\n\t\tthis.enableSearchGroup();\n\t\tthis.enableCreateGroup();\n\t\tthis.enableJoinGroup();\n\n\t\tthis.GroupListManager = new GroupListManager();\n\t\tthis.getGroups();\n\t\tthis.GroupListManager.attachListeners(this.groupUpdated);\n\t}\n\n\tcomponentDidUpdate(prevProps) {\n\t\t//if group detail(membersCount) is updated, update grouplist\n\t\tif (this.item && Object.keys(this.item).length && this.getContext().type === CometChat.ACTION_TYPE.TYPE_GROUP && this.item.guid === this.getContext().item.guid && this.item.membersCount !== this.getContext().item.membersCount) {\n\t\t\tconst groups = [...this.state.grouplist];\n\n\t\t\tlet groupKey = groups.findIndex(group => group.guid === this.getContext().item.guid);\n\t\t\tif (groupKey > -1) {\n\t\t\t\tconst groupObj = groups[groupKey];\n\t\t\t\tlet newGroupObj = Object.assign({}, groupObj, {membersCount: this.getContext().item.membersCount});\n\n\t\t\t\tgroups.splice(groupKey, 1, newGroupObj);\n\t\t\t\tthis.setState({grouplist: groups});\n\t\t\t}\n\t\t}\n\n\t\t//upon user deleting a group, remove group from group list\n\t\tif (this.getContext().deletedGroupId.trim().length) {\n\t\t\tconst guid = this.getContext().deletedGroupId.trim();\n\n\t\t\tconst groups = [...this.state.grouplist];\n\t\t\tconst groupKey = groups.findIndex(group => group.guid === guid);\n\n\t\t\tif (groupKey > -1) {\n\t\t\t\tgroups.splice(groupKey, 1);\n\t\t\t\tthis.setState({grouplist: groups});\n\t\t\t}\n\t\t}\n\n\t\tthis.item = this.getContext().type === CometChat.ACTION_TYPE.TYPE_GROUP ? this.getContext().item : null;\n\t\tthis.enableSearchGroup();\n\t\tthis.enableCreateGroup();\n\t\tthis.enableJoinGroup();\n\t}\n\n\tcomponentWillUnmount() {\n\t\tthis.GroupListManager = null;\n\t}\n\n\t/**\n\t * if search group feature is disabled\n\t */\n\tenableSearchGroup = () => {\n\t\tthis.getContext()\n\t\t\t.FeatureRestriction.isGroupSearchEnabled()\n\t\t\t.then(response => {\n\t\t\t\t/**\n\t\t\t\t * Don't update state if the response has the same value\n\t\t\t\t */\n\t\t\t\tif (response !== this.state.enableSearchGroup) {\n\t\t\t\t\tthis.setState({enableSearchGroup: response});\n\t\t\t\t}\n\t\t\t})\n\t\t\t.catch(error => {\n\t\t\t\tif (this.state.enableSearchGroup !== false) {\n\t\t\t\t\tthis.setState({enableSearchGroup: false});\n\t\t\t\t}\n\t\t\t});\n\t};\n\n\t/**\n\t * if create group feature is disabled\n\t */\n\tenableCreateGroup = () => {\n\t\tthis.getContext()\n\t\t\t.FeatureRestriction.isGroupCreationEnabled()\n\t\t\t.then(response => {\n\t\t\t\t/**\n\t\t\t\t * Don't update state if the response has the same value\n\t\t\t\t */\n\t\t\t\tif (response !== this.state.enableCreateGroup) {\n\t\t\t\t\tthis.setState({enableCreateGroup: response});\n\t\t\t\t}\n\t\t\t})\n\t\t\t.catch(error => {\n\t\t\t\tif (this.state.enableCreateGroup !== false) {\n\t\t\t\t\tthis.setState({enableCreateGroup: false});\n\t\t\t\t}\n\t\t\t});\n\t};\n\n\t/**\n\t * if join group feature is disabled\n\t */\n\tenableJoinGroup = () => {\n\t\tthis.getContext()\n\t\t\t.FeatureRestriction.isJoinLeaveGroupsEnabled()\n\t\t\t.then(response => {\n\t\t\t\t/**\n\t\t\t\t * Don't update state if the response has the same value\n\t\t\t\t */\n\t\t\t\tif (response !== this.state.enableJoinGroup) {\n\t\t\t\t\tthis.setState({enableJoinGroup: response});\n\t\t\t\t}\n\t\t\t})\n\t\t\t.catch(error => {\n\t\t\t\tif (this.state.enableJoinGroup !== false) {\n\t\t\t\t\tthis.setState({enableJoinGroup: false});\n\t\t\t\t}\n\t\t\t});\n\t};\n\n\tgroupUpdated = (key, message, group, options) => {\n\t\tswitch (key) {\n\t\t\tcase enums.GROUP_MEMBER_SCOPE_CHANGED:\n\t\t\t\tthis.updateMemberChanged(group, options);\n\t\t\t\tbreak;\n\t\t\tcase enums.GROUP_MEMBER_KICKED:\n\t\t\tcase enums.GROUP_MEMBER_BANNED:\n\t\t\tcase enums.GROUP_MEMBER_LEFT:\n\t\t\t\tthis.updateMemberRemoved(group, options);\n\t\t\t\tbreak;\n\t\t\tcase enums.GROUP_MEMBER_ADDED:\n\t\t\t\tthis.updateMemberAdded(group, options);\n\t\t\t\tbreak;\n\t\t\tcase enums.GROUP_MEMBER_JOINED:\n\t\t\t\tthis.updateMemberJoined(group, options);\n\t\t\t\tbreak;\n\t\t\tdefault:\n\t\t\t\tbreak;\n\t\t}\n\t};\n\n\tupdateMemberRemoved = (group, options) => {\n\t\tlet grouplist = [...this.state.grouplist];\n\n\t\t//search for group\n\t\tlet groupKey = grouplist.findIndex(g => g.guid === group.guid);\n\n\t\tif (groupKey > -1) {\n\t\t\tif (options && this.loggedInUser.uid === options.user.uid) {\n\t\t\t\tlet groupObj = {...grouplist[groupKey]};\n\t\t\t\tlet membersCount = parseInt(group.membersCount);\n\t\t\t\tlet hasJoined = group.hasJoined;\n\n\t\t\t\tlet newgroupObj = Object.assign({}, groupObj, {membersCount: membersCount, hasJoined: hasJoined});\n\n\t\t\t\tgrouplist.splice(groupKey, 1, newgroupObj);\n\t\t\t\tthis.setState({grouplist: grouplist});\n\t\t\t} else {\n\t\t\t\tlet groupObj = {...grouplist[groupKey]};\n\t\t\t\tlet membersCount = parseInt(group.membersCount);\n\n\t\t\t\tlet newgroupObj = Object.assign({}, groupObj, {membersCount: membersCount});\n\n\t\t\t\tgrouplist.splice(groupKey, 1, newgroupObj);\n\t\t\t\tthis.setState({grouplist: grouplist});\n\t\t\t}\n\t\t}\n\t};\n\n\tupdateMemberAdded = (group, options) => {\n\t\tlet grouplist = [...this.state.grouplist];\n\n\t\t//search for group\n\t\tlet groupKey = grouplist.findIndex(g => g.guid === group.guid);\n\n\t\tif (groupKey > -1) {\n\t\t\tlet groupObj = {...grouplist[groupKey]};\n\n\t\t\tlet membersCount = parseInt(group.membersCount);\n\n\t\t\tlet scope = group.hasOwnProperty(\"scope\") ? group.scope : \"\";\n\t\t\tlet hasJoined = group.hasOwnProperty(\"hasJoined\") ? group.hasJoined : false;\n\n\t\t\tif (options && this.loggedInUser.uid === options.user.uid) {\n\t\t\t\tscope = CometChat.GROUP_MEMBER_SCOPE.PARTICIPANT;\n\t\t\t\thasJoined = true;\n\t\t\t}\n\n\t\t\tlet newgroupObj = Object.assign({}, groupObj, {membersCount: membersCount, scope: scope, hasJoined: hasJoined});\n\n\t\t\tgrouplist.splice(groupKey, 1, newgroupObj);\n\t\t\tthis.setState({grouplist: grouplist});\n\t\t} else {\n\t\t\tlet groupObj = {...group};\n\n\t\t\tlet scope = groupObj.hasOwnProperty(\"scope\") ? groupObj.scope : \"\";\n\t\t\tlet hasJoined = groupObj.hasOwnProperty(\"hasJoined\") ? groupObj.hasJoined : false;\n\t\t\tlet membersCount = parseInt(groupObj.membersCount);\n\n\t\t\tif (options && this.loggedInUser.uid === options.user.uid) {\n\t\t\t\tscope = CometChat.GROUP_MEMBER_SCOPE.PARTICIPANT;\n\t\t\t\thasJoined = true;\n\t\t\t}\n\n\t\t\tlet newgroupObj = Object.assign({}, groupObj, {membersCount: membersCount, scope: scope, hasJoined: hasJoined});\n\n\t\t\tgrouplist.unshift(newgroupObj);\n\t\t\tthis.setState({grouplist: grouplist});\n\t\t}\n\t};\n\n\tupdateMemberJoined = (group, options) => {\n\t\tlet grouplist = [...this.state.grouplist];\n\n\t\t//search for group\n\t\tlet groupKey = grouplist.findIndex(g => g.guid === group.guid);\n\n\t\tif (groupKey > -1) {\n\t\t\tlet groupObj = {...grouplist[groupKey]};\n\n\t\t\tlet scope = groupObj.scope;\n\t\t\tlet membersCount = parseInt(group.membersCount);\n\n\t\t\tif (options && this.loggedInUser.uid === options.user.uid) {\n\t\t\t\tscope = CometChat.GROUP_MEMBER_SCOPE.PARTICIPANT;\n\t\t\t}\n\n\t\t\tlet newgroupObj = Object.assign({}, groupObj, {membersCount: membersCount, scope: scope});\n\n\t\t\tgrouplist.splice(groupKey, 1, newgroupObj);\n\t\t\tthis.setState({grouplist: grouplist});\n\t\t}\n\t};\n\n\tupdateMemberChanged = (group, options) => {\n\t\tlet grouplist = [...this.state.grouplist];\n\n\t\t//search for group\n\t\tlet groupKey = grouplist.findIndex(g => g.guid === group.guid);\n\n\t\tif (groupKey > -1) {\n\t\t\tlet groupObj = {...grouplist[groupKey]};\n\t\t\tif (options && this.loggedInUser.uid === options.user.uid) {\n\t\t\t\tlet newgroupObj = Object.assign({}, groupObj, {scope: options.scope});\n\n\t\t\t\tgrouplist.splice(groupKey, 1, newgroupObj);\n\t\t\t\tthis.setState({grouplist: grouplist});\n\t\t\t}\n\t\t}\n\t};\n\n\thandleScroll = e => {\n\t\tconst bottom = Math.round(e.currentTarget.scrollHeight - e.currentTarget.scrollTop) === Math.round(e.currentTarget.clientHeight);\n\t\tif (bottom) this.getGroups();\n\t};\n\n\thandleClick = group => {\n\n\t\tif (!this.props.onItemClick) return;\n\n\t\tif (group.hasJoined === false) {\n\n\t\t\t//if join group feature is disabled\n\t\t\tif (this.state.enableJoinGroup === false) {\n\t\t\t\treturn false;\n\t\t\t}\n\n\t\t\tlet password = \"\";\n\t\t\tif (group.type === CometChat.GROUP_TYPE.PASSWORD) {\n\t\t\t\tpassword = prompt(Translator.translate(\"ENTER_YOUR_PASSWORD\", this.props.lang));\n\t\t\t}\n\n\t\t\tconst guid = group.guid;\n\t\t\tconst groupType = group.type;\n\n\t\t\tCometChat.joinGroup(guid, groupType, password)\n\t\t\t\t.then(response => {\n\t\t\t\t\tif (typeof response === \"object\" && Object.keys(response).length) {\n\t\t\t\t\t\tconst groups = [...this.state.grouplist];\n\n\t\t\t\t\t\tlet groupKey = groups.findIndex((g, k) => g.guid === guid);\n\t\t\t\t\t\tif (groupKey > -1) {\n\t\t\t\t\t\t\tconst groupObj = groups[groupKey];\n\t\t\t\t\t\t\tconst newGroupObj = Object.assign({}, groupObj, response, { scope: CometChat.GROUP_MEMBER_SCOPE.PARTICIPANT });\n\n\t\t\t\t\t\t\tgroups.splice(groupKey, 1, newGroupObj);\n\t\t\t\t\t\t\tthis.setState({ grouplist: groups });\n\n\t\t\t\t\t\t\tthis.props.onItemClick(newGroupObj, CometChat.ACTION_TYPE.TYPE_GROUP);\n\t\t\t\t\t\t}\n\t\t\t\t\t} else {\n\t\t\t\t\t\tthis.toastRef.setError(\"SOMETHING_WRONG\");\n\t\t\t\t\t}\n\t\t\t\t})\n\t\t\t\t.catch(error => {\n\t\t\t\t\n\t\t\t\t\tif (error.hasOwnProperty(\"code\") && error.code && error.code === \"ERR_WRONG_GROUP_PASS\") {\n\t\t\t\t\t\tthis.toastRef.setError(\"WRONG_PASSWORD\");\n\t\t\t\t\t} else {\n\t\t\t\t\t\tthis.toastRef.setError(\"SOMETHING_WRONG\");\n\t\t\t\t\t}\n\t\t\t\t\n\t\t\t\t});\n\n\t\t} else {\n\t\t\tthis.props.onItemClick(group, CometChat.ACTION_TYPE.TYPE_GROUP);\n\t\t}\n\t};\n\n\thandleMenuClose = () => {\n\t\tif (!this.props.actionGenerated) {\n\t\t\treturn false;\n\t\t}\n\n\t\tthis.props.actionGenerated(enums.ACTIONS[\"TOGGLE_SIDEBAR\"]);\n\t};\n\n\tsearchGroup = e => {\n\t\tif (this.timeout) {\n\t\t\tclearTimeout(this.timeout);\n\t\t}\n\n\t\tlet val = e.target.value;\n\t\tthis.timeout = setTimeout(() => {\n\t\t\t\n\t\t\tthis.setState({ grouplist: [], decoratorMessage: Translator.translate(\"LOADING\", this.props.lang) });\n\n\t\t\tthis.GroupListManager = new GroupListManager(val);\n\t\t\tthis.getGroups();\n\t\t}, 500);\n\t};\n\n\tgetGroups = () => {\n\t\tthis.GroupListManager.fetchNextGroups()\n\t\t\t.then(groupList => {\n\n\t\t\t\tif (groupList.length === 0) {\n\n\t\t\t\t\tif (this.state.grouplist.length === 0) {\n\t\t\t\t\t\tthis.setState({ decoratorMessage: Translator.translate(\"NO_GROUPS_FOUND\", this.props.lang) });\n\t\t\t\t\t}\n\t\t\t\t} else {\n\t\t\t\t\tthis.setState({ grouplist: [...this.state.grouplist, ...groupList], decoratorMessage: \"\" });\n\t\t\t\t}\n\n\t\t\t})\n\t\t\t.catch(error => this.setState({ decoratorMessage: Translator.translate(\"SOMETHING_WRONG\", this.props.lang) }));\n\t};\n\n\tcreateGroupHandler = flag => {\n\t\tthis.setState({createGroup: flag});\n\t};\n\n\tcreateGroupActionHandler = (action, group) => {\n\t\tif (action === enums.ACTIONS[\"GROUP_CREATED\"]) {\n\t\t\tthis.handleClick(group);\n\n\t\t\tconst groupList = [...this.state.grouplist];\n\t\t\tgroupList.unshift(group);\n\n\t\t\tthis.setState({grouplist: groupList, createGroup: false});\n\t\t}\n\t};\n\n\tgetContext = () => {\n\t\tif (this.props._parent.length) {\n\t\t\treturn this.context;\n\t\t} else {\n\t\t\treturn this.contextProviderRef.state;\n\t\t}\n\t};\n\n\trender() {\n\t\tlet messageContainer = null;\n\n\t\tif (this.state.decoratorMessage.length !== 0) {\n\t\t\tmessageContainer = (\n\t\t\t\t<div css={groupMsgStyle()} className=\"groups__decorator-message\">\n\t\t\t\t\t<p css={groupMsgTxtStyle(theme)} className=\"decorator-message\">\n\t\t\t\t\t\t{this.state.decoratorMessage}\n\t\t\t\t\t</p>\n\t\t\t\t</div>\n\t\t\t);\n\t\t}\n\n\t\tconst groups = this.state.grouplist.map(group => {\n\t\t\tlet selectedGroup = this.getContext().type === CometChat.ACTION_TYPE.TYPE_GROUP && this.getContext().item.guid === group.guid ? group : null;\n\n\t\t\treturn <CometChatGroupListItem key={group.guid} group={group} selectedGroup={selectedGroup} clickHandler={this.handleClick} />;\n\t\t});\n\n\t\tlet createGroupBtn = (\n\t\t\t<div css={groupAddStyle(addIcon, theme)} title={Translator.translate(\"CREATE_GROUP\", this.props.lang)} onClick={() => this.createGroupHandler(true)}>\n\t\t\t\t<i></i>\n\t\t\t</div>\n\t\t);\n\n\t\t//if create group feature is disabled\n\t\tif (this.state.enableCreateGroup === false) {\n\t\t\tcreateGroupBtn = null;\n\t\t}\n\n\t\tlet closeBtn = <div css={groupHeaderCloseStyle(navigateIcon, theme)} className=\"header__close\" onClick={this.handleMenuClose}></div>;\n\t\tif (this.getContext() && Object.keys(this.getContext().item).length === 0) {\n\t\t\tcloseBtn = null;\n\t\t}\n\n\t\tlet searchGroup = null;\n\t\tif (this.state.enableSearchGroup) {\n\t\t\tsearchGroup = (\n\t\t\t\t<div css={groupSearchStyle()} className=\"groups__search\">\n\t\t\t\t\t<button type=\"button\" className=\"search__button\" css={groupSearchButtonStyle(searchIcon, this.getContext())} />\n\t\t\t\t\t<input type=\"text\" autoComplete=\"off\" css={groupSearchInputStyle(this.props)} className=\"search__input\" placeholder={Translator.translate(\"SEARCH\", this.props.lang)} onChange={this.searchGroup} />\n\t\t\t\t</div>\n\t\t\t);\n\t\t}\n\n\t\tlet createGroup = null;\n\t\tif(this.state.createGroup) {\n\t\t\tcreateGroup = <CometChatCreateGroup theme={this.props.theme} close={() => this.createGroupHandler(false)} actionGenerated={this.createGroupActionHandler} />;\t\n\t\t}\n\n\t\tconst groupListTemplate = (\n\t\t\t<React.Fragment>\n\t\t\t\t<div css={groupWrapperStyle(this.props, theme)} className=\"groups\">\n\t\t\t\t\t<div css={groupHeaderStyle(theme)} className=\"groups__header\">\n\t\t\t\t\t\t{closeBtn}\n\t\t\t\t\t\t<h4 css={groupHeaderTitleStyle(this.props)} className=\"header__title\" dir={Translator.getDirection(this.props.lang)}>\n\t\t\t\t\t\t\t{Translator.translate(\"GROUPS\", this.props.lang)}\n\t\t\t\t\t\t</h4>\n\t\t\t\t\t\t{createGroupBtn}\n\t\t\t\t\t</div>\n\t\t\t\t\t{searchGroup}\n\t\t\t\t\t{messageContainer}\n\t\t\t\t\t<div css={groupListStyle()} className=\"groups__list\" onScroll={this.handleScroll} ref={el => (this.groupListRef = el)}>\n\t\t\t\t\t\t{groups}\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t\t{createGroup}\n\t\t\t\t<CometChatToastNotification ref={el => (this.toastRef = el)} lang={this.props.lang} />\n\t\t\t</React.Fragment>\n\t\t);\n\n\t\tlet groupListWrapper = groupListTemplate;\n\t\t//if used as a standalone component, add errorboundary and context provider\n\t\tif (this.props._parent === \"\") {\n\t\t\tgroupListWrapper = <CometChatContextProvider ref={el => (this.contextProviderRef = el)}>{groupListTemplate}</CometChatContextProvider>;\n\t\t}\n\n\t\treturn groupListWrapper;\n\t}\n}\n\n// Specifies the default values for props:\nCometChatGroupList.defaultProps = {\n\tlang: Translator.getDefaultLanguage(),\n\ttheme: theme,\n\tonItemClick: () => {},\n\t_parent: \"\"\n};\n\nCometChatGroupList.propTypes = {\n\tlang: PropTypes.string,\n\ttheme: PropTypes.object,\n\tonItemClick: PropTypes.func,\n\t_parent: PropTypes.string\n}\n\nexport { CometChatGroupList };\n","export const listItem = (props, context) => {\n\n    const selectedState = (props.selectedGroup && props.selectedGroup.guid === props.group.guid) ? {\n        backgroundColor: `${context.theme.backgroundColor.primary}`\n    } : {};\n\n    return {\n        display: \"flex\",\n        flexDirection: \"row\",\n        justifyContent: \"left\",\n        alignItems: \"center\",\n        cursor: \"pointer\",\n        width: \"100%\",\n        padding: \"8px 16px\",\n        ...selectedState,\n        '&:hover': {\n            backgroundColor: `${context.theme.backgroundColor.primary}`\n        }\n    }\n}\n\nexport const listItemName = context => {\n\treturn {\n\t\tfontSize: \"15px\",\n\t\tfontWeight: \"600\",\n\t\tmaxWidth: \"calc(100% - 30px)\",\n\t\toverflow: \"hidden\",\n\t\ttextOverflow: \"ellipsis\",\n\t\twhiteSpace: \"nowrap\",\n\t\tmargin: \"0\",\n\t\tlineHeight: \"22px\",\n\t\tcolor: `${context.theme.color.primary}`,\n\t};\n};\n\nexport const listItemIcon = () => {\n\n    return {\n        width: \"24px\",\n        height: \"auto\",\n        margin: \"0 8px\",\n    }\n}\n\nexport const itemIconStyle = (img, context) => {\n\n    return {\n        display: \"inline-block\",\n        width: \"24px\",\n        height: \"24px\",\n        mask: `url(${img}) center center no-repeat`,\n        backgroundColor: `${context.theme.secondaryTextColor}`,\n    };\n}\n\nexport const itemThumbnailStyle = () => {\n\n    return {\n        display: \"inline-block\",\n        width: \"36px\",\n        height: \"36px\",\n        flexShrink: \"0\",\n    }\n}\n\nexport const itemDetailStyle = () => {\n\n    return {\n        width: \"calc(100% - 70px)\",\n        flexGrow: \"1\",\n        paddingLeft: \"16px\",\n        \"&[dir=rtl]\": {\n            paddingRight: \"16px\",\n            paddingLeft: \"0\",\n        }\n    }\n}\n\nexport const itemNameWrapperStyle = () => { \n\n    return {\n        display: \"flex\",\n        alignItems: \"center\",\n        width: \"100%\",\n        margin: \"0\",\n    }\n}\n\nexport const itemDescStyle = (context) => { \n\n    return {\n        borderBottom: `1px solid ${context.theme.borderColor.primary}`,\n        padding: \"0 0 5px 0\",\n        fontSize: \"13px\",\n        fontWeight: \"400\",\n        lineHeight: \"20px\",\n        color: `${context.theme.color.helpText}`,\n        \"&:hover\": {\n            borderBottom: `1px solid ${context.theme.borderColor.primary}`,\n        }\n    }\n}\n","export default __webpack_public_path__ + \"static/media/password-protected-group.d47aaeec.svg\";","export default __webpack_public_path__ + \"static/media/private-group.bc4d777a.svg\";","import React from \"react\";\n/** @jsxRuntime classic */\n/** @jsx jsx */\nimport { jsx } from \"@emotion/core\";\nimport PropTypes from \"prop-types\";\nimport { CometChat } from \"@cometchat-pro/chat\";\n\nimport { CometChatAvatar } from \"../../Shared\";\nimport { CometChatContext } from \"../../../util/CometChatContext\";\n\nimport { theme } from \"../../../resources/theme\";\nimport Translator from \"../../../resources/localization/translator\";\n\nimport {\n\tlistItem,\n\tlistItemIcon,\n\titemIconStyle,\n\titemThumbnailStyle,\n\titemDetailStyle,\n\titemNameWrapperStyle,\n\titemDescStyle,\n\tlistItemName  \n} from \"./style\";\n\nimport shieldIcon from \"./resources/password-protected-group.svg\";\nimport lockIcon from \"./resources/private-group.svg\";\n\nclass CometChatGroupListItem extends React.PureComponent {\n\n\tstatic contextType = CometChatContext;\n\t\n\ttoggleTooltip = (event, flag) => {\n\n\t\tconst elem = event.target;\n\n\t\tconst scrollWidth = elem.scrollWidth;\n\t\tconst clientWidth = elem.clientWidth;\n\n\t\tif (scrollWidth <= clientWidth) {\n\t\t\treturn false;\n\t\t}\n\n\t\tif (flag) {\n\t\t\telem.setAttribute(\"title\", elem.textContent);\n\t\t} else {\n\t\t\telem.removeAttribute(\"title\");\n\t\t}\n\t}\n\n\tclickHandler = () => {\n\t\tthis.props.clickHandler(this.props.group);\n\t}\n\n\trender() {\n\n\t\tlet groupTypeIcon = null;\n\t\tif (this.props.group.type === CometChat.GROUP_TYPE.PRIVATE) {\n\n\t\t\tgroupTypeIcon = (<i css={itemIconStyle(shieldIcon, this.context)} title={Translator.translate(\"PRIVATE_GROUP\", this.context.language)}></i>);\n\n\t\t} else if (this.props.group.type === CometChat.GROUP_TYPE.PASSWORD) {\n\n\t\t\tgroupTypeIcon = (<i css={itemIconStyle(lockIcon, this.context)} title={Translator.translate(\"PROTECTED_GROUP\", this.context.language)}></i>);\n\t\t}\n\n\t\treturn (\n\t\t\t<div css={listItem(this.props, this.context)} className=\"list__item\" onClick={this.clickHandler}>\n\t\t\t\t<div css={itemThumbnailStyle()} className=\"list__item__thumbnail\">\n\t\t\t\t\t<CometChatAvatar group={this.props.group} />\n\t\t\t\t</div>\n\t\t\t\t<div css={itemDetailStyle()} className=\"list__item__details\" dir={Translator.getDirection(this.context.language)}>\n\t\t\t\t\t<div css={itemNameWrapperStyle()} className=\"item__details__name\" onMouseEnter={event => this.toggleTooltip(event, true)} onMouseLeave={event => this.toggleTooltip(event, false)}>\n\t\t\t\t\t\t<p css={listItemName(this.context)}>{this.props.group.name}</p>\n\t\t\t\t\t\t<div css={listItemIcon()}>{groupTypeIcon}</div>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div css={itemDescStyle(this.context)} className=\"item__details__desc\">{`${this.props.group.membersCount} ${Translator.translate(\"MEMBERS\", this.context.language)}`}</div>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t);\n\t}\n}\n\n// Specifies the default values for props:\nCometChatGroupListItem.defaultProps = {\n\ttheme: theme,\n\tgroup: {},\n\tselectedGroup: {},\n\tclickHandler: () => { }\n};\n\nCometChatGroupListItem.propTypes = {\n\ttheme: PropTypes.object,\n\tselectedGroup: PropTypes.oneOfType([PropTypes.object, PropTypes.shape(CometChat.Group)]),\n\tgroup: PropTypes.oneOfType([PropTypes.object, PropTypes.shape(CometChat.Group)]),\n\tclickHandler: PropTypes.func\n}\n\nexport { CometChatGroupListItem };\n","export const modalWrapperStyle = (context) => {\n\n    const mq = context.theme.breakPoints.map(x => `@media ${x}`);\n\n    return {\n        minWidth: \"350px\",\n        minHeight: \"450px\",\n        width: \"50%\",\n        height: \"40%\",\n        overflow: \"hidden\",\n        backgroundColor: `${context.theme.backgroundColor.white}`,\n        position: \"fixed\",\n        left: \"50%\",\n        top: \"50%\",\n        transform: \"translate(-50%, -50%)\",\n        zIndex: \"1002\",\n        margin: \"0 auto\",\n        boxShadow: \"rgba(20, 20, 20, 0.2) 0 16px 32px, rgba(20, 20, 20, 0.04) 0 0 0 1px\",\n        borderRadius: \"12px\",\n        display: \"block\",\n        [mq[1]]: {\n            width: \"100%\",\n            height: \"100%\"\n        },\n        [mq[2]]: {\n            width: \"100%\",\n            height: \"100%\"\n        },\n        [mq[3]]: {\n            width: \"100%\",\n            height: \"100%\"\n        }\n    }\n}\n\nexport const modalCloseStyle = (img, context) => {\n\n    return {\n        position: \"absolute\",\n        width: \"32px\",\n        height: \"32px\",\n        borderRadius: \"50%\",\n        top: \"16px\",\n        right: \"16px\",\n        mask: `url(${img}) center center no-repeat`,\n        backgroundColor: `${context.theme.primaryColor}`,\n        cursor: \"pointer\",\n    }\n}\n\nexport const modalBodyStyle = () => {\n\n    return {\n        padding: \"24px\",\n        height: \"100%\",\n        width: \"100%\"\n    }\n}\n\nexport const modalCaptionStyle = (dir) => {\n\n    const textAlignStyle = (dir === \"rtl\") ? {\n        textAlign: \"right\",\n        paddingRight: \"32px\",\n    } : {\n        textAlign: \"left\",\n    };\n\n    return {\n        fontSize: \"20px\",\n        marginBottom: \"16px\",\n        fontWeight: \"bold\",\n        ...textAlignStyle,\n        width: \"100%\",\n    }\n}\n\nexport const modalErrorStyle = context => {\n\treturn {\n\t\tfontSize: \"12px\",\n\t\tcolor: `${context.theme.color.red}`,\n\t\ttextAlign: \"center\",\n\t\tpadding: \"8px 0\",\n\t\twidth: \"100%\",\n        height: \"31px\"\n\t};\n};\n\nexport const modalListStyle = () => {\n\n    return {\n        width: \"100%\",\n        height: \"calc(100% - 70px)\",\n        display: \"flex\",\n        flexDirection: \"column\",\n        justifyContent: \"flex-start\",\n        alignItems: \"flex-start\",\n    }\n}\n\nexport const listHeaderStyle = (context) => {\n\n    return {\n        display: \"flex\",\n        flexDirection: \"row\",\n        justifyContent: \"flex-start\",\n        alignItems: \"center\",\n        fontWeight: \"bold\",\n        padding: \"8px\",\n        width: \"100%\",\n        border: `1px solid ${context.theme.borderColor.primary}`,\n    }\n}\n\nexport const listStyle = () => {\n\n    return {\n        display: \"flex\",\n        flexDirection: \"column\",\n        justifyContent: \"flex-start\",\n        alignItems: \"flex-start\",\n        width: \"100%\",\n        height: \"calc(100% - 33px)\",\n        overflowY: \"auto\",\n    }\n}\n\nexport const nameColumnStyle = (context, editAccess) => {\n\n    const mq = context.theme.breakPoints.map(x => `@media ${x}`);\n\n    const widthProp = (editAccess === null) ? {\n\n        width: \"calc(100% - 180px)\",\n        [mq[1]]: {\n            width: \"calc(100% - 140px)\",\n        },\n        [mq[2]]: {\n            width: \"calc(100% - 180px)\",\n        }\n\n    } : {\n        width: \"calc(100% - 260px)\",\n        [mq[1]]: {\n            width: \"calc(100% - 220px)\",\n        },\n        [mq[2]]: {\n            width: \"calc(100% - 260px)\",\n        },\n        [mq[3]]: {\n            width: \"calc(100% - 240px)\",\n        }\n    };\n\n    return {\n        ...widthProp\n    }\n}\n\nexport const scopeColumnStyle = (context) => {\n\n    const mq = context.theme.breakPoints.map(x => `@media ${x}`);\n\n    return {\n        width: \"180px\",\n        marginRight: \"8px\",\n        [mq[1]]: {\n            width: \"140px\"\n        },\n        [mq[2]]: {\n            width: \"180px\",\n        },\n        [mq[3]]: {\n            width: \"120px\",\n        }\n    }\n}\n\nexport const actionColumnStyle = (context) => {\n\n    const mq = context.theme.breakPoints.map(x => `@media ${x}`);\n\n    return {\n        width: \"70px\",\n        [mq[1]]: {\n            width: \"40px\"\n        },\n        [mq[2]]: {\n            width: \"40px\"\n        }\n    }\n}","export default __webpack_public_path__ + \"static/media/close.0b0b6f95.svg\";","import React from \"react\";\n/** @jsxRuntime classic */\n/** @jsx jsx */\nimport { jsx } from \"@emotion/core\";\nimport PropTypes from \"prop-types\";\nimport { CometChat } from \"@cometchat-pro/chat\";\n\nimport { CometChatViewGroupMemberListItem } from \"../../Groups\";\nimport { CometChatBackdrop } from \"../../Shared\";\n\nimport * as enums from \"../../../util/enums.js\";\nimport { CometChatContext } from \"../../../util/CometChatContext\";\n\nimport { theme } from \"../../../resources/theme\";\nimport Translator from \"../../../resources/localization/translator\";\n\nimport {\n    modalWrapperStyle,\n    modalCloseStyle,\n    modalBodyStyle,\n    modalCaptionStyle,\n    modalListStyle,\n    listHeaderStyle,\n    listStyle,\n    nameColumnStyle,\n    scopeColumnStyle,\n    actionColumnStyle,\n    modalErrorStyle\n} from \"./style\";\n\nimport clearIcon from \"./resources/close.svg\";\n\nclass CometChatViewGroupMemberList extends React.Component {\n\tstatic contextType = CometChatContext;\n\n\tconstructor(props, context) {\n\t\tsuper(props, context);\n\t\tthis._isMounted = false;\n\t\tconst chatWindow = context.UIKitSettings.chatWindow;\n\t\tthis.mq = chatWindow.matchMedia(this.context.theme.breakPoints[1]);\n\n\t\tthis.state = {\n\t\t\tuserColumnTitle: \"\",\n\t\t\terrorMessage: \"\",\n\t\t};\n\t}\n\n\tcomponentDidMount() {\n\t\tthis.updateUserColumnTitle();\n\t}\n    \n\tcomponentDidUpdate(prevProps) {\n\t\tif (prevProps.lang !== this.props.lang) {\n\t\t\tthis.updateUserColumnTitle();\n\t\t}\n\t}\n\n\tupdateUserColumnTitle = () => {\n\t\tlet userColumnTitle = Translator.translate(\"NAME\", this.props.lang);\n\t\tif (this.mq.matches) {\n\t\t\tuserColumnTitle = Translator.translate(\"AVATAR\", this.props.lang);\n\t\t}\n\n\t\tthis.setState({ userColumnTitle });\n\t};\n\n\tcomponentWillUnmount() {\n\t\tthis._isMounted = false;\n\t}\n\n\thandleScroll = e => {\n\t\tconst bottom = Math.round(e.currentTarget.scrollHeight - e.currentTarget.scrollTop) === Math.round(e.currentTarget.clientHeight);\n\t\tif (bottom) {\n\t\t\tthis.props.actionGenerated(enums.ACTIONS[\"FETCH_GROUP_MEMBERS\"]);\n\t\t}\n\t};\n\n\tupdateMembers = (action, member, scope) => {\n\t\tswitch (action) {\n\t\t\tcase enums.ACTIONS[\"BAN_GROUP_MEMBER\"]:\n\t\t\t\tthis.banMember(member);\n\t\t\t\tbreak;\n\t\t\tcase enums.ACTIONS[\"KICK_GROUP_MEMBER\"]:\n\t\t\t\tthis.kickMember(member);\n\t\t\t\tbreak;\n\t\t\tcase enums.ACTIONS[\"CHANGE_SCOPE_GROUP_MEMBER\"]:\n\t\t\t\tthis.changeScope(member, scope);\n\t\t\t\tbreak;\n\t\t\tdefault:\n\t\t\t\tbreak;\n\t\t}\n\t};\n\n\tbanMember = memberToBan => {\n\t\tconst guid = this.context.item.guid;\n\t\tCometChat.banGroupMember(guid, memberToBan.uid)\n\t\t\t.then(response => {\n\t\t\t\tif (response) {\n\t\t\t\t\tthis.context.setToastMessage(\"success\", \"BAN_GROUPMEMBER_SUCCESS\");\n\t\t\t\t\tthis.props.actionGenerated(enums.ACTIONS[\"BAN_GROUPMEMBER_SUCCESS\"], memberToBan);\n\t\t\t\t} else {\n\t\t\t\t\tthis.setState({ errorMessage: Translator.translate(\"SOMETHING_WRONG\", this.context.language) });\n\t\t\t\t}\n\t\t\t})\n\t\t\t.catch(error => this.setState({ errorMessage: Translator.translate(\"SOMETHING_WRONG\", this.context.language) }));\n\t};\n\n\tkickMember = memberToKick => {\n\t\tconst guid = this.context.item.guid;\n\t\tCometChat.kickGroupMember(guid, memberToKick.uid)\n\t\t\t.then(response => {\n\t\t\t\tif (response) {\n\t\t\t\t\tthis.props.actionGenerated(enums.ACTIONS[\"KICK_GROUPMEMBER_SUCCESS\"], memberToKick);\n\t\t\t\t} else {\n\t\t\t\t\tthis.setState({ errorMessage: Translator.translate(\"SOMETHING_WRONG\", this.context.language) });\n\t\t\t\t}\n\t\t\t})\n\t\t\t.catch(error => this.setState({ errorMessage: Translator.translate(\"SOMETHING_WRONG\", this.context.language) }));\n\t};\n\n\tchangeScope = (member, scope) => {\n\t\tconst guid = this.context.item.guid;\n\t\tCometChat.updateGroupMemberScope(guid, member.uid, scope)\n\t\t\t.then(response => {\n\t\t\t\tif (response) {\n\t\t\t\t\tthis.context.setToastMessage(\"success\", \"SCOPECHANGE_GROUPMEMBER_SUCCESS\");\n\t\t\t\t\tconst updatedMember = Object.assign({}, member, { scope: scope });\n\t\t\t\t\tthis.props.actionGenerated(enums.ACTIONS[\"SCOPECHANGE_GROUPMEMBER_SUCCESS\"], updatedMember);\n\t\t\t\t} else {\n\t\t\t\t\tthis.setState({ errorMessage: Translator.translate(\"SOMETHING_WRONG\", this.context.language) });\n\t\t\t\t}\n\t\t\t})\n\t\t\t.catch(error => this.setState({ errorMessage: Translator.translate(\"SOMETHING_WRONG\", this.context.language) }));\n\t};\n\n\tsetUserColumnTitle = editAccess => {\n\t\tif (this._isMounted) {\n\t\t\tif (editAccess !== null && this.mq.matches) {\n\t\t\t\tthis.setState({ userColumnTitle: Translator.translate(\"AVATAR\", this.context.language) });\n\t\t\t} else {\n\t\t\t\tthis.setState({ userColumnTitle: Translator.translate(\"NAME\", this.context.language) });\n\t\t\t}\n\t\t}\n\t};\n\n\trender() {\n\t\tconst membersList = [...this.context.groupMembers];\n\n\t\tconst groupMembers = membersList.map((member, key) => {\n\t\t\treturn (\n\t\t\t\t<CometChatViewGroupMemberListItem\n\t\t\t\t\tloggedinuser={this.props.loggedinuser}\n\t\t\t\t\ttheme={this.props.theme}\n\t\t\t\t\tkey={key}\n\t\t\t\t\tmember={member}\n\t\t\t\t\tenableChangeScope={this.props.enableChangeScope}\n\t\t\t\t\tenableBanGroupMembers={this.props.enableBanGroupMembers}\n\t\t\t\t\tenableKickGroupMembers={this.props.enableKickGroupMembers}\n\t\t\t\t\tactionGenerated={this.updateMembers}\n\t\t\t\t/>\n\t\t\t);\n\t\t});\n\n\t\tlet editAccess = null;\n\t\tif (this.context.item.scope !== CometChat.GROUP_MEMBER_SCOPE.PARTICIPANT) {\n\t\t\teditAccess = (\n\t\t\t\t<React.Fragment>\n\t\t\t\t\t<div css={actionColumnStyle(this.context)} className=\"ban\">\n\t\t\t\t\t\t{Translator.translate(\"BAN\", this.context.language)}\n\t\t\t\t\t</div>\n\t\t\t\t\t<div css={actionColumnStyle(this.context)} className=\"kick\">\n\t\t\t\t\t\t{Translator.translate(\"KICK\", this.context.language)}\n\t\t\t\t\t</div>\n\t\t\t\t</React.Fragment>\n\t\t\t);\n\n\t\t\tif (this.props.enableKickGroupMembers === false && this.props.enableBanGroupMembers === false) {\n\t\t\t\teditAccess = null;\n\t\t\t}\n\t\t}\n\n\t\tthis.mq.addListener(editAccess => this.setUserColumnTitle(editAccess));\n\n\t\treturn (\n\t\t\t<React.Fragment>\n\t\t\t\t<CometChatBackdrop show={true} clicked={this.props.close} />\n\t\t\t\t<div css={modalWrapperStyle(this.context)} className=\"modal__viewmembers\">\n\t\t\t\t\t<span css={modalCloseStyle(clearIcon, this.context)} className=\"modal__close\" onClick={this.props.close} title={Translator.translate(\"CLOSE\", this.context.language)}></span>\n\t\t\t\t\t<div css={modalBodyStyle()} className=\"modal__body\">\n\t\t\t\t\t\t<div css={modalCaptionStyle(Translator.getDirection(this.context.language))} className=\"modal__title\">\n\t\t\t\t\t\t\t{Translator.translate(\"GROUP_MEMBERS\", this.context.language)}\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div css={modalErrorStyle(this.context)} className=\"modal__error\">\n\t\t\t\t\t\t\t{this.state.errorMessage}\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div css={modalListStyle()} className=\"modal__content\">\n\t\t\t\t\t\t\t<div css={listHeaderStyle(this.context)} className=\"content__header\">\n\t\t\t\t\t\t\t\t<div css={nameColumnStyle(this.context, editAccess)} className=\"name\">\n\t\t\t\t\t\t\t\t\t{this.state.userColumnTitle}\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t<div css={scopeColumnStyle(this.context)} className=\"scope\">\n\t\t\t\t\t\t\t\t\t{Translator.translate(\"SCOPE\", this.context.language)}\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t{editAccess}\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<div css={listStyle()} className=\"content__list\" onScroll={this.handleScroll}>\n\t\t\t\t\t\t\t\t{groupMembers}\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</React.Fragment>\n\t\t);\n\t}\n}\n\n// Specifies the default values for props:\nCometChatViewGroupMemberList.defaultProps = {\n\ttheme: theme,\n\tuserColumnTitle: \"\",\n\tenableChangeScope: false,\n\tenableKickGroupMembers: false,\n\tenableBanGroupMembers: false\n};\n\nCometChatViewGroupMemberList.propTypes = {\n\ttheme: PropTypes.object,\n\tuserColumnTitle: PropTypes.string,\n\tenableChangeScope: PropTypes.bool,\n\tenableKickGroupMembers: PropTypes.bool,\n\tenableBanGroupMembers: PropTypes.bool\n};\n\nexport { CometChatViewGroupMemberList };","export const modalRowStyle = (context) => {\n\n    return {\n        borderLeft: `1px solid ${context.theme.borderColor.primary}`,\n        borderRight: `1px solid ${context.theme.borderColor.primary}`,\n        borderBottom: `1px solid ${context.theme.borderColor.primary}`,\n        display: \"flex\",\n        width: \"100%\",\n        fontSize: \"14px\",\n        flexDirection: \"row\",\n        justifyContent: \"flex-start\",\n        alignItems: \"center\",\n        padding: \"8px\",\n    }\n}\n\nexport const nameColumnStyle = (context, participantView) => {\n\n    const mq = context.theme.breakPoints.map(x => `@media ${x}`);\n\n    const widthProp = (participantView) ? {\n\n        width: \"calc(100% - 180px)\",\n        [mq[1]]: {\n            width: \"calc(100% - 140px)\",\n        },\n        [mq[2]]: {\n            width: \"calc(100% - 180px)\",\n        }\n\n    } : {\n        width: \"calc(100% - 260px)\",\n        [mq[1]]: {\n            width: \"calc(100% - 220px)\",\n        },\n        [mq[2]]: {\n            width: \"calc(100% - 260px)\",\n        },\n        [mq[3]]: {\n            width: \"calc(100% - 240px)\",\n        }\n    };\n\n    return {\n        display: \"flex\",\n        flexDirection: \"row\",\n        justifyContent: \"flex-start\",\n        alignItems: \"center\",\n        ...widthProp\n    }\n}\n\nexport const avatarStyle = (context, participantView) => {\n\n    const mq = context.theme.breakPoints.map(x => `@media ${x}`);\n\n    const marginProp = (participantView) ? {\n        marginRight: \"8px\",\n    } : {\n        marginRight: \"8px\",\n        [mq[1]]: {\n            marginRight: \"0\",\n        }\n    };\n\n    return {\n        width: \"36px\",\n        height: \"36px\",\n        flexShrink: \"0\",\n        ...marginProp\n    }\n}\n\nexport const nameStyle = (context, participantView) => {\n\n    const mq = context.theme.breakPoints.map(x => `@media ${x}`);\n\n    const widthProp = (participantView) ? {\n        width: \"100%\"\n    } : {\n        width: \"calc(100% - 50px)\"\n    };\n\n    const displayProp = (participantView) ? {\n        display: \"inline\",\n        [mq[1]]: {\n            display: \"inline\"\n        }\n\n    } : {\n        display: \"inline\",\n        [mq[1]]: {\n            display: \"none\"\n        }\n    }\n    \n    return {\n        margin: \"8px 0\",\n        overflow: \"hidden\",\n        textOverflow: \"ellipsis\",\n        whiteSpace: \"nowrap\",\n        ...widthProp,\n        ...displayProp\n    }\n}\n\nexport const scopeColumnStyle = (context) => {\n\n    const mq = context.theme.breakPoints.map(x => `@media ${x}`);\n\n    return {\n        display: \"flex\",\n        flexDirection: \"row\",\n        alignItems: \"center\",\n        justifyContent: \"flex-start\",\n        width: \"180px\",\n        \"img\": {\n            width: \"24px\",\n            height: \"24px\",\n            cursor: \"pointer\",\n        },\n        [mq[1]]: {\n            width: \"140px\"\n        },\n        [mq[2]]: {\n            width: \"180px\",\n        },\n        [mq[3]]: {\n            width: \"120px\",\n        }\n    }\n}\n\nexport const scopeWrapperStyle = () => {\n\n    return {\n        display: \"flex\",\n        flexDirection: \"row\",\n        alignItems: \"center\",\n        justifyContent: \"center\",\n        width: \"100%\",\n        transition: \"opacity .1s linear\",\n        \"img\": {\n            margin: \"0px 4px\",\n        }\n    }\n}\n\nexport const scopeSelectionStyle = () => {\n\n    return {\n        width: \"65%\",\n        border: \"0\",\n        boxShadow: \"rgba(20, 20, 20, 0.04) 0 0 0 1px inset\",\n        borderRadius: \"8px\",\n        backgroundColor: `rgba(20, 20, 20, 0.04)`,\n        padding: \"8px\",\n        color: `rgba(20, 20, 20, 0.6)`,\n        float: \"left\",\n    }\n}\n\nexport const scopeIconStyle = (img, context) => {\n\n    return {\n        width: \"24px\",\n        height: \"24px\",\n        display: \"inline-block\",\n        cursor: \"pointer\",\n        mask: `url(${img}) center center no-repeat`,\n        backgroundColor: `${context.theme.secondaryTextColor}`,\n    };\n}\n\nexport const roleStyle = () => {\n\n    return {\n        fontSize: \"12px\",\n        maxWidth: \"calc(100% - 20px)\"\n    }\n}\n\nexport const actionColumnStyle = (context) => {\n\n    const mq = context.theme.breakPoints.map(x => `@media ${x}`);\n\n    return {\n        width: \"70px\",\n        [mq[1]]: {\n            width: \"40px\"\n        },\n        [mq[2]]: {\n            width: \"40px\"\n        }\n    }\n}\n\nexport const banIconStyle = (img, context) => {\n\n    return {\n        width: \"24px\",\n        height: \"24px\",\n        display: \"inline-block\",\n        cursor: \"pointer\",\n        mask: `url(${img}) center center no-repeat`,\n        backgroundColor: `${context.theme.secondaryTextColor}`,\n    };\n}\n\nexport const kickIconStyle = (img, context) => {\n\treturn {\n\t\twidth: \"24px\",\n\t\theight: \"24px\",\n\t\tdisplay: \"inline-block\",\n\t\tcursor: \"pointer\",\n\t\tbackground: `url(${img}) center center no-repeat`,\n\t};\n};","export default __webpack_public_path__ + \"static/media/edit.35ebcb35.svg\";","export default __webpack_public_path__ + \"static/media/done.bf5ee0cc.svg\";","export default __webpack_public_path__ + \"static/media/close.0b0b6f95.svg\";","export default __webpack_public_path__ + \"static/media/ban-member.f8856b3d.svg\";","export default __webpack_public_path__ + \"static/media/delete.9436ff08.svg\";","import React from \"react\";\n/** @jsxRuntime classic */\n/** @jsx jsx */\nimport { jsx } from \"@emotion/core\";\nimport PropTypes from \"prop-types\";\nimport { CometChat } from \"@cometchat-pro/chat\";\n\nimport { CometChatAvatar, CometChatUserPresence } from \"../../Shared\";\n\nimport { CometChatContext } from \"../../../util/CometChatContext\";\nimport * as enums from \"../../../util/enums.js\";\n\nimport Translator from \"../../../resources/localization/translator\";\n\nimport {\n    modalRowStyle,\n    nameColumnStyle,\n    avatarStyle,\n    nameStyle,\n    roleStyle,\n    scopeColumnStyle,\n    scopeIconStyle,\n    actionColumnStyle,\n    banIconStyle,\n    kickIconStyle,\n    scopeWrapperStyle,\n    scopeSelectionStyle\n} from \"./style\";\n\nimport scopeIcon from \"./resources/edit.svg\";\nimport doneIcon from \"./resources/done.svg\";\nimport clearIcon from \"./resources/close.svg\";\nimport banIcon from \"./resources/ban-member.svg\";\nimport kickIcon from \"./resources/delete.svg\";\n\nclass CometChatViewGroupMemberListItem extends React.Component {\n\n    static contextType = CometChatContext;\n\n    constructor(props, context) {\n\n        super(props, context);\n\n        this.changeScopeDropDown = (\n            <select \n            className=\"members-scope-select\"\n            onChange={this.scopeChangeHandler}\n            defaultValue={this.props.member.scope}></select>\n        )\n\n        this.state = {\n            showChangeScope: false,\n            scope: null\n        }\n\n        this.roles = context.roles;\n    }\n\n    toggleChangeScope = (flag) => {\n        this.setState({ showChangeScope: flag });\n    }\n\n    scopeChangeHandler = (event) => {\n        this.setState({scope: event.target.value});\n    }\n\n    updateMemberScope = () => {\n        this.props.actionGenerated(enums.ACTIONS[\"CHANGE_SCOPE_GROUP_MEMBER\"], this.props.member, this.state.scope);\n        this.toggleChangeScope();\n    }\n\n    toggleTooltip = (event, flag) => {\n\n        const elem = event.currentTarget;\n        \n        if (elem.classList.contains(\"name\")) {\n\n            const scrollWidth = elem.scrollWidth;\n            const clientWidth = elem.clientWidth;\n            \n            if (scrollWidth <= clientWidth) {\n                return false;\n            }\n        }\n\n        if(flag) {\n            elem.setAttribute(\"title\", this.props.member.name);\n        } else {\n            elem.removeAttribute(\"title\");\n        }\n    }\n\n    render() {\n\n        let editClassName = \"\";\n    \n        let name = this.props.member.name;\n        let scope = <span css={roleStyle()}>{this.context.roles[this.props.member.scope]}</span>;\n        let changescope = null;\n        let ban = (<i css={banIconStyle(banIcon, this.context)} title={Translator.translate(\"BAN\", this.context.language)} onClick={() => { this.props.actionGenerated(enums.ACTIONS[\"BAN_GROUP_MEMBER\"], this.props.member)}}></i>);\n        let kick = (<i css={kickIconStyle(kickIcon, this.context)} title={Translator.translate(\"KICK\", this.context.language)} onClick={() => { this.props.actionGenerated(enums.ACTIONS[\"KICK_GROUP_MEMBER\"], this.props.member)}}></i>);\n        \n\n        if(this.state.showChangeScope) {\n\n            let options = (\n                <React.Fragment>\n                    <option value={CometChat.GROUP_MEMBER_SCOPE.PARTICIPANT}>{this.context.roles[CometChat.GROUP_MEMBER_SCOPE.PARTICIPANT]}</option>\n                    <option value={CometChat.GROUP_MEMBER_SCOPE.MODERATOR}>{this.context.roles[CometChat.GROUP_MEMBER_SCOPE.MODERATOR]}</option>\n                    <option value={CometChat.GROUP_MEMBER_SCOPE.ADMIN}>{this.context.roles[CometChat.GROUP_MEMBER_SCOPE.ADMIN]}</option>\n                </React.Fragment>\n            );\n\n            if (this.context.item.scope === CometChat.GROUP_MEMBER_SCOPE.MODERATOR\n                && this.props.member.scope === CometChat.GROUP_MEMBER_SCOPE.PARTICIPANT) {\n\n                options = (\n                    <React.Fragment>\n                        <option value={CometChat.GROUP_MEMBER_SCOPE.PARTICIPANT}>{this.context.roles[CometChat.GROUP_MEMBER_SCOPE.PARTICIPANT]}</option>\n                        <option value={CometChat.GROUP_MEMBER_SCOPE.MODERATOR}>{this.context.roles[CometChat.GROUP_MEMBER_SCOPE.MODERATOR]}</option>\n                    </React.Fragment>\n                );\n            }\n\n            changescope = (\n                <div css={scopeWrapperStyle()} className=\"scope__wrapper\">\n                    <select css={scopeSelectionStyle()} className=\"scope__select\" onChange={this.scopeChangeHandler} defaultValue={this.props.member.scope}>\n                        {options}\n                    </select>\n                    <i css={scopeIconStyle(doneIcon, this.context)} title={Translator.translate(\"CHANGE_SCOPE\", this.context.language)} onClick={this.updateMemberScope}></i>\n                    <i css={scopeIconStyle(clearIcon, this.context)} title={Translator.translate(\"CHANGE_SCOPE\", this.context.language)} onClick={() => this.toggleChangeScope(false)}></i>\n                </div>\n            );\n\n        } else {\n\n            if (this.context.item.scope === CometChat.GROUP_MEMBER_SCOPE.PARTICIPANT) {\n                changescope = scope;\n            } else {\n                changescope = (\n                    <React.Fragment>\n                        {scope}\n                        <i css={scopeIconStyle(scopeIcon, this.context)} title={Translator.translate(\"CHANGE_SCOPE\", this.context.language)} onClick={() => this.toggleChangeScope(true)}></i>\n                    </React.Fragment>\n                );\n            }\n        }\n\n        //disable change scope, kick, ban of group owner\n        if (this.context.item.owner === this.props.member.uid) {\n            scope = (<span css={roleStyle()}>{Translator.translate(\"OWNER\", this.context.language)}</span>);\n            changescope = scope;\n            ban = null;\n            kick = null;\n        }\n\n        //disable change scope, kick, ban of self\n        if (this.props.loggedinuser.uid === this.props.member.uid) {\n            name = Translator.translate(\"YOU\", this.context.language);\n            changescope = scope;\n            ban = null;\n            kick = null;\n        }\n\n        //if the loggedin user is moderator, don't allow to change scope, ban, kick group moderators or administrators\n        if (this.context.item.scope === CometChat.GROUP_MEMBER_SCOPE.MODERATOR \n        && (this.props.member.scope === CometChat.GROUP_MEMBER_SCOPE.ADMIN || this.props.member.scope === CometChat.GROUP_MEMBER_SCOPE.MODERATOR)) {\n            changescope = scope;\n            ban = null;\n            kick = null;\n        }\n\n        //if the loggedin user is administrator but not group owner, don't allow to change scope, ban, kick group administrators\n        if (this.context.item.scope === CometChat.GROUP_MEMBER_SCOPE.ADMIN\n        && this.context.item.owner !== this.props.loggedinuser.uid \n        && this.props.member.scope === CometChat.GROUP_MEMBER_SCOPE.ADMIN) {\n            changescope = scope;\n            ban = null;\n            kick = null;\n        }\n        \n        let editAccess = null;\n        //if the loggedin user is participant, don't show the option to change scope, ban, or kick group members\n        if (this.context.item.scope === CometChat.GROUP_MEMBER_SCOPE.PARTICIPANT) {\n            editAccess = null;\n            editClassName = \"true\";\n        } else {\n\n            editAccess = (\n                <React.Fragment>\n                    <div css={actionColumnStyle(this.context)} className=\"ban\">{ban}</div>\n                    <div css={actionColumnStyle(this.context)} className=\"kick\">{kick}</div>\n                </React.Fragment>\n            );\n\n            /**\n             * if kick and ban feature is disabled\n             */\n            if (this.props.enableBanGroupMembers === false && this.props.enableKickGroupMembers === false) {\n                editAccess = null;\n            } else if (this.props.enableBanGroupMembers === false) { //if ban feature is disabled\n                editAccess = (\n                    <div css={actionColumnStyle(this.context)} className=\"kick\">{kick}</div>\n                );\n            } else if (this.props.enableKickGroupMembers === false) { //if kick feature is disabled\n                editAccess = (\n                    <div css={actionColumnStyle(this.context)} className=\"ban\">{ban}</div>\n                );\n            }\n\n            /**\n             * if promote_demote_members feature is disabled\n             */\n            if (this.props.enableChangeScope === false) {\n                changescope = scope;\n            }\n        }\n\n        let userPresence = (\n            <CometChatUserPresence status={this.props.member.status} />\n        );\n        \n        return (\n            <div css={modalRowStyle(this.context)} className=\"content__row\">\n                <div css={nameColumnStyle(this.context, editClassName)} className=\"userinfo\">\n                    <div css={avatarStyle(this.context, editClassName)} className=\"thumbnail\"\n                    onMouseEnter={event => this.toggleTooltip(event, true)}\n                    onMouseLeave={event => this.toggleTooltip(event, false)}>\n                        <CometChatAvatar user={this.props.member} />\n                        {userPresence}\n                    </div>\n                    <div css={nameStyle(this.context, editClassName)} className=\"name\"\n                    onMouseEnter={event => this.toggleTooltip(event, true)}\n                    onMouseLeave={event => this.toggleTooltip(event, false)}>{name}</div>\n                </div>\n                <div css={scopeColumnStyle(this.context)} className=\"scope\">{changescope}</div>\n                {editAccess}\n            </div>\n        );\n    }\n}\n\n// Specifies the default values for props:\nCometChatViewGroupMemberListItem.defaultProps = {\n\tloggedinuser: {},\n\tenableChangeScope: false,\n};\n\nCometChatViewGroupMemberListItem.propTypes = {\n\tloggedinuser: PropTypes.shape(CometChat.User),\n\tenableChangeScope: PropTypes.bool\n};\n\nexport { CometChatViewGroupMemberListItem };","import { CometChat } from \"@cometchat-pro/chat\";\n\nimport {UIKitSettings} from \"../../../util/UIKitSettings\";\n\nexport class AddMembersManager {\n\tmembersRequest = null;\n\tuserListenerId = new Date().getTime();\n\n\tconstructor(context, searchKey) {\n\n\t\tthis.context = context;\n\t\tthis.searchKey = searchKey;\n\t}\n\n\tinitializeMembersRequest = () => {\n\n\t\tconst userListMode = this.context.UIKitSettings.userListMode;\n\t\tconst userListModeOptions = UIKitSettings.userListFilterOptions;\n\n\t\treturn new Promise((resolve, reject) => {\n\n\t\t\tif (userListMode === userListModeOptions[\"ALL\"]) {\n\n\t\t\t\tif (this.searchKey) {\n\t\t\t\t\tthis.membersRequest = new CometChat.UsersRequestBuilder().setLimit(30).setSearchKeyword(this.searchKey).build();\n\t\t\t\t} else {\n\t\t\t\t\tthis.membersRequest = new CometChat.UsersRequestBuilder().setLimit(30).build();\n\t\t\t\t}\n\n\t\t\t\treturn resolve(this.membersRequest);\n\t\t\t} else if (userListMode === userListModeOptions[\"FRIENDS\"]) {\n\n\t\t\t\tif (this.searchKey) {\n\t\t\t\t\tthis.membersRequest = new CometChat.UsersRequestBuilder().setLimit(30).friendsOnly(true).setSearchKeyword(this.searchKey).build();\n\t\t\t\t} else {\n\t\t\t\t\tthis.membersRequest = new CometChat.UsersRequestBuilder().setLimit(30).friendsOnly(true).build();\n\t\t\t\t}\n\n\t\t\t\treturn resolve(this.membersRequest);\n\t\t\t} else {\n\t\t\t\treturn reject({message: \"Invalid filter for userlist\"});\n\t\t\t}\n\t\t});\n\t};\n\n\tfetchNextUsers() {\n\t\treturn this.membersRequest.fetchNext();\n\t}\n\n\tattachListeners(callback) {\n\t\tCometChat.addUserListener(\n\t\t\tthis.userListenerId,\n\t\t\tnew CometChat.UserListener({\n\t\t\t\tonUserOnline: onlineUser => {\n\t\t\t\t\t/* when someuser/friend comes online, user will be received here */\n\t\t\t\t\tcallback(onlineUser);\n\t\t\t\t},\n\t\t\t\tonUserOffline: offlineUser => {\n\t\t\t\t\t/* when someuser/friend went offline, user will be received here */\n\t\t\t\t\tcallback(offlineUser);\n\t\t\t\t},\n\t\t\t}),\n\t\t);\n\t}\n\n\tremoveListeners() {\n\t\tCometChat.removeUserListener(this.userListenerId);\n\t}\n}","export const modalWrapperStyle = (context) => {\n\n    const mq = context.theme.breakPoints.map(x => `@media ${x}`);\n\n    return {\n        minWidth: \"350px\",\n        minHeight: \"450px\",\n        width: \"40%\",\n        height: \"40%\",\n        overflow: \"hidden\",\n        backgroundColor: `${context.theme.backgroundColor.white}`,\n        position: \"fixed\",\n        left: \"50%\",\n        top: \"50%\",\n        transform: \"translate(-50%, -50%)\",\n        zIndex: \"1002\",\n        margin: \"0 auto\",\n        boxShadow: \"rgba(20, 20, 20, 0.2) 0 16px 32px, rgba(20, 20, 20, 0.04) 0 0 0 1px\",\n        borderRadius: \"12px\",\n        display: \"block\",\n        [mq[0]]: {\n            width: \"100%\",\n            height: \"100%\"\n        },\n        [mq[1]]: {\n            width: \"100%\",\n            height: \"100%\"\n        },\n        [mq[2]]: {\n            width: \"100%\",\n            height: \"100%\"\n        }\n    }\n}\n\nexport const modalCloseStyle = (img, context) => {\n\n    return {\n        position: \"absolute\",\n        width: \"32px\",\n        height: \"32px\",\n        borderRadius: \"50%\",\n        top: \"16px\",\n        right: \"16px\",\n        mask: `url(${img}) center center no-repeat`,\n        backgroundColor: `${context.theme.primaryColor}`,\n        cursor: \"pointer\",\n    }\n}\n\nexport const modalBodyStyle = () => {\n\n    return {\n        padding: \"24px\",\n        height: \"100%\",\n        width: \"100%\",\n        display: \"flex\",\n        flexDirection: \"column\",\n        justifyContent: \"center\",\n        alignItems: \"flex-start\",\n    }\n}\n\nexport const modalCaptionStyle = (dir) => {\n\n    const textAlignStyle = (dir === \"rtl\") ? {\n        textAlign: \"right\",\n        paddingRight: \"32px\",\n    } : { \n        textAlign: \"left\", \n    };\n\n    return {\n        fontSize: \"20px\",\n        marginBottom: \"16px\",\n        fontWeight: \"bold\",\n        ...textAlignStyle,\n        width: \"100%\",\n    }\n}\n\nexport const modalErrorStyle = (context) => {\n\n    return {\n        fontSize: \"12px\",\n        color: `${context.theme.color.red}`,\n        textAlign: \"center\",\n        margin: \"8px 0\",\n        width: \"100%\",\n    };\n}\n\nexport const modalSearchStyle = () => {\n\treturn {\n\t\tfontWeight: \"normal\",\n\t\tmarginBottom: \"16px\",\n\t\twidth: \"100%\",\n        height: \"35px\",\n\t\tborderRadius: \"8px\",\n\t\tboxShadow: \"rgba(20, 20, 20, 0.04) 0 0 0 1px inset\",\n\t\tbackgroundColor: \"rgba(20, 20, 20, 0.04)\",\n        display: \"flex\",\n        justifyContent: \"center\",\n        alignItems: \"center\",\n\t};\n};\n\nexport const searchButtonStyle = (img, context) => {\n\n    return {\n        width: \"30px\",\n        height: \"100%\",\n        padding: \"8px\",\n        cursor: \"default\",\n        mask: `url(${img}) 10px center no-repeat`,\n        backgroundColor: `${context.theme.secondaryTextColor}!important`,\n    }\n}\n\nexport const searchInputStyle = () => {\n\n    return {\n        width: \"calc(100% - 30px)\",\n        height: \"100%\",\n        padding: \"8px\",\n        fontSize: \"15px\",\n        outline: \"none\",\n        border: \"none\",\n        backgroundColor: \"transparent\",\n    };\n}\n\nexport const modalListStyle = (context) => {\n\n    const mq = [...context.theme.breakPoints];\n\n    return {\n        height: \"calc(100% - 125px)\",\n        overflowY: \"auto\",\n        display: \"flex\",\n        width: \"100%\",\n        flexDirection: \"column\",\n        justifyContent: \"flex-start\",\n        alignItems: \"flex-start\",\n        [`@media ${mq[1]}, ${mq[2]}`]: {\n            height: \"100%\"\n        }\n    }\n}\n\nexport const modalFootStyle = (props, state, img, context) => {\n\n    const loadingState = (state.addingMembers) ? {\n        disabled: \"true\",\n        pointerEvents: \"none\",\n        background: `url(${img}) ${context.theme.primaryColor} no-repeat right 10px center`,\n    } : {};\n\n    const textMargin = state.addingMembers ? { marginRight: \"24px\" } : {};\n    \n    return {\n        margin: \"24px auto 0 auto\",\n        \"button\": {\n            cursor: \"pointer\",\n            padding: \"8px 16px\",\n            backgroundColor: `${context.theme.primaryColor}`,\n            borderRadius: \"5px\",\n            color: \"white\",\n            fontSize: \"14px\",\n            outline: \"0\",\n            border: \"0\",\n            ...loadingState,\n            \"span\": {\n                ...textMargin\n            }\n        },\n    }\n}\n\nexport const contactMsgStyle = () => {\n\n    return {\n        overflow: \"hidden\",\n        width: \"100%\",\n        display: \"flex\",\n        justifyContent: \"center\",\n        alignItems: \"center\",\n        height: \"55%\",\n    }\n}\n\nexport const contactMsgTxtStyle = context => {\n\treturn {\n\t\tmargin: \"0\",\n\t\theight: \"30px\",\n\t\tcolor: `${context.theme.color.secondary}`,\n\t\tfontSize: \"20px!important\",\n\t\tfontWeight: \"600\",\n\t};\n};","export default __webpack_public_path__ + \"static/media/adding.446449d0.svg\";","export default __webpack_public_path__ + \"static/media/search.61b1c747.svg\";","export default __webpack_public_path__ + \"static/media/close.0b0b6f95.svg\";","import React from \"react\";\n/** @jsxRuntime classic */\n/** @jsx jsx */\nimport { jsx } from \"@emotion/core\";\nimport PropTypes from \"prop-types\";\nimport { CometChat } from \"@cometchat-pro/chat\";\n\nimport { AddMembersManager } from \"./controller\";\n\nimport { CometChatAddGroupMemberListItem } from \"../\";\nimport { CometChatBackdrop } from \"../../Shared\";\n\nimport { CometChatContext } from \"../../../util/CometChatContext\";\nimport * as enums from \"../../../util/enums.js\";\n\nimport Translator from \"../../../resources/localization/translator\";\nimport { theme } from \"../../../resources/theme\";\n\nimport {\n    modalWrapperStyle,\n    modalCloseStyle,\n    modalBodyStyle,\n    modalCaptionStyle,\n    modalSearchStyle,\n    searchButtonStyle,\n    searchInputStyle,\n    modalListStyle,\n    modalFootStyle,\n    contactMsgStyle,\n    contactMsgTxtStyle,\n    modalErrorStyle\n} from \"./style\";\n\nimport addingIcon from \"./resources/adding.svg\";\nimport searchIcon from \"./resources/search.svg\";\nimport clearIcon from \"./resources/close.svg\";\n\nclass CometChatAddGroupMemberList extends React.Component {\n\n    static contextType = CometChatContext;\n\n    constructor(props, context) {\n        super(props, context);\n\n        this.state = {\n            userlist: [],\n            membersToAdd: [],\n            filteredlist: [],\n            addingMembers: false,\n            decoratorMessage: Translator.translate(\"LOADING\", context.language),\n            errorMessage: \"\"\n        }\n    }\n\n    componentDidMount() {\n\n        this.AddMembersManager = new AddMembersManager(this.context);\n        this.AddMembersManager.initializeMembersRequest().then(() => {\n\n            this.getUsers();\n            this.AddMembersManager.attachListeners(this.userUpdated);\n        });\n    }\n\n    componentWillUnmount() {\n\n        this.AddMembersManager.removeListeners();\n        this.AddMembersManager = null;\n    }\n\n    userUpdated = (user) => {\n        \n        let userlist = [...this.state.userlist];\n  \n        //search for user\n        let userKey = userlist.findIndex((u, k) => u.uid === user.uid);\n      \n        //if found in the list, update user object\n        if(userKey > -1) {\n\n            let userObj = userlist[userKey];\n            let newUserObj = Object.assign({}, userObj, user);\n            userlist.splice(userKey, 1, newUserObj);\n    \n            this.setState({ userlist: userlist });\n        }\n    }\n\n    handleScroll = (e) => {\n      const bottom =\n        Math.round(e.currentTarget.scrollHeight - e.currentTarget.scrollTop) === Math.round(e.currentTarget.clientHeight);\n      if (bottom) this.getUsers();\n    }\n    \n    searchUsers = (e) => {\n  \n        if (this.timeout) {\n            clearTimeout(this.timeout);\n        }\n\n        let val = e.target.value;\n        \n        this.AddMembersManager = new AddMembersManager(this.context, val);\n        this.AddMembersManager.initializeMembersRequest().then(() => {\n\n            this.timeout = setTimeout(() => {\n                this.setState({ userlist: [], membersToAdd: [], membersToRemove: [], filteredlist: [], decoratorMessage: Translator.translate(\"LOADING\", this.context.language) }, () => this.getUsers());\n            }, 500);\n\t\t\t\t\t\t\t\n        });\n    }\n  \n    getUsers = () => {\n  \n        this.AddMembersManager.fetchNextUsers()\n            .then(userList => {\n                const filteredUserList = userList.filter(user => {\n                    const found = this.context.groupMembers.find(member => user.uid === member.uid);\n                    const foundbanned = this.context.bannedGroupMembers.find(member => user.uid === member.uid);\n                    if (found || foundbanned) {\n                        return false;\n                    }\n                    return true;\n                });\n\n                if (filteredUserList.length === 0) {\n                    this.setState({ decoratorMessage: Translator.translate(\"NO_USERS_FOUND\", this.context.language) });\n                }\n\n                this.setState({ userlist: [...this.state.userlist, ...userList], filteredlist: [...this.state.filteredlist, ...filteredUserList] });\n            })\n            .catch(error => this.setState({ decoratorMessage: Translator.translate(\"SOMETHING_WRONG\", this.context.language) }));\n    }\n\n    membersUpdated = (user, userState) => {\n\n        if(userState) {\n\n            const members = [...this.state.membersToAdd];\n            members.push(user);\n            this.setState({membersToAdd: [...members]});\n\n        } else {\n\n            const membersToAdd = [...this.state.membersToAdd];\n            const IndexFound = membersToAdd.findIndex(member => member.uid === user.uid);\n            if(IndexFound > -1) {\n                membersToAdd.splice(IndexFound, 1);\n                this.setState({membersToAdd: [...membersToAdd]})\n            }\n        }\n    }\n\n    updateMembers = () => {\n        \n        const guid = this.context.item.guid;\n        const membersList = [];\n\n        this.state.membersToAdd.forEach(newmember => {\n            //if a selected member is already part of the member list, don't add\n            const IndexFound = this.context.groupMembers.findIndex(member => member.uid === newmember.uid);\n            if(IndexFound === -1) {\n                \n                const newMember = new CometChat.GroupMember(newmember.uid, CometChat.GROUP_MEMBER_SCOPE.PARTICIPANT);\n                membersList.push(newMember);\n\n                newmember[\"type\"] = \"add\";\n            }\n        });\n\n        if(membersList.length) {\n\n            this.setState({ addingMembers: true });\n\n            const membersToAdd = [];\n            CometChat.addMembersToGroup(guid, membersList, []).then(response => {\n\n                if (Object.keys(response).length) {\n                        \n                    for (const member in response) {\n\n                        if(response[member] === \"success\") {\n\n                            const found = this.state.userlist.find(user => user.uid === member);\n                            found[\"scope\"] = CometChat.GROUP_MEMBER_SCOPE.PARTICIPANT;\n                            membersToAdd.push(found);\n                        }\n                    }\n\n                    this.props.actionGenerated(enums.ACTIONS[\"ADD_GROUP_MEMBER_SUCCESS\"], membersToAdd);\n                }\n                this.setState({ addingMembers: false });\n                this.props.close();\n\n            }).catch(error => {\n                \n                this.setState({ addingMembers: false, errorMessage: Translator.translate(\"SOMETHING_WRONG\", this.context.language) });\n                \n            });\n        }\n    }\n\n    render() {\n\n        const createText = this.state.addingMembers ? Translator.translate(\"ADDING\", this.context.language) : Translator.translate(\"ADD\", this.context.language);\n        let addGroupMemberBtn = (\n            <div css={modalFootStyle(this.props, this.state, addingIcon, this.context)} className=\"modal__addmembers\">\n                <button type=\"button\" onClick={this.updateMembers}><span>{createText}</span></button>\n            </div>\n        );\n\n        let messageContainer = null;\n        if (this.state.filteredlist.length === 0) {\n\n            messageContainer = (\n                <div css={contactMsgStyle()} className=\"members__decorator-message\">\n                    <p css={contactMsgTxtStyle(this.context)} className=\"decorator-message\">{this.state.decoratorMessage}</p>\n                </div>\n            );\n            addGroupMemberBtn = null;\n        }\n\n        let currentLetter = \"\";\n        const filteredUserList = [...this.state.filteredlist];\n        const users = filteredUserList.map(user => {\n\n            const chr = user.name[0].toUpperCase();\n            let firstLetter = null;\n            if(chr !== currentLetter) {\n                currentLetter = chr;\n                firstLetter = currentLetter;\n            }\n\n            return (\n                <React.Fragment key={user.uid}>\n                    <CometChatAddGroupMemberListItem \n                    theme={this.props.theme}\n                    firstLetter={firstLetter}\n                    user={user}\n                    changed={this.membersUpdated} />\n                </React.Fragment>\n            )\n        });\n\n        return (\n            <React.Fragment>\n                <CometChatBackdrop show={true} clicked={this.props.close} />\n                <div css={modalWrapperStyle(this.context)} className=\"modal__addmembers\">\n                    <span css={modalCloseStyle(clearIcon, this.context)} className=\"modal__close\" onClick={this.props.close} title={Translator.translate(\"CLOSE\", this.context.language)}></span>\n                    <div css={modalBodyStyle()} className=\"modal__body\">\n                        <div css={modalCaptionStyle(Translator.getDirection(this.context.language))} className=\"modal__title\">{Translator.translate(\"USERS\", this.context.language)}</div>\n                        <div css={modalErrorStyle(this.context)} className=\"modal__error\">{this.state.errorMessage}</div>\n                        <div css={modalSearchStyle()} className=\"modal__search\">\n                            <button type=\"button\" className=\"search__button\" css={searchButtonStyle(searchIcon, this.context)} />\n                            <input\n                            type=\"text\"\n                            autoComplete=\"off\"\n                            css={searchInputStyle()}\n                            className=\"search__input\"\n                            placeholder={Translator.translate(\"SEARCH\", this.context.language)}\n                            onChange={this.searchUsers} />\n                        </div>\n                        {messageContainer}\n                        <div css={modalListStyle(this.context)} onScroll={this.handleScroll} className=\"modal__content\">{users}</div>\n                        {addGroupMemberBtn}\n                    </div>\n                </div>\n            </React.Fragment>\n        );\n    }\n}\n\n// Specifies the default values for props:\nCometChatAddGroupMemberList.defaultProps = {\n    theme: theme\n};\n\nCometChatAddGroupMemberList.propTypes = {\n    theme: PropTypes.object\n}\n\nexport { CometChatAddGroupMemberList };\n","export const modalRowStyle = (theme) => {\n\n    return {\n        border: `1px solid ${theme.borderColor.primary}`,\n        display: \"flex\",\n        width: \"100%\",\n        fontSize: \"14px\",\n        flexDirection: \"row\",\n        justifyContent: \"flex-start\",\n        alignItems: \"center\",\n        \"&:not(:last-child)\": {\n            borderBottom: \"none\"\n        }\n    }\n}\n\nexport const modalColumnStyle = () => {\n\n    return {\n        padding: \"8px\",\n        width: \"calc(100% - 50px)\",\n    }\n}\n\nexport const avatarStyle = () => {\n\n    return {\n        display: \"inline-block\",\n        float: \"left\",\n        width: \"36px\",\n        height: \"36px\",\n        marginRight: \"8px\",\n    }\n}\n\nexport const nameStyle = () => {\n\n    return {\n        margin: \"10px\",\n        width: \"calc(100% - 50px)\",\n        overflow: \"hidden\",\n        textOverflow: \"ellipsis\",\n        whiteSpace: \"nowrap\",\n    }\n}\n\nexport const selectionColumnStyle = () => {\n\n    return {\n        padding: \"8px\",\n        width: \"50px\",\n        display: \"flex\",\n        justifyContent: \"center\",\n        alignItems: \"center\",\n    }\n}\n\nexport const selectionBoxStyle = (inactiveStateImg, activeStateImg, theme) => {\n\n    return {\n        display: \"none\",\n        \" + label\": {\n            display: \"block\",\n            cursor: \"pointer\",\n            userSelect: \"none\",\n            padding: \"8px\",\n            width: \"100%\",\n            mask: `url(${inactiveStateImg}) center center no-repeat`,\n            backgroundColor: `${theme.secondaryTextColor}`,\n        },\n        \"&:checked + label\": {\n            width: \"100%\",\n            mask: `url(${activeStateImg}) center center no-repeat`,\n            backgroundColor: `${theme.secondaryTextColor}`,\n        }\n    }\n}","export default __webpack_public_path__ + \"static/media/group-member-unselect.ecb59147.svg\";","export default __webpack_public_path__ + \"static/media/group-member-select.301a1077.svg\";","import { useState, useContext } from \"react\";\n/** @jsxRuntime classic */\n/** @jsx jsx */\nimport { jsx } from \"@emotion/core\";\nimport PropTypes from \"prop-types\";\n\nimport { CometChatAvatar, CometChatUserPresence } from \"../../Shared\";\n\nimport { CometChatContext } from \"../../../util/CometChatContext\";\n\nimport { theme } from \"../../../resources/theme\";\n\nimport {\n\tmodalRowStyle,\n\tmodalColumnStyle,\n\tavatarStyle,\n\tnameStyle,\n\tselectionColumnStyle,\n\tselectionBoxStyle\n} from \"./style\";\n\nimport inactiveIcon from \"./resources/group-member-unselect.svg\";\nimport activeIcon from \"./resources/group-member-select.svg\";\n\nconst CometChatAddGroupMemberListItem = (props) => {\n\n\tconst { groupMembers, theme } = useContext(CometChatContext);\n\n\tconst [checked, setChecked] = useState(() => {\n\t\tconst found = groupMembers.find(member => member.uid === props.user.uid);\n\t\tconst value = (found) ? true : false;\n\n\t\treturn value;\n\t});\n\n\tconst handleCheck = (event) => {\n\n\t\tconst value = (checked === true) ? false : true;\n\t\tsetChecked(value);\n\t\tprops.changed(props.user, value);\n\t}\n\n\tconst toggleTooltip = (event, flag) => {\n\n\t\tconst elem = event.currentTarget;\n\t\tconst nameContainer = elem.lastChild;\n\n\t\tconst scrollWidth = nameContainer.scrollWidth;\n\t\tconst clientWidth = nameContainer.clientWidth;\n\t\t\n\t\tif(scrollWidth <= clientWidth) {\n\t\t\treturn false;\n\t\t}\n\n\t\tif(flag) {\n\t\t\tnameContainer.setAttribute(\"title\", nameContainer.textContent);\n\t\t} else {\n\t\t\tnameContainer.removeAttribute(\"title\");\n\t\t}\n\t}\n\t\n\treturn (\n\t\t<div css={modalRowStyle(theme)}>\n\t\t\t<div css={modalColumnStyle()} className=\"userinfo\" onMouseEnter={event => toggleTooltip(event, true)} onMouseLeave={event => toggleTooltip(event, false)}>\n\t\t\t\t<div css={avatarStyle()} className=\"avatar\">\n\t\t\t\t\t<CometChatAvatar user={props.user} />\n\t\t\t\t\t<CometChatUserPresence status={props.user.status} />\n\t\t\t\t</div>\n\t\t\t\t<div css={nameStyle()} className=\"name\">\n\t\t\t\t\t{props.user.name}\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t\t<div css={selectionColumnStyle()} className=\"selection\">\n\t\t\t\t<input css={selectionBoxStyle(inactiveIcon, activeIcon, theme)} type=\"checkbox\" checked={checked} id={props.user.uid + \"sel\"} onChange={handleCheck} />\n\t\t\t\t<label htmlFor={props.user.uid + \"sel\"}>&nbsp;</label>\n\t\t\t</div>\n\t\t</div>\n\t);\n}\n\n// Specifies the default values for props:\nCometChatAddGroupMemberListItem.defaultProps = {\n\ttheme: theme\n};\n\nCometChatAddGroupMemberListItem.propTypes = {\n\ttheme: PropTypes.object\n}\n\nexport { CometChatAddGroupMemberListItem };","export const modalWrapperStyle = (context) => {\n\n    const mq = context.theme.breakPoints.map(x => `${x}`);\n\n    return {\n        minWidth: \"350px\",\n        minHeight: \"450px\",\n        width: \"40%\",\n        height: \"40%\",\n        overflow: \"hidden\",\n        backgroundColor: `${context.theme.backgroundColor.white}`,\n        position: \"fixed\",\n        left: \"50%\",\n        top: \"50%\",\n        transform: \"translate(-50%, -50%)\",\n        zIndex: \"1002\",\n        margin: \"0 auto\",\n        boxShadow: \"rgba(20, 20, 20, 0.2) 0 16px 32px, rgba(20, 20, 20, 0.04) 0 0 0 1px\",\n        borderRadius: \"12px\",\n        display: \"block\",\n        [`@media ${mq[1]}, ${mq[2]}`]: {\n            width: \"100%\",\n            height: \"100%\"\n        }\n    }\n}\n\nexport const modalCloseStyle = (img, context) => {\n\n    return {\n        position: \"absolute\",\n        width: \"32px\",\n        height: \"32px\",\n        borderRadius: \"50%\",\n        top: \"16px\",\n        right: \"16px\",\n        mask: `url(${img}) center center no-repeat`,\n        backgroundColor: `${context.theme.primaryColor}`,\n        cursor: \"pointer\",\n    }\n}\n\nexport const modalBodyStyle = () => {\n\n    return {\n        padding: \"24px\",\n        height: \"100%\",\n        width: \"100%\"\n    }\n}\n\nexport const modalCaptionStyle = (dir) => {\n\n    const textAlignStyle = (dir === \"rtl\") ? {\n        textAlign: \"right\",\n        paddingRight: \"32px\",\n    } : {\n        textAlign: \"left\",\n    };\n\n    return {\n        fontSize: \"20px\",\n        marginBottom: \"8px\",\n        fontWeight: \"bold\",\n        ...textAlignStyle,\n        width: \"100%\",\n    }\n}\n\nexport const modalErrorStyle = context => {\n\n\treturn {\n\t\tfontSize: \"12px\",\n\t\tcolor: `${context.theme.color.red}`,\n\t\ttextAlign: \"center\",\n\t\tpadding: \"8px 0\",\n\t\twidth: \"100%\",\n\t\theight: \"31px\",\n\t};\n};\n\nexport const modalListStyle = () => {\n\n    return {\n        width: \"100%\",\n        height: \"calc(100% - 70px)\",\n        display: \"flex\",\n        flexDirection: \"column\",\n        justifyContent: \"flex-start\",\n        alignItems: \"flex-start\",\n    }\n}\n\nexport const listHeaderStyle = (context) => {\n\n    return {\n        display: \"flex\",\n        flexDirection: \"row\",\n        justifyContent: \"flex-start\",\n        alignItems: \"center\",\n        fontWeight: \"bold\",\n        padding: \"8px\",\n        width: \"100%\",\n        border: `1px solid ${context.theme.borderColor.primary}`,\n    };\n}\n\nexport const nameColumnStyle = (context) => {\n\n    const mq = context.theme.breakPoints.map(x => `@media ${x}`);\n\n    return {\n        width: \"calc(100% - 220px)\",\n        [mq[0]]: {\n            width: \"calc(100% - 185px)\",\n        },\n        [mq[1]]: {\n            width: \"calc(100% - 185px)\",\n        },\n        [mq[2]]: {\n            width: \"calc(100% - 185px)\",\n        },\n    };\n}\n\nexport const roleColumnStyle = context => {\n\n\tconst mq = context.theme.breakPoints.map(x => `@media ${x}`);\n\n\treturn {\n\t\twidth: \"150px\",\n\t\t[mq[0]]: {\n\t\t\twidth: \"115px\",\n\t\t},\n\t\t[mq[1]]: {\n\t\t\twidth: \"115px\",\n\t\t},\n\t\t[mq[2]]: {\n\t\t\twidth: \"115px\",\n\t\t},\n\t};\n};\n\nexport const actionColumnStyle = () => {\n\n    return {\n        width: \"70px\"\n    }\n}\n\nexport const listStyle = () => {\n\n    return {\n        display: \"flex\",\n        flexDirection: \"column\",\n        justifyContent: \"flex-start\",\n        alignItems: \"flex-start\",\n        width: \"100%\",\n        height: \"calc(100% - 33px)\",\n        overflowY: \"auto\",        \n    }\n}\n\nexport const contactMsgStyle = () => {\n\n    return {\n        overflow: \"hidden\",\n        width: \"100%\",\n        display: \"flex\",\n        justifyContent: \"center\",\n        alignItems: \"center\",\n        height: \"55%\",\n    }\n}\n\nexport const contactMsgTxtStyle = (context) => {\n\n    return {\n        margin: \"0\",\n        height: \"30px\",\n        color: `${context.theme.color.secondary}`,\n        fontSize: \"20px!important\",\n        fontWeight: \"600\"\n    }\n}","export default __webpack_public_path__ + \"static/media/close.0b0b6f95.svg\";","import React from \"react\";\n/** @jsxRuntime classic */\n/** @jsx jsx */\nimport { jsx } from \"@emotion/core\";\nimport PropTypes from \"prop-types\";\nimport { CometChat } from \"@cometchat-pro/chat\";\n\nimport { CometChatBanGroupMemberListItem } from \"../\";\nimport { CometChatBackdrop } from \"../../Shared\";\n\nimport { CometChatContext } from \"../../../util/CometChatContext\";\nimport * as enums from \"../../../util/enums.js\";\n\nimport Translator from \"../../../resources/localization/translator\";\nimport { theme } from \"../../../resources/theme\";\n\nimport {\n    modalWrapperStyle,\n    modalCloseStyle,\n    modalBodyStyle,\n    contactMsgStyle,\n    contactMsgTxtStyle,\n    modalErrorStyle,\n    modalCaptionStyle,\n    modalListStyle,\n    listHeaderStyle,\n    nameColumnStyle,\n    roleColumnStyle,\n    actionColumnStyle,\n    listStyle,\n} from \"./style\";\n\nimport clearIcon from \"./resources/close.svg\";\n\nclass CometChatBanGroupMemberList extends React.Component {\n\n    static contextType = CometChatContext;\n\n    constructor(props) {\n\n        super(props);\n\n        this.state = {\n            membersToBan: [],\n            membersToUnBan: [],\n            decoratorMessage: Translator.translate(\"LOADING\", Translator.getDefaultLanguage()),\n            errorMessage: \"\"\n        }\n    }\n\n    componentDidMount() {\n\n        if (this.context.bannedGroupMembers.length === 0) {\n            this.setState({ decoratorMessage: Translator.translate(\"NO_BANNED_MEMBERS_FOUND\", this.context.language) });\n        } else {\n            this.setState({ decoratorMessage: \"\" });\n        }\n    }\n\n    componentDidUpdate() {\n        \n        if (this.context.bannedGroupMembers.length === 0 && this.state.decoratorMessage === \"\") {\n            this.setState({ decoratorMessage: Translator.translate(\"NO_BANNED_MEMBERS_FOUND\", this.context.language) });\n        } else if (this.context.bannedGroupMembers.length && this.state.decoratorMessage.length) {\n            this.setState({ decoratorMessage: \"\" });\n        }\n    }\n\n    unbanMember = (memberToUnBan) => {\n\n        const guid = this.context.item.guid;\n        CometChat.unbanGroupMember(guid, memberToUnBan.uid).then(response => {\n            \n            if(response) {\n                this.props.actionGenerated(enums.ACTIONS[\"UNBAN_GROUP_MEMBER_SUCCESS\"], [memberToUnBan]);\n            } else {\n                this.setState({ errorMessage: Translator.translate(\"SOMETHING_WRONG\", this.context.language) });\n            }\n\n        }).catch(error => this.setState({ errorMessage: Translator.translate(\"SOMETHING_WRONG\", this.context.language) }));\n    }\n\n    updateMembers = (action, member) => {\n\n        switch(action) {\n            case enums.ACTIONS[\"UNBAN_GROUP_MEMBER\"]:\n                this.unbanMember(member);\n                break;\n            default:\n                break;\n        }\n    }\n\n    handleScroll = (e) => {\n\n        const bottom = Math.round(e.currentTarget.scrollHeight - e.currentTarget.scrollTop) === Math.round(e.currentTarget.clientHeight);\n        if (bottom) {\n            this.props.actionGenerated(enums.ACTIONS[\"FETCH_BANNED_GROUP_MEMBERS\"]);\n        }\n    }\n    \n    render() {\n        \n        const membersList = [...this.context.bannedGroupMembers];\n        const bannedMembers = membersList.map((member, key) => {\n\n            return (\n                <CometChatBanGroupMemberListItem \n                key={member.uid} \n                member={member}\n                loggedinuser={this.props.loggedinuser}\n                actionGenerated={this.updateMembers} />);\n\n        });\n\n        let messageContainer = null;\n        if (this.state.decoratorMessage.length !== 0) {\n\n            messageContainer = (\n                <div css={contactMsgStyle()} className=\"bannedmembers__decorator-message\">\n                    <p css={contactMsgTxtStyle(this.context)} className=\"decorator-message\">{this.state.decoratorMessage}</p>\n                </div>\n            );\n        }\n        \n        return (\n            <React.Fragment>\n                <CometChatBackdrop show={true} clicked={this.props.close} />\n                <div css={modalWrapperStyle(this.context)} className=\"modal__bannedmembers\">\n                    <span css={modalCloseStyle(clearIcon, this.context)} className=\"modal__close\" onClick={this.props.close} title={Translator.translate(\"CLOSE\", this.context.language)}></span>\n\n                    <div css={modalBodyStyle()} className=\"modal__body\">\n                        <div css={modalCaptionStyle(Translator.getDirection(this.context.language))} className=\"modal__title\">\n                            {Translator.translate(\"BANNED_MEMBERS\", this.context.language)}\n                        </div>\n                        <div css={modalErrorStyle(this.context)} className=\"modal__error\">\n                            {this.state.errorMessage}\n                        </div>\n\n                        <div css={modalListStyle()} className=\"modal__content\">\n                            <div css={listHeaderStyle(this.context)} className=\"content__header\">\n                                <div css={nameColumnStyle(this.props)} className=\"name\">\n                                    {Translator.translate(\"NAME\", this.context.language)}\n                                </div>\n                                <div css={roleColumnStyle(this.context)} className=\"role\">\n                                    {Translator.translate(\"SCOPE\", this.context.language)}\n                                </div>\n                                <div css={actionColumnStyle(this.context)} className=\"unban\">\n                                    {Translator.translate(\"UNBAN\", this.context.language)}\n                                </div>\n                            </div>\n                            {messageContainer}\n                            <div css={listStyle(this.props)} className=\"content__list\" onScroll={this.handleScroll}>\n                                {bannedMembers}\n                            </div>\n                        </div>\n\n                    </div>\n                </div>\n            </React.Fragment>\n        );\n    }\n}\n\n// Specifies the default values for props:\nCometChatBanGroupMemberList.defaultProps = {\n    theme: theme\n};\n\nCometChatBanGroupMemberList.propTypes = {\n    theme: PropTypes.object\n}\n\nexport { CometChatBanGroupMemberList };\n","export const modalRowStyle = (context) => {\n\n    return {\n        borderLeft: `1px solid ${context.theme.borderColor.primary}`,\n        borderRight: `1px solid ${context.theme.borderColor.primary}`,\n        borderBottom: `1px solid ${context.theme.borderColor.primary}`,\n        display: \"flex\",\n        width: \"100%\",\n        fontSize: \"14px\",\n        flexDirection: \"row\",\n        justifyContent: \"flex-start\",\n        alignItems: \"center\",\n        padding: \"8px\",\n    };\n}\n\nexport const userStyle = context => {\n    \n\tconst mq = context.theme.breakPoints.map(x => `@media ${x}`);\n\n\treturn {\n\t\twidth: \"calc(100% - 220px)\",\n\t\t[mq[0]]: {\n\t\t\twidth: \"calc(100% - 185px)\",\n\t\t},\n\t\t[mq[1]]: {\n\t\t\twidth: \"calc(100% - 185px)\",\n\t\t},\n\t\t[mq[2]]: {\n\t\t\twidth: \"calc(100% - 185px)\",\n\t\t},\n\t};\n};\n\nexport const avatarStyle = () => {\n\n    return {\n        display: \"inline-block\",\n        float: \"left\",\n        width: \"36px\",\n        height: \"36px\",\n        marginRight: \"8px\",\n    }\n}\n\nexport const nameStyle = () => {\n\n    return {\n        margin: \"10px 0 0 0\",\n        width: \"calc(100% - 50px)\",\n        overflow: \"hidden\",\n        textOverflow: \"ellipsis\",\n        whiteSpace: \"nowrap\"\n    }\n}\n\nexport const roleStyle = (context) => {\n\n    const mq = context.theme.breakPoints.map(x => `${x}`);\n\n    return {\n        width: \"150px\",\n        fontSize: \"12px\",\n        [`@media ${mq[1]}, ${mq[2]}`]: {\n            width: \"115px\"\n        }\n    }\n}\n\nexport const actionStyle = (img, context) => {\n\n    return {\n        width: \"70px\",\n        \"i\": {\n            width: \"24px\",\n            height: \"24px\",\n            cursor: \"pointer\",\n            mask: `url(${img}) center center no-repeat`,\n            backgroundColor: `${context.theme.secondaryTextColor}`,\n            display: \"inline-block\"\n        },\n    };\n}","export default __webpack_public_path__ + \"static/media/ban-member.f8856b3d.svg\";","import { useContext } from \"react\";\n/** @jsxRuntime classic */\n/** @jsx jsx */\nimport { jsx } from \"@emotion/core\";\nimport PropTypes from \"prop-types\";\nimport { CometChat } from \"@cometchat-pro/chat\";\n\nimport { CometChatAvatar, CometChatUserPresence } from \"../../Shared\";\n\nimport { CometChatContext } from \"../../../util/CometChatContext\";\nimport * as enums from \"../../../util/enums.js\";\n\nimport Translator from \"../../../resources/localization/translator\";\nimport { theme } from \"../../../resources/theme\";\n\nimport {\n    modalRowStyle,\n    userStyle,\n    avatarStyle,\n    nameStyle,\n    roleStyle,\n    actionStyle\n} from \"./style\";\n\nimport unban from \"./resources/ban-member.svg\";\n\nconst CometChatBanGroupMemberListItem = (props) => {\n\n    const context = useContext(CometChatContext);\n\n    let name = props.member.name;\n    let scope = context.roles[props.member.scope];\n    let unBan = (<i title={Translator.translate(\"UNBAN\", context.language)} onClick={() => { props.actionGenerated(enums.ACTIONS[\"UNBAN_GROUP_MEMBER\"], props.member)}} />);\n\n    //if the loggedin user is moderator, don't allow unban of banned moderators or administrators\n    if (context.item.scope === CometChat.GROUP_MEMBER_SCOPE.MODERATOR \n    && (props.member.scope === CometChat.GROUP_MEMBER_SCOPE.ADMIN || props.member.scope === CometChat.GROUP_MEMBER_SCOPE.MODERATOR)) {\n        unBan = null;\n    }\n\n    //if the loggedin user is administrator, don't allow unban of banned administrators\n    if (context.item.scope === CometChat.GROUP_MEMBER_SCOPE.ADMIN && props.member.scope === CometChat.GROUP_MEMBER_SCOPE.ADMIN) {\n        if (context.item.owner !== props.loggedinuser.uid) {\n            unBan = null;\n        }\n    }\n\n    const toggleTooltip = (event, flag) => {\n\n        const elem = event.currentTarget;\n        const nameContainer = elem.lastChild;\n    \n        const scrollWidth = nameContainer.scrollWidth;\n        const clientWidth = nameContainer.clientWidth;\n        \n        if(scrollWidth <= clientWidth) {\n          return false;\n        }\n    \n        if(flag) {\n          nameContainer.setAttribute(\"title\", nameContainer.textContent);\n        } else {\n          nameContainer.removeAttribute(\"title\");\n        }\n    }\n    \n    return (\n        <div css={modalRowStyle(context)}>\n            <div css={userStyle(context)} className=\"userinfo\"\n            onMouseEnter={event => toggleTooltip(event, true)}\n            onMouseLeave={event => toggleTooltip(event, false)}>\n                <div css={avatarStyle()} className=\"avatar\">\n                    <CometChatAvatar user={props.member} />\n                    <CometChatUserPresence\n                    status={props.member.status}\n                    borderColor={props.theme.borderColor.primary} />\n                </div>\n                <div css={nameStyle()} className=\"name\">{name}</div>\n            </div>\n            <div css={roleStyle(context)} className=\"role\">{scope}</div>\n            <div css={actionStyle(unban, context)} className=\"unban\">{unBan}</div>\n        </div>\n    );\n}\n\n// Specifies the default values for props:\nCometChatBanGroupMemberListItem.defaultProps = {\n    theme: theme\n};\n\nCometChatBanGroupMemberListItem.propTypes = {\n    theme: PropTypes.object\n}\n\nexport { CometChatBanGroupMemberListItem };\n","export const groupScreenStyle = (props) => {\n\n    return {\n        display: \"flex\",\n        height: \"100%\",\n        width: \"100%\",\n        boxSizing: \"border-box\",\n        fontFamily: `${props.theme.fontFamily}`,\n        border: `1px solid ${props.theme.borderColor.primary}`,\n        \"*\": {\n            boxSizing: \"border-box\",\n            fontFamily: `${props.theme.fontFamily}`,\n            \"::-webkit-scrollbar\": {\n                width: \"8px\",\n                height: \"4px\",\n            },\n            \"::-webkit-scrollbar-track\": {\n                background: \"#ffffff00\"\n            },\n            \"::-webkit-scrollbar-thumb\": {\n                background: \"#ccc\",\n                \"&:hover\": {\n                    background: \"#aaa\"\n                }\n            }\n        }\n    }\n}\n\nexport const groupScreenSidebarStyle = (state, props) => {\n\n    const sidebarView = (state.sidebarview) ? {\n        left: \"0\",\n        boxShadow: \"rgba(0, 0, 0, .4) -30px 0 30px 30px\"\n    } : {};\n\n    const mq = [...props.theme.breakPoints];\n\n    return {\n\n        width: \"280px\",\n        borderRight: `1px solid ${props.theme.borderColor.primary}`,\n        height: \"100%\",\n        position: \"relative\",\n        display: \"flex\",\n        flexDirection: \"column\",\n        \".groups\": {\n            height: \"calc(100% - 5px)\",\n        },\n        [`@media ${mq[0]}`]: {\n            position: \"absolute!important\",\n            left: \"-100%\",\n            top: \"0\",\n            bottom: \"0\",\n            width: \"100%!important\",\n            zIndex: \"2\",\n            backgroundColor: `${props.theme.backgroundColor.white}`,\n            transition: \"all .3s ease-out\",\n            ...sidebarView\n        }\n    }\n}\n\nexport const groupScreenMainStyle = (state, props) => {\n\n    const mq = [...props.theme.breakPoints];\n\n    return {\n        width: \"calc(100% - 280px)\",\n        height: \"100%\",\n        order: \"2\",\n        display: \"flex\",\n        flexDirection: \"row\",\n        [`@media ${mq[1]}, ${mq[2]}`]: {\n            width: \"100%\",\n        }\n    }\n}","import React from \"react\";\n/** @jsxRuntime classic */\n/** @jsx jsx */\nimport { jsx } from \"@emotion/core\";\nimport PropTypes from \"prop-types\";\nimport { CometChat } from \"@cometchat-pro/chat\";\n\nimport { CometChatGroupList } from \"../\";\nimport { CometChatMessages } from \"../../Messages\";\nimport { CometChatIncomingDirectCall } from \"../../Calls\";\n\nimport { CometChatContextProvider } from \"../../../util/CometChatContext\";\nimport * as enums from \"../../../util/enums.js\";\n\nimport { theme } from \"../../../resources/theme\";\nimport Translator from \"../../../resources/localization/translator\";\n\nimport {\n\tgroupScreenStyle,\n\tgroupScreenSidebarStyle,\n\tgroupScreenMainStyle,\n} from \"./style\"\n\nclass CometChatGroupListWithMessages extends React.Component {\n\n\tloggedInUser = null;\n\n\tconstructor(props) {\n\n\t\tsuper(props);\n\n\t\tthis.state = {\n\t\t\tsidebarview: false,\n\t\t}\n\n\t\tthis.groupListRef = React.createRef();\n\t}\n\n\tcomponentDidMount() {\n\n\t\tif (this.props.chatWithGroup.length === 0) {\n\t\t\tthis.toggleSideBar();\n\t\t}\n\t}\n\n\titemClicked = (group, type) => {\n\t\t\n\t\tthis.contextProviderRef.setTypeAndItem(type, group);\n\t\tthis.toggleSideBar()\n\t}\n\n\tactionHandler = (action, item, count, ...otherProps) => {\n\t\t\n\t\tswitch(action) {\n\t\t\tcase enums.ACTIONS[\"TOGGLE_SIDEBAR\"]:\n\t\t\t\tthis.toggleSideBar();\n\t\t\tbreak;\n\t\t\tcase enums.GROUP_MEMBER_SCOPE_CHANGED:\n\t\t\tcase enums.GROUP_MEMBER_KICKED:\n\t\t\tcase enums.GROUP_MEMBER_BANNED:\n\t\t\t\tthis.groupUpdated(action, item, count, ...otherProps);\n\t\t\t\tbreak;\n\t\t\tdefault:\n\t\t\tbreak;\n\t\t}\n\t}\n\n\ttoggleSideBar = () => {\n\n\t\tconst sidebarview = this.state.sidebarview;\n\t\tthis.setState({ sidebarview: !sidebarview });\n\t}\n\n\t/**\n\t If the logged in user is banned, kicked or scope changed, update the chat window accordingly\n\t*/\n\tgroupUpdated = (key, message, group, options) => {\n\t\t\n\t\tswitch(key) {\n\t\t\tcase enums.GROUP_MEMBER_BANNED:\n\t\t\tcase enums.GROUP_MEMBER_KICKED: {\n\n\t\t\t\tif (this.contextProviderRef.type === CometChat.ACTION_TYPE.TYPE_GROUP\n\t\t\t\t&& this.contextProviderRef.item.guid === group.guid\n\t\t\t\t&& options.user.uid === this.loggedInUser.uid) {\n\n\t\t\t\t\tthis.contextProviderRef.setItem({});\n\t\t\t\t\tthis.contextProviderRef.setType(\"\");\n\t\t\t\t}\n\t\t\t\tbreak;\n\t\t\t}\n\t\t\tcase enums.GROUP_MEMBER_SCOPE_CHANGED: {\n\t\t\t\t\n\t\t\t\tif (this.contextProviderRef.type === CometChat.ACTION_TYPE.TYPE_GROUP\n\t\t\t\t&& this.contextProviderRef.item.guid === group.guid\n\t\t\t\t&& options.user.uid === this.loggedInUser.uid) {\n\n\t\t\t\t\tconst newObject = Object.assign({}, this.contextProviderRef.item, {\"scope\": options[\"scope\"]})\n\t\t\t\t\tthis.contextProviderRef.setItem(newObject);\n\t\t\t\t\tthis.contextProviderRef.setType(CometChat.ACTION_TYPE.TYPE_GROUP);\n\n\t\t\t\t}\n\t\t\t\tbreak;\n\t\t\t}\n\t\t\tdefault:\n\t\t\tbreak;\n\t\t}\n\t}\n\n\trender() {\n\n\t\tlet messageScreen = (\n\t\t\t<CometChatMessages\n\t\t\ttheme={this.props.theme}\n\t\t\tlang={this.props.lang}\n\t\t\t_parent=\"groups\"\n\t\t\tactionGenerated={this.actionHandler} />\n\t\t);\n\n\t\treturn (\n\t\t\t<CometChatContextProvider ref={el => (this.contextProviderRef = el)} group={this.props.chatWithGroup} language={this.props.lang}>\n\t\t\t\t<div css={groupScreenStyle(this.props)} className=\"cometchat cometchat--groups\">\n\t\t\t\t\t<div css={groupScreenSidebarStyle(this.state, this.props)} className=\"groups__sidebar\">\n\t\t\t\t\t\t<CometChatGroupList ref={el => (this.groupListRef = el)} _parent=\"glwm\" theme={this.props.theme} lang={this.props.lang} onItemClick={this.itemClicked} actionGenerated={this.actionHandler} />\n\t\t\t\t\t</div>\n\t\t\t\t\t<div css={groupScreenMainStyle(this.state, this.props)} className=\"groups__main\">\n\t\t\t\t\t\t{messageScreen}\n\t\t\t\t\t</div>\n\t\t\t\t\t<CometChatIncomingDirectCall theme={this.props.theme} lang={this.props.lang} actionGenerated={this.actionHandler} />\n\t\t\t\t</div>\n\t\t\t</CometChatContextProvider>\n\t\t);\n\t}\n}\n\n// Specifies the default values for props:\nCometChatGroupListWithMessages.defaultProps = {\n\tlang: Translator.getDefaultLanguage(),\n\ttheme: theme,\n\tchatWithGroup: \"\",\n};\n\nCometChatGroupListWithMessages.propTypes = {\n\tlang: PropTypes.string,\n\ttheme: PropTypes.object,\n\tchatWithGroup: PropTypes.string,\n}\n\nexport { CometChatGroupListWithMessages };","export const modalWrapperStyle = (props, context) => {\n\n\tconst mq = [`@media (min-width : 320px) and (max-width: 767px)`];\n\treturn {\n\t\tminWidth: \"350px\",\n\t\tminHeight: \"450px\",\n\t\twidth: \"40%\",\n\t\theight: \"40%\",\n\t\toverflow: \"hidden\",\n\t\tbackgroundColor: `${context.theme.backgroundColor.white}`,\n\t\tposition: \"fixed\",\n\t\tleft: \"50%\",\n\t\ttop: \"50%\",\n\t\ttransform: \"translate(-50%, -50%)\",\n\t\tzIndex: \"1002\",\n\t\tmargin: \"0 auto\",\n\t\tboxShadow: \"rgba(20, 20, 20, 0.2) 0 16px 32px, rgba(20, 20, 20, 0.04) 0 0 0 1px\",\n\t\tborderRadius: \"12px\",\n\t\tdisplay: \"block\",\n\t\t[mq[0]]: {\n\t\t\twidth: \"100%\",\n\t\t\theight: \"100%\",\n\t\t},\n\t};\n};\n\nexport const modalCloseStyle = (img, context) => {\n\treturn {\n\t\tposition: \"absolute\",\n\t\twidth: \"32px\",\n\t\theight: \"32px\",\n\t\tborderRadius: \"50%\",\n\t\ttop: \"16px\",\n\t\tright: \"16px\",\n\t\tmask: `url(${img}) center center no-repeat`,\n\t\tbackgroundColor: `${context.theme.primaryColor}`,\n\t\tcursor: \"pointer\",\n\t};\n};\n\nexport const modalBodyStyle = () => {\n\treturn {\n\t\tpadding: \"24px\",\n\t\theight: \"100%\",\n\t\twidth: \"100%\",\n\t};\n};\n\nexport const modalCaptionStyle = dir => {\n\tconst textAlignStyle =\n\t\tdir === \"rtl\" ? {\n\t\t\ttextAlign: \"right\",\n\t\t\tpaddingRight: \"32px\",\n\t\t}\n\t\t: {\n\t\t\ttextAlign: \"left\",\n\t\t};\n\n\treturn {\n\t\tfontSize: \"20px\",\n\t\tmarginBottom: \"8px\",\n\t\tfontWeight: \"bold\",\n\t\t...textAlignStyle,\n\t\twidth: \"100%\",\n\t};\n};\n\nexport const modalErrorStyle = context => {\n\treturn {\n\t\tfontSize: \"12px\",\n\t\tcolor: `${context.theme.color.red}`,\n\t\ttextAlign: \"center\",\n\t\tpadding: \"8px 0\",\n\t\theight: \"31px\",\n\t\twidth: \"100%\",\n\t};\n};\n\nexport const modalListStyle = (context) => {\n\treturn {\n\t\twidth: \"100%\",\n\t\theight: \"calc(100% - 120px)\",\n\t\tdisplay: \"flex\",\n\t\tflexDirection: \"column\",\n\t\tjustifyContent: \"flex-start\",\n\t\talignItems: \"flex-start\",\n\t};\n};\n\nexport const listHeaderStyle = context => {\n\treturn {\n\t\tdisplay: \"flex\",\n\t\tflexDirection: \"row\",\n\t\tjustifyContent: \"flex-start\",\n\t\talignItems: \"center\",\n\t\tfontWeight: \"bold\",\n\t\tpadding: \"8px\",\n\t\twidth: \"100%\",\n\t\tborder: `1px solid ${context.theme.borderColor.primary}`,\n\t};\n};\n\nexport const listStyle = () => {\n\treturn {\n\t\tdisplay: \"flex\",\n\t\tflexDirection: \"column\",\n\t\tjustifyContent: \"flex-start\",\n\t\talignItems: \"flex-start\",\n\t\twidth: \"100%\",\n\t\theight: \"calc(100% - 100px)\",\n\t\toverflowY: \"auto\",\n\t};\n};\n\nexport const nameColumnStyle = (props, context) => {\n\n\tconst mq = context.theme.breakPoints.map(x => `@media ${x}`);\n\treturn {\n\t\twidth: \"calc(100% - 180px)\",\n\t\t[mq[1]]: {\n\t\t\twidth: \"calc(100% - 140px)\",\n\t\t},\n\t\t[mq[2]]: {\n\t\t\twidth: \"calc(100% - 180px)\",\n\t\t},\n\t\t[mq[3]]: {\n\t\t\twidth: \"calc(100% - 120px)\",\n\t\t},\n\t};\n};\n\nexport const scopeColumnStyle = (context) => {\n\n\tconst mq = context.theme.breakPoints.map(x => `@media ${x}`);\n\treturn {\n\t\twidth: \"180px\",\n\t\t[mq[1]]: {\n\t\t\twidth: \"140px\",\n\t\t},\n\t\t[mq[2]]: {\n\t\t\twidth: \"180px\",\n\t\t},\n\t\t[mq[3]]: {\n\t\t\twidth: \"120px\",\n\t\t},\n\t};\n};\n\n\n\nexport const modalFootStyle = (state, context, img) => {\n\n\tconst btnState = !state.newGroupOwner || state.transferringOwnership ? { \n\t\tdisabled: \"true\",\n\t\tpointerEvents: \"none\",\n\t} : {};\n\n\tconst loadingState = state.transferringOwnership ? {\n\t\tbackground: `url(${img}) no-repeat right 10px center ${context.theme.backgroundColor.blue}`,\n\t} : {};\n\n\tconst textMargin = state.transferringOwnership ? { marginRight: \"24px\" } : {};\n\n\treturn {\n\t\tpaddingTop: \"24px\",\n\t\ttextAlign: \"center\",\n\t\tbutton: {\n\t\t\tcursor: \"pointer\",\n\t\t\tpadding: \"8px 16px\",\n\t\t\tbackgroundColor: `${context.theme.backgroundColor.blue}`,\n\t\t\tborderRadius: \"5px\",\n\t\t\tcolor: `${context.theme.color.white}`,\n\t\t\tfontSize: \"14px\",\n\t\t\toutline: \"0\",\n\t\t\tborder: \"0\",\n\t\t\t...btnState,\n\t\t\t...loadingState,\n\t\t\tspan: {\n\t\t\t\t...textMargin,\n\t\t\t},\n\t\t},\n\t};\n};","export default __webpack_public_path__ + \"static/media/close.0b0b6f95.svg\";","export default __webpack_public_path__ + \"static/media/transferring.446449d0.svg\";","import React from \"react\";\n/** @jsxRuntime classic */\n/** @jsx jsx */\nimport { jsx } from \"@emotion/core\";\nimport { CometChat } from \"@cometchat-pro/chat\";\n\nimport { CometChatTransferOwnershipMemberListItem } from \"../\";\nimport { CometChatBackdrop } from \"../../Shared\";\n\nimport * as enums from \"../../../util/enums.js\";\nimport { CometChatContext } from \"../../../util/CometChatContext\";\n\nimport Translator from \"../../../resources/localization/translator\";\n\nimport {\n    modalWrapperStyle,\n    modalCloseStyle,\n    modalBodyStyle,\n    modalCaptionStyle,\n    modalListStyle,\n    listHeaderStyle,\n    listStyle,\n    nameColumnStyle,\n    scopeColumnStyle,\n\tmodalFootStyle,\n\tmodalErrorStyle\n} from \"./style\";\n\nimport clearIcon from \"./resources/close.svg\";\nimport transferIcon from \"./resources/transferring.svg\";\n\nclass CometChatTransferOwnershipMemberList extends React.Component {\n\tstatic contextType = CometChatContext;\n\n\tconstructor(props, context) {\n\t\tsuper(props, context);\n\n\t\tthis._isMounted = false;\n\t\tconst chatWindow = context.UIKitSettings.chatWindow;\n\t\tthis.mq = chatWindow.matchMedia(context.theme.breakPoints[1]);\n\n\t\tlet userColumnTitle = Translator.translate(\"NAME\", context.language);\n\t\tif (this.mq.matches) {\n\t\t\tuserColumnTitle = Translator.translate(\"AVATAR\", context.language);\n\t\t}\n\n\t\tthis.state = {\n\t\t\tuserColumnTitle: userColumnTitle,\n\t\t\tnewGroupOwner: null,\n\t\t\ttransferringOwnership: false,\n\t\t\terrorMessage: \"\",\n\t\t};\n\t}\n\n\tcomponentWillUnmount() {\n\t\tthis._isMounted = false;\n\t}\n\n\thandleScroll = e => {\n\t\tconst bottom = Math.round(e.currentTarget.scrollHeight - e.currentTarget.scrollTop) === Math.round(e.currentTarget.clientHeight);\n\t\tif (bottom) {\n\t\t\tthis.props.actionGenerated(enums.ACTIONS[\"FETCH_GROUP_MEMBERS\"]);\n\t\t}\n\t};\n\n\tupdateMembers = (action, member, scope) => {\n\t\tswitch (action) {\n\t\t\tcase enums.ACTIONS[\"CHANGE_OWNERSHIP_GROUP_MEMBER\"]:\n\t\t\t\tthis.changeOwnership(member, scope);\n\t\t\t\tbreak;\n\t\t\tdefault:\n\t\t\t\tbreak;\n\t\t}\n\t};\n\n\tupdateGroupOwner = member => {\n\t\tthis.setState({ newGroupOwner: member?.uid });\n\t};\n\n\ttransferOwnership = () => {\n\n\t\tconst guid = this.context?.item?.guid;\n\t\tconst uid = this.state.newGroupOwner;\n\n\t\tif (!guid || !uid) {\n\t\t\treturn false;\n\t\t}\n\n\t\tthis.setState({ transferringOwnership: true });\n\t\tCometChat.transferGroupOwnership(guid, uid).then(response => {\n\t\t\tthis.setState({ transferringOwnership: false });\n\t\t\tthis.props.actionGenerated(enums.ACTIONS[\"OWNERSHIP_TRANSFERRED\"], uid);\n\n\t\t}).catch(error => {\n\t\t\tthis.setState({ transferringOwnership: false, errorMessage: Translator.translate(\"SOMETHING_WRONG\", this.context.language) });\n\t\t});\n\t};\n\n\tchangeOwnership = () => {};\n\n\tsetUserColumnTitle = editAccess => {\n\t\tif (this._isMounted) {\n\t\t\tif (editAccess !== null && this.mq.matches) {\n\t\t\t\tthis.setState({ userColumnTitle: Translator.translate(\"AVATAR\", this.context.language) });\n\t\t\t} else {\n\t\t\t\tthis.setState({ userColumnTitle: Translator.translate(\"NAME\", this.context.language) });\n\t\t\t}\n\t\t}\n\t};\n\n\trender() {\n\n\t\tconst memberList = [...this.context.groupMembers];\n\t\tconst groupMembers = memberList\n\t\t\t.filter(member => member?.uid !== this.props?.loggedinuser?.uid)\n\t\t\t.map(member => {\n\t\t\t\treturn <CometChatTransferOwnershipMemberListItem loggedinuser={this.props.loggedinuser} key={member?.uid} checked={this.updateGroupOwner} member={member} actionGenerated={this.updateMembers} />;\n\t\t\t});\n\n\t\tlet transferBtn = null;\n\t\tif(memberList.length) {\n\n\t\t\tconst transferText = this.state.transferringOwnership ? Translator.translate(\"TRANSFERRING\", this.context.language) : Translator.translate(\"TRANSFER\", this.context.language);\n\t\t\ttransferBtn = (\n\t\t\t\t<div css={modalFootStyle(this.state, this.context, transferIcon)} className=\"modal__transferownership\">\n\t\t\t\t\t<button type=\"button\" onClick={this.transferOwnership}>\n\t\t\t\t\t\t<span>{transferText}</span>\n\t\t\t\t\t</button>\n\t\t\t\t</div>\n\t\t\t);\n\t\t}\n\n\t\treturn (\n\t\t\t<React.Fragment>\n\t\t\t\t<CometChatBackdrop show={true} clicked={this.props.close} />\n\t\t\t\t<div css={modalWrapperStyle(this.props, this.context)} className=\"modal__groupmembers\">\n\t\t\t\t\t<span css={modalCloseStyle(clearIcon, this.context)} className=\"modal__close\" onClick={this.props.close} title={Translator.translate(\"CLOSE\", this.context.language)}></span>\n\t\t\t\t\t<div css={modalBodyStyle()} className=\"modal__body\">\n\t\t\t\t\t\t<div css={modalCaptionStyle(Translator.getDirection(this.context.language))} className=\"modal__title\">{Translator.translate(\"GROUP_MEMBERS\", this.context.language)}</div>\n\t\t\t\t\t\t<div css={modalErrorStyle(this.context)} className=\"modal__error\">{this.state.errorMessage}</div>\n\t\t\t\t\t\t<div css={modalListStyle(this.context)} className=\"modal__content\">\n\t\t\t\t\t\t\t<div css={listHeaderStyle(this.context)} className=\"content__header\">\n\t\t\t\t\t\t\t\t<div css={nameColumnStyle(this.props, this.context)} className=\"name\">\n\t\t\t\t\t\t\t\t\t{this.state.userColumnTitle}\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t<div css={scopeColumnStyle(this.context)} className=\"scope\">\n\t\t\t\t\t\t\t\t\t{Translator.translate(\"SCOPE\", this.context.language)}\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<div css={listStyle()} className=\"content__list\" onScroll={this.handleScroll}>\n\t\t\t\t\t\t\t\t{groupMembers}\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t{transferBtn}\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</React.Fragment>\n\t\t);\n\t}\n}\n\nexport { CometChatTransferOwnershipMemberList };\n","export const modalRowStyle = (props, context) => {\n\treturn {\n\t\tdisplay: \"flex\",\n\t\twidth: \"100%\",\n\t\tfontSize: \"14px\",\n\t\tpadding: \"8px\",\n\t\tflexDirection: \"row\",\n\t\tjustifyContent: \"flex-start\",\n\t\talignItems: \"center\",\n\t\tborderLeft: `1px solid ${context.theme.borderColor.primary}`,\n\t\tborderRight: `1px solid ${context.theme.borderColor.primary}`,\n\t\tborderBottom: `1px solid ${context.theme.borderColor.primary}`,\n\t};\n};\n\nexport const modalColumnStyle = context => {\n\n\tconst mq = context.theme.breakPoints.map(x => `@media ${x}`);\n\treturn {\n\t\twidth: \"calc(100% - 180px)\",\n\t\t[mq[1]]: {\n\t\t\twidth: \"calc(100% - 140px)\",\n\t\t},\n\t\t[mq[2]]: {\n\t\t\twidth: \"calc(100% - 180px)\",\n\t\t},\n\t\t[mq[3]]: {\n\t\t\twidth: \"calc(100% - 120px)\",\n\t\t},\n\t};\n};\n\nexport const avatarStyle = () => {\n\treturn {\n\t\tdisplay: \"inline-block\",\n\t\tfloat: \"left\",\n\t\twidth: \"36px\",\n\t\theight: \"36px\",\n\t\tmarginRight: \"8px\",\n\t};\n};\n\nexport const nameStyle = () => {\n\treturn {\n\t\tmargin: \"10px\",\n\t\twidth: \"calc(100% - 50px)\",\n\t\toverflow: \"hidden\",\n\t\ttextOverflow: \"ellipsis\",\n\t\twhiteSpace: \"nowrap\",\n\t};\n};\n\nexport const selectionColumnStyle = context => {\n\n\tconst mq = context.theme.breakPoints.map(x => `@media ${x}`);\n\treturn {\n\t\twidth: \"180px\",\n\t\tdisplay: \"flex\",\n\t\tjustifyContent: \"flex-start\",\n\t\talignItems: \"center\",\n\t\t\"span\": {\n\t\t\tfontSize: \"12px\",\n\t\t\tdisplay: \"block\",\n\t\t\tpaddingRight: \"8px\",\n\t\t},\n\t\t[mq[1]]: {\n\t\t\twidth: \"140px\",\n\t\t},\n\t\t[mq[2]]: {\n\t\t\twidth: \"180px\",\n\t\t},\n\t\t[mq[3]]: {\n\t\t\twidth: \"120px\",\n\t\t},\n\t};\n\n};\n\nexport const selectionBoxStyle = (inactiveStateImg, activeStateImg, context) => {\n\treturn {\n\t\tdisplay: \"none\",\n\t\t\" + label\": {\n\t\t\tdisplay: \"block\",\n\t\t\tcursor: \"pointer\",\n\t\t\tmask: `url(${inactiveStateImg}) center center no-repeat`,\n\t\t\tbackgroundColor: `${context.theme.secondaryTextColor}`,\n\t\t\tuserSelect: \"none\",\n\t\t\tpadding: \"8px\",\n\t\t},\n\t\t\"&:checked + label\": {\n\t\t\tmask: `url(${activeStateImg}) center center no-repeat`,\n\t\t\tbackgroundColor: `${context.theme.secondaryTextColor}`,\n\t\t\tpadding: \"8px\",\n\t\t},\n\t};\n};","export default __webpack_public_path__ + \"static/media/group-member-unselect.ecb59147.svg\";","export default __webpack_public_path__ + \"static/media/group-member-select.301a1077.svg\";","import React from \"react\";\n/** @jsxRuntime classic */\n/** @jsx jsx */\nimport { jsx } from \"@emotion/core\";\n\nimport { CometChatContext } from \"../../../util/CometChatContext\";\nimport { CometChatAvatar, CometChatUserPresence } from \"../../Shared\";\n\nimport { modalRowStyle, modalColumnStyle, avatarStyle, nameStyle, selectionColumnStyle, selectionBoxStyle } from \"./style\";\n\nimport inactiveIcon from \"./resources/group-member-unselect.svg\";\nimport activeIcon from \"./resources/group-member-select.svg\";\n\nclass CometChatTransferOwnershipMemberListItem extends React.Component {\n\tstatic contextType = CometChatContext;\n\tconstructor(props, context) {\n\t\tsuper(props, context);\n\n\t\tthis.state = {\n\t\t\tisSelected: false,\n\t\t};\n\t}\n\n\thandleCheck = e => {\n\t\t\n\t\tthis.setState(this.toggleSelectedState);\n\t\tthis.props.checked(this.props.member);\n\t};\n\n\ttoggleSelectedState = state => {\n\t\treturn {\n\t\t\tisSelected: !state.isSelected,\n\t\t};\n\t};\n\n\ttoggleTooltip = (event, flag) => {\n\t\tconst elem = event.currentTarget;\n\t\tconst nameContainer = elem.lastChild;\n\n\t\tconst scrollWidth = nameContainer.scrollWidth;\n\t\tconst clientWidth = nameContainer.clientWidth;\n\n\t\tif (scrollWidth <= clientWidth) {\n\t\t\treturn false;\n\t\t}\n\n\t\tif (flag) {\n\t\t\tnameContainer.setAttribute(\"title\", nameContainer.textContent);\n\t\t} else {\n\t\t\tnameContainer.removeAttribute(\"title\");\n\t\t}\n\t};\n\n\trender() {\n\t\treturn (\n\t\t\t<div css={modalRowStyle(this.props, this.context)}>\n\t\t\t\t<div css={modalColumnStyle(this.context)} className=\"memberinfo\" onMouseEnter={event => this.toggleTooltip(event, true)} onMouseLeave={event => this.toggleTooltip(event, false)}>\n\t\t\t\t\t<div css={avatarStyle()} className=\"avatar\">\n\t\t\t\t\t\t<CometChatAvatar user={this.props.member} />\n\t\t\t\t\t\t<CometChatUserPresence status={this.props.member.status} />\n\t\t\t\t\t</div>\n\t\t\t\t\t<div css={nameStyle()} className=\"name\">\n\t\t\t\t\t\t{this.props.member.name}\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t\t<div css={selectionColumnStyle(this.context)} className=\"selection\">\n\t\t\t\t\t<span>{this.context.roles[this.props.member.scope]}</span>\n\t\t\t\t\t<input css={selectionBoxStyle(inactiveIcon, activeIcon, this.context)} type=\"radio\" name=\"transferOwnership\" checked={this.state.checked} id={this.props.member.uid + \"sel\"} onChange={this.handleCheck} />\n\t\t\t\t\t<label htmlFor={this.props.member.uid + \"sel\"}>&nbsp;</label>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t);\n\t}\n}\n\nexport { CometChatTransferOwnershipMemberListItem };","export const chatWrapperStyle = (props, state) => {\n\n\tlet borderStyle = {};\n\tif (props._parent.trim().length === 0) {\n\t\tif (state.viewdetailscreen || state.threadmessageview) {\n\t\t\tborderStyle = {\n\t\t\t\tborderLeft: `1px solid ${props.theme.borderColor.primary}`,\n\t\t\t\tborderBottom: `1px solid ${props.theme.borderColor.primary}`,\n\t\t\t};\n\t\t} else {\n\t\t\tborderStyle = {\n\t\t\t\tborderLeft: `1px solid ${props.theme.borderColor.primary}`,\n\t\t\t\tborderRight: `1px solid ${props.theme.borderColor.primary}`,\n\t\t\t\tborderBottom: `1px solid ${props.theme.borderColor.primary}`,\n\t\t\t};\n\t\t}\n\t}\n\n\tconst mq = [...props.theme.breakPoints];\n\n\tconst secondaryViewWidth = (state.threadmessageview || state.viewdetailscreen) ? {\n        width: \"calc(100% - 400px)\",\n        [`@media ${mq[1]}, ${mq[2]}`]: {\n            width: \"100%\",\n        },\n        [`@media ${mq[3]}, ${mq[4]}`]: {\n            width: \"0\",\n            display: \"none\",\n        },\n    } : {\n        width: \"100%\",\n    };\n\n\treturn {\n\t\tdisplay: \"flex\",\n\t\tflexDirection: \"column\",\n\t\theight: \"100%\",\n\t\tboxSizing: \"border-box\",\n\t\tposition: \"relative\",\n\t\tfontFamily: `${props.theme.fontFamily}`,\n\t\t...borderStyle,\n\t\t...secondaryViewWidth,\n\t\t\"*\": {\n\t\t\tboxSizing: \"border-box\",\n\t\t\tfontFamily: `${props.theme.fontFamily}`,\n\t\t\t\"::-webkit-scrollbar\": {\n\t\t\t\twidth: \"8px\",\n\t\t\t\theight: \"4px\",\n\t\t\t},\n\t\t\t\"::-webkit-scrollbar-track\": {\n\t\t\t\tbackground: \"#ffffff00\",\n\t\t\t},\n\t\t\t\"::-webkit-scrollbar-thumb\": {\n\t\t\t\tbackground: \"#ccc\",\n\t\t\t\t\"&:hover\": {\n\t\t\t\t\tbackground: \"#aaa\",\n\t\t\t\t},\n\t\t\t},\n\t\t},\n\t};\n};\n\nexport const chatSecondaryStyle = (props) => {\n\n    const borderStyle = (props._parent.trim().length === 0) ? {\n        borderRight: `1px solid ${props.theme.borderColor.primary}`,\n        borderBottom: `1px solid ${props.theme.borderColor.primary}`\n    } : {};\n\n    const mq = [...props.theme.breakPoints];\n\n    return {\n        float: \"right\",\n        borderLeft: `1px solid ${props.theme.borderColor.primary}`,\n        height: \"100%\",\n        width: \"400px\",\n        display: \"flex\",\n        flexDirection: \"column\",\n        order: \"3\",\n        ...borderStyle,\n        [`@media ${mq[1]}, ${mq[2]}, ${mq[3]}, ${mq[4]}`]: {\n            position: \"absolute!important\",\n            right: \"0!important\",\n            top: \"0\",\n            bottom: \"0\",\n            width: \"100%!important\",\n            zIndex: \"2\",\n            backgroundColor: `${props.theme.backgroundColor.white}`,\n        }\n    }\n}\n\nexport const reactionsWrapperStyle = () => {\n\n    return {\n        position: \"absolute\", \n        width: \"100%\", \n        height: \"100%\", \n        top: \"0\", \n        right: \"0\",\n        zIndex: \"2\",\n        display: \"flex\",\n        justifyContent: \"left\",\n        alignItems: \"center\"\n    }\n}\n\n\nexport const messagePaneTopStyle = () => {\n\n    return {\n        top: \"75px\",\n        position: \"absolute\",\n        width: \"auto\",\n        right: \"auto\",\n        left: \"50%\",\n        fontWeight: \"700\",\n        zIndex: \"200\",\n        transform: \"translateX(-50%)\",\n    }\n}\n\nexport const messagePaneBannerStyle = props => {\n\n\treturn {\n\t\tmarginBottom: \"0\",\n\t\tdisplay: \"block\",\n\t\tfontSize: \"13px\",\n\t\tflex: \"1\",\n\t\tbackground: `${props.theme.color.blue}`,\n\t\tborderRadius: \"6px\",\n\t\tzIndex: 200,\n\t};\n};\n\nexport const messagePaneUnreadBannerStyle = () => {\n\n    return {\n        height: \"28px\",\n        borderRadius: \"14px\",\n        display: \"flex\",\n        flex: \"1\",\n        alignItems: \"center\",\n    }\n}\n\nexport const messagePaneUnreadBannerMessageStyle = props => {\n\n\treturn {\n\t\tpadding: \"0 16px\",\n\t\tflex: \"1\",\n\t\ttextAlign: \"center\",\n\t\ttextShadow: \"0 1px rgba(0, 0, 0, .15)\",\n\t\twhiteSpace: \"nowrap\",\n\t\toverflow: \"hidden\",\n\t\ttextOverflow: \"ellipsis\",\n\t\tcolor: `${props.theme.color.white}`,\n\t};\n};\n\nexport const iconArrowDownStyle = () => {\n\n    return {\n        position: \"relative\",\n        display: \"inline-flex\",\n        height: \"20px\",\n        alignItems: \"center\",\n        justifyContent: \"center\",\n        paddingRight: \"8px\",\n    }\n}\n\nexport const chatContainerStyle = () => {\n\n    return {\n        display: \"flex\", \n        width: \"100%\", \n        height: \"100%\"\n    }\n}","import React from \"react\";\n/** @jsxRuntime classic */\n/** @jsx jsx */\nimport {jsx} from \"@emotion/core\";\nimport PropTypes from \"prop-types\";\nimport {CometChat} from \"@cometchat-pro/chat\";\n\nimport {\n\tCometChatMessageHeader, \n\tCometChatMessageList, \n\tCometChatMessageComposer, \n\tCometChatLiveReactions, \n\tCometChatMessageThread, \n\tCometChatImageViewer,\n\tCometChatBlockedUser\n} from \"../\";\n\nimport {\n\tCometChatIncomingCall, \n\tCometChatOutgoingCall, \n\tCometChatOutgoingDirectCall, \n\tCometChatIncomingDirectCall\n} from \"../../Calls\";\n\nimport {CometChatUserDetails} from \"../../Users\";\nimport {CometChatGroupDetails} from \"../../Groups\";\nimport { CometChatToastNotification } from \"../../Shared\";\n\nimport {CometChatContextProvider, CometChatContext} from \"../../../util/CometChatContext\";\nimport * as enums from \"../../../util/enums.js\";\nimport {checkMessageForExtensionsData} from \"../../../util/common\";\nimport {SoundManager} from \"../../../util/SoundManager\";\nimport { CometChatEvent } from \"../../../util/CometChatEvent\";\n\nimport {theme} from \"../../../resources/theme\";\nimport Translator from \"../../../resources/localization/translator\";\n\nimport {\n\tchatWrapperStyle, \n\tchatSecondaryStyle, \n\treactionsWrapperStyle, \n\tmessagePaneTopStyle, \n\tmessagePaneBannerStyle, \n\tmessagePaneUnreadBannerStyle, \n\tmessagePaneUnreadBannerMessageStyle, \n\ticonArrowDownStyle, \n\tchatContainerStyle\n} from \"./style\";\n\nclass CometChatMessages extends React.PureComponent {\n\tstatic contextType = CometChatContext;\n\n\tconstructor(props) {\n\n\t\tsuper(props);\n\n\t\tCometChat.getLoggedinUser()\n\t\t\t.then(user => (this.loggedInUser = user))\n\t\t\t.catch(error => this.errorHandler(\"SOMETHING_WRONG\"));\n\n\t\tthis.state = {\n\t\t\tmessageList: [],\n\t\t\tscrollToBottom: true,\n\t\t\tmessageToBeEdited: \"\",\n\t\t\treplyPreview: null,\n\t\t\tliveReaction: false,\n\t\t\tmessageToReact: null,\n\t\t\tunreadMessages: [],\n\t\t\tviewdetailscreen: false,\n\t\t\tthreadmessageview: false,\n\t\t\tthreadmessagetype: null,\n\t\t\tthreadmessageitem: {},\n\t\t\tthreadmessageparent: {},\n\t\t\tviewOriginalImage: false,\n\t\t\tenableGroupActionMessages: false,\n\t\t\tenableCallActionMessages: false,\n\t\t\tenableSendingOneOnOneMessage: false,\n\t\t\tenableSendingGroupMessage: false,\n\t\t\tenableHideDeletedMessages: false,\n\t\t};\n\n\t\tthis.contextProviderRef = React.createRef();\n\t\tthis.composerRef = React.createRef();\n\t\tthis.messageListRef = React.createRef();\n\t\tthis.outgoingCallRef = React.createRef();\n\t\tthis.outgoingDirectCallRef = React.createRef();\n\t\tthis.toastRef = React.createRef();\n\n\t\tthis.reactionName = \"heart\";\n\t}\n\n\tcomponentDidMount() {\n\t\t\n\n\t\tthis.type = this.getContext().type;\n\t\tthis.item = this.getContext().item;\n\n\t\tthis.enableGroupActionMessages();\n\t\tthis.enableCallActionMessages();\n\t\tthis.enableSendingOneOnOneMessage();\n\t\tthis.enableSendingGroupMessage();\n\t\tthis.enableHideDeletedMessages();\n\t}\n\n\tcomponentDidUpdate(prevProps, prevState) {\n\t\t\n\t\tif (Object.keys(this.item).length) {\n\t\t\tconst ifChatWindowChanged = () => {\n\t\t\t\tlet output = false;\n\n\t\t\t\tif (this.getContext().type === CometChat.ACTION_TYPE.TYPE_USER && (this.getContext().item.uid !== this.item.uid || this.getContext().item.blockedByMe !== this.item.blockedByMe)) {\n\t\t\t\t\toutput = true;\n\t\t\t\t} else if (this.getContext().type === CometChat.ACTION_TYPE.TYPE_GROUP && this.getContext().item.guid !== this.item.guid) {\n\t\t\t\t\toutput = true;\n\t\t\t\t} else if (this.type !== this.getContext().type) {\n\t\t\t\t\toutput = true;\n\t\t\t\t}\n\n\t\t\t\treturn output;\n\t\t\t};\n\n\t\t\tif (ifChatWindowChanged() === true) {\n\t\t\t\tthis.setState({ messageList: [], scrollToBottom: true, messageToBeEdited: \"\", threadmessageview: false, viewdetailscreen: false, unreadMessages: [] });\n\t\t\t}\n\t\t}\n\n\t\tthis.type = this.getContext().type;\n\t\tthis.item = this.getContext().type === CometChat.ACTION_TYPE.TYPE_USER || CometChat.ACTION_TYPE.TYPE_GROUP ? this.getContext().item : {};\n\n\t\tthis.enableGroupActionMessages();\n\t\tthis.enableCallActionMessages();\n\t\tthis.enableSendingOneOnOneMessage();\n\t\tthis.enableSendingGroupMessage();\n\t\tthis.enableHideDeletedMessages();\n\n\t\t/**\n\t\t * Custom message to be appended or updated for direct calling\n\t\t */\n\t\tif (Object.keys(this.props.widgetsettings).length) {\n\t\t\tif (\n\t\t\t\tObject.keys(this.getContext().directCallCustomMessage).length &&\n\t\t\t\tthis.getContext().directCallCustomMessageAction.trim().length &&\n\t\t\t\t(this.getContext().directCallCustomMessage !== this.directCallCustomMessage || this.getContext().directCallCustomMessageAction !== this.directCallCustomMessageAction)\n\t\t\t) {\n\t\t\t\tconst customMessage = this.getContext().directCallCustomMessage;\n\t\t\t\tconst messageAction = this.getContext().directCallCustomMessageAction.trim();\n\n\t\t\t\tswitch (messageAction) {\n\t\t\t\t\tcase enums.ACTIONS[\"MESSAGE_COMPOSED\"]:\n\t\t\t\t\t\tthis.appendMessage(customMessage);\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase enums.ACTIONS[\"MESSAGE_SENT\"]:\n\t\t\t\t\tcase enums.ACTIONS[\"ERROR_IN_SENDING_MESSAGE\"]: {\n\t\t\t\t\t\tthis.messageSent(customMessage);\n\t\t\t\t\t\t//this.getContext().setLastMessage(customMessage[0]);\n\t\t\t\t\t\tCometChatEvent.triggerHandler(\"updateLastMessage\", { ...customMessage[0] });\n\t\t\t\t\t\tsetTimeout(() => {\n\t\t\t\t\t\t\tthis.getContext().setDirectCallCustomMessage({}, \"\");\n\t\t\t\t\t\t}, 1000);\n\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\t\t\t\t\tdefault:\n\t\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tthis.directCallCustomMessage = this.getContext().directCallCustomMessage;\n\t\t\tthis.directCallCustomMessageAction = this.getContext().directCallCustomMessageAction.trim();\n\t\t}\n\t}\n\n\tenableGroupActionMessages = () => {\n\t\tthis.getContext()\n\t\t\t.FeatureRestriction.isGroupActionMessagesEnabled()\n\t\t\t.then(response => {\n\t\t\t\t/**\n\t\t\t\t * Don't update state if the response has the same value\n\t\t\t\t */\n\t\t\t\tif (response !== this.state.enableGroupActionMessages) {\n\t\t\t\t\tthis.setState({ enableGroupActionMessages: response });\n\t\t\t\t}\n\t\t\t})\n\t\t\t.catch(error => {\n\t\t\t\tif (this.state.enableGroupActionMessages !== false) {\n\t\t\t\t\tthis.setState({ enableGroupActionMessages: false });\n\t\t\t\t}\n\t\t\t});\n\t};\n\n\tenableCallActionMessages = () => {\n\t\tthis.getContext()\n\t\t\t.FeatureRestriction.isCallActionMessagesEnabled()\n\t\t\t.then(response => {\n\t\t\t\t/**\n\t\t\t\t * Don't update state if the response has the same value\n\t\t\t\t */\n\t\t\t\tif (response !== this.state.enableCallActionMessages) {\n\t\t\t\t\tthis.setState({ enableCallActionMessages: response });\n\t\t\t\t}\n\t\t\t})\n\t\t\t.catch(error => {\n\t\t\t\tif (this.state.enableCallActionMessages !== false) {\n\t\t\t\t\tthis.setState({ enableCallActionMessages: false });\n\t\t\t\t}\n\t\t\t});\n\t};\n\n\tenableSendingOneOnOneMessage = () => {\n\t\tthis.getContext()\n\t\t\t.FeatureRestriction.isOneOnOneChatEnabled()\n\t\t\t.then(response => {\n\t\t\t\tif (response !== this.state.enableSendingOneOnOneMessage) {\n\t\t\t\t\tthis.setState({ enableSendingOneOnOneMessage: response });\n\t\t\t\t}\n\t\t\t})\n\t\t\t.catch(error => {\n\t\t\t\tif (this.state.enableSendingOneOnOneMessage !== false) {\n\t\t\t\t\tthis.setState({ enableSendingOneOnOneMessage: false });\n\t\t\t\t}\n\t\t\t});\n\t};\n\n\tenableSendingGroupMessage = () => {\n\t\tthis.getContext()\n\t\t\t.FeatureRestriction.isGroupChatEnabled()\n\t\t\t.then(response => {\n\t\t\t\tif (response !== this.state.enableSendingGroupMessage) {\n\t\t\t\t\tthis.setState({ enableSendingGroupMessage: response });\n\t\t\t\t}\n\t\t\t})\n\t\t\t.catch(error => {\n\t\t\t\tif (this.state.enableSendingGroupMessage !== false) {\n\t\t\t\t\tthis.setState({ enableSendingGroupMessage: false });\n\t\t\t\t}\n\t\t\t});\n\t};\n\n\tenableHideDeletedMessages = () => {\n\t\tthis.getContext()\n\t\t\t.FeatureRestriction.isHideDeletedMessagesEnabled()\n\t\t\t.then(response => {\n\t\t\t\tif (response !== this.state.enableHideDeletedMessages) {\n\t\t\t\t\tthis.setState({ enableHideDeletedMessages: response });\n\t\t\t\t}\n\t\t\t})\n\t\t\t.catch(error => {\n\t\t\t\tif (this.state.enableHideDeletedMessages !== false) {\n\t\t\t\t\tthis.setState({ enableHideDeletedMessages: false });\n\t\t\t\t}\n\t\t\t});\n\t};\n\n\tgetContext = () => {\n\t\tif (this.props._parent.length) {\n\t\t\treturn this.context;\n\t\t} else {\n\t\t\treturn this.contextProviderRef.state;\n\t\t}\n\t};\n\n\tactionHandler = (action, messages, key, group, options) => {\n\n\t\tswitch (action) \n\t\t{\n\t\t\tcase enums.ACTIONS[\"CUSTOM_MESSAGE_RECEIVED\"]:\n\t\t\tcase enums.ACTIONS[\"MESSAGE_RECEIVED\"]:\n\t\t\t\t{\n\t\t\t\t\tconst message = messages[0];\n\t\t\t\t\tif (message.parentMessageId) {\n\t\t\t\t\t\tthis.updateReplyCount(messages);\n\t\t\t\t\t} else {\n\t\t\t\t\t\tthis.smartReplyPreview(messages);\n\t\t\t\t\t\tthis.appendMessage(messages);\n\t\t\t\t\t}\n\n\t\t\t\t\tSoundManager.play(enums.CONSTANTS.AUDIO[\"INCOMING_MESSAGE\"], this.getContext());\n\t\t\t\t}\n\t\t\t\tbreak;\n\t\t\tcase enums.ACTIONS[\"MESSAGE_READ\"]: {\n\t\t\t\tif (this.props?.actionGenerated) {\n\t\t\t\t\tthis.props?.actionGenerated(action, messages);\n\t\t\t\t}\n\n\t\t\t\tbreak;\n\t\t\t}\n\t\t\tcase enums.ACTIONS[\"MESSAGE_COMPOSED\"]: {\n\t\t\t\tthis.appendMessage(messages);\n\t\t\t\tbreak;\n\t\t\t}\n\t\t\tcase enums.ACTIONS[\"MESSAGE_SENT\"]:\n\t\t\t\tthis.messageSent(messages);\n\t\t\t\tCometChatEvent.triggerHandler(\"updateLastMessage\", { ...messages[0] });\n\t\t\t\t//this.getContext().setLastMessage(messages[0]);\n\t\t\t\tbreak;\n\t\t\tcase enums.ACTIONS[\"ERROR_IN_SENDING_MESSAGE\"]:\n\t\t\t\tthis.messageSent(messages);\n\t\t\t\tbreak;\n\t\t\tcase enums.ACTIONS[\"ON_MESSAGE_READ_DELIVERED\"]:\n\t\t\t\tthis.updateMessages(messages);\n\t\t\t\tbreak;\n\t\t\tcase enums.ACTIONS[\"ON_MESSAGE_EDITED\"]: {\n\t\t\t\tthis.updateMessages(messages);\n\t\t\t\t//update the parent message of thread message\n\t\t\t\tthis.updateParentThreadedMessage(key, \"edit\");\n\t\t\t\tbreak;\n\t\t\t}\n\t\t\tcase enums.ACTIONS[\"ON_MESSAGE_DELETED\"]: {\n\t\t\t\tthis.removeMessages(messages);\n\t\t\t\t//remove the thread message\n\t\t\t\tthis.updateParentThreadedMessage(messages[0], \"delete\");\n\t\t\t\tbreak;\n\t\t\t}\n\t\t\tcase enums.ACTIONS[\"MESSAGES_FETCHED\"]:\n\t\t\t\tthis.prependMessages(messages);\n\t\t\t\tbreak;\n\t\t\tcase enums.ACTIONS[\"MESSAGES_INITIAL_FETCH\"]:\n\t\t\t\tthis.prependMessagesAndScrollToBottom(messages);\n\t\t\t\tbreak;\n\t\t\tcase enums.ACTIONS[\"REFRESHING_MESSAGES\"]:\n\t\t\t\tthis.refreshingMessages();\n\t\t\t\tbreak;\n\t\t\tcase enums.ACTIONS[\"MESSAGES_REFRESHED\"]:\n\t\t\t\tthis.messageRefreshed(messages);\n\t\t\t\tbreak;\n\t\t\tcase enums.ACTIONS[\"NEW_MESSAGES\"]:\n\t\t\t\tthis.newMessagesArrived(messages);\n\t\t\t\tbreak;\n\t\t\tcase enums.ACTIONS[\"CLEAR_UNREAD_MESSAGES\"]:\n\t\t\t\tthis.jumpToMessages(true);\n\t\t\t\tbreak;\n\t\t\tcase enums.ACTIONS[\"DELETE_MESSAGE\"]:\n\t\t\t\tthis.deleteMessage(messages);\n\t\t\t\tbreak;\n\t\t\tcase enums.ACTIONS[\"EDIT_MESSAGE\"]:\n\t\t\t\tthis.editMessage(messages);\n\t\t\t\tbreak;\n\t\t\tcase enums.ACTIONS[\"MESSAGE_EDITED\"]:\n\t\t\t\tthis.messageEdited(messages);\n\t\t\t\tbreak;\n\t\t\tcase enums.ACTIONS[\"CLEAR_EDIT_PREVIEW\"]:\n\t\t\t\tthis.clearEditPreview();\n\t\t\t\tbreak;\n\t\t\tcase enums.GROUP_MEMBER_SCOPE_CHANGED:\n\t\t\tcase enums.GROUP_MEMBER_KICKED:\n\t\t\tcase enums.GROUP_MEMBER_BANNED:\n\t\t\tcase enums.GROUP_MEMBER_UNBANNED:\n\t\t\tcase enums.GROUP_MEMBER_ADDED:\n\t\t\tcase enums.GROUP_MEMBER_LEFT:\n\t\t\tcase enums.GROUP_MEMBER_JOINED:\n\t\t\t\tthis.groupUpdated(action, messages, group, options);\n\t\t\t\tbreak;\n\t\t\tcase enums.INCOMING_CALL_RECEIVED:\n\t\t\tcase enums.INCOMING_CALL_CANCELLED:\n\t\t\tcase enums.OUTGOING_CALL_ACCEPTED:\n\t\t\tcase enums.OUTGOING_CALL_REJECTED:\n\t\t\t\tthis.appendCallMessage(messages);\n\t\t\t\tbreak;\n\t\t\tcase enums.ACTIONS[\"VIEW_ORIGINAL_IMAGE\"]:\n\t\t\t\tthis.toggleOriginalImageView(messages);\n\t\t\t\tbreak;\n\t\t\tcase enums.ACTIONS[\"INITIATE_AUDIO_CALL\"]:\n\t\t\t\tthis.audioCall();\n\t\t\t\tbreak;\n\t\t\tcase enums.ACTIONS[\"INITIATE_VIDEO_CALL\"]:\n\t\t\t\tthis.videoCall();\n\t\t\t\tbreak;\n\t\t\tcase enums.ACTIONS[\"VIEW_DETAIL\"]:\n\t\t\tcase enums.ACTIONS[\"CLOSE_GROUP_DETAIL\"]:\n\t\t\tcase enums.ACTIONS[\"CLOSE_USER_DETAIL\"]:\n\t\t\t\tthis.toggleDetailView();\n\t\t\t\tbreak;\n\t\t\tcase enums.ACTIONS[\"TOGGLE_SIDEBAR\"]:\n\t\t\t\tthis.toggleDetailView();\n\t\t\t\tthis.props.actionGenerated(action);\n\t\t\t\tbreak;\n\t\t\tcase enums.ACTIONS[\"SEND_LIVE_REACTION\"]:\n\t\t\t\tthis.toggleReaction(true);\n\t\t\t\tbreak;\n\t\t\tcase enums.ACTIONS[\"STOP_LIVE_REACTION\"]:\n\t\t\t\tthis.toggleReaction(false);\n\t\t\t\tbreak;\n\t\t\tcase enums.TRANSIENT_MESSAGE_RECEIVED:\n\t\t\t\tthis.liveReactionReceived(messages);\n\t\t\t\tbreak;\n\t\t\tcase enums.ACTIONS[\"REACT_TO_MESSAGE\"]:\n\t\t\t\tthis.reactToMessage(messages);\n\t\t\t\tbreak;\n\t\t\tcase enums.ACTIONS[\"OUTGOING_CALL_ACCEPTED\"]:\n\t\t\tcase enums.ACTIONS[\"USER_JOINED_CALL\"]:\n\t\t\tcase enums.ACTIONS[\"USER_LEFT_CALL\"]:\n\t\t\tcase enums.ACTIONS[\"OUTGOING_CALL_ENDED\"]:\n\t\t\tcase enums.ACTIONS[\"OUTGOING_CALL_REJECTED\"]:\n\t\t\tcase enums.ACTIONS[\"OUTGOING_CALL_CANCELLED\"]:\n\t\t\tcase enums.ACTIONS[\"INCOMING_CALL_ACCEPTED\"]:\n\t\t\tcase enums.ACTIONS[\"INCOMING_CALL_ENDED\"]:\n\t\t\tcase enums.ACTIONS[\"INCOMING_CALL_REJECTED\"]:\n\t\t\tcase enums.ACTIONS[\"DIRECT_CALL_ENDED\"]:\n\t\t\tcase enums.ACTIONS[\"DIRECT_CALL_ERROR\"]:\n\t\t\t\tbreak;\n\t\t\tcase enums.ACTIONS[\"JOIN_DIRECT_CALL\"]: {\n\t\t\t\t//if used in a chat widget, trigger the event to the app component as directcall component is included outside of iframe\n\t\t\t\tif (Object.keys(this.props.widgetsettings).length) {\n\t\t\t\t\tthis.props.actionGenerated(action, messages);\n\t\t\t\t} else {\n\t\t\t\t\tconst sessionID = this.getContext().type === CometChat.ACTION_TYPE.TYPE_GROUP ? this.getContext().item.guid : null;\n\t\t\t\t\tthis.outgoingDirectCallRef.joinCall(sessionID);\n\t\t\t\t}\n\n\t\t\t\tbreak;\n\t\t\t}\n\t\t\tcase enums.ACTIONS[\"VIEW_THREADED_MESSAGE\"]:\n\t\t\t\tthis.viewThreadedMessage(messages);\n\t\t\t\tbreak;\n\t\t\tcase enums.ACTIONS[\"THREAD_MESSAGE_COMPOSED\"]:\n\t\t\t\tthis.threadMessageComposed(messages);\n\t\t\t\tbreak;\n\t\t\tcase enums.ACTIONS[\"CLOSE_THREADED_MESSAGE\"]:\n\t\t\t\tthis.closeThreadedMessage();\n\t\t\t\tbreak;\n\t\t\tcase enums.ACTIONS[\"ADD_GROUP_MEMBER_SUCCESS\"]:\n\t\t\t\tthis.appendMemberAddedMessage(messages);\n\t\t\t\tbreak;\n\t\t\tcase enums.ACTIONS[\"UNBAN_GROUP_MEMBER_SUCCESS\"]:\n\t\t\t\tthis.appendMemberUnbannedMessage(messages);\n\t\t\t\tbreak;\n\t\t\tcase enums.ACTIONS[\"SCOPECHANGE_GROUPMEMBER_SUCCESS\"]:\n\t\t\t\tthis.appendMemberScopeChangedMessage(messages);\n\t\t\t\tbreak;\n\t\t\tcase enums.ACTIONS[\"KICK_GROUPMEMBER_SUCCESS\"]:\n\t\t\t\tthis.appendMemberKickedMessage(messages);\n\t\t\t\tbreak;\n\t\t\tcase enums.ACTIONS[\"BAN_GROUPMEMBER_SUCCESS\"]:\n\t\t\t\tthis.appendMemberBannedMessage(messages);\n\t\t\t\tbreak;\n\t\t\tcase enums.ACTIONS[\"ERROR\"]:\n\t\t\t\tthis.errorHandler(key);\n\t\t\t\tbreak;\n\t\t\tcase enums.ACTIONS[\"INFO\"]:\n\t\t\t\tthis.infoMessageHandler(key);\n\t\t\t\tbreak;\n\t\t\tdefault:\n\t\t\t\tbreak;\n\t\t}\n\t};\n\n\terrorHandler = errorCode => {\n\t\tif (typeof this.toastRef.setError === \"function\") {\n\t\t\tthis.toastRef?.setError(errorCode);\n\t\t}\n\t};\n\n\tinfoMessageHandler = infoCode => {\n\t\tif (typeof this.toastRef.setInfo === \"function\") {\n\t\t\tthis.toastRef?.setInfo(infoCode);\n\t\t}\n\t};\n\n\tappendMemberAddedMessage = messages => {\n\t\t//if group action messages are disabled\n\t\tif (this.state.enableGroupActionMessages === false) {\n\t\t\treturn false;\n\t\t}\n\n\t\tconst messageList = [];\n\t\tmessages.forEach(eachMember => {\n\t\t\tconst sentAt = (new Date() / 1000) | 0;\n\t\t\tconst messageObj = {\n\t\t\t\treceiver: { ...this.context.item },\n\t\t\t\treceiverId: this.context.item.guid,\n\t\t\t\treceiverType: CometChat.RECEIVER_TYPE.GROUP,\n\t\t\t\tsender: { ...this.loggedInUser },\n\t\t\t\tcategory: CometChat.CATEGORY_ACTION,\n\t\t\t\ttype: CometChat.ACTION_TYPE.TYPE_GROUP_MEMBER,\n\t\t\t\tsentAt: sentAt,\n\t\t\t\taction: CometChat.ACTION_TYPE.MEMBER_ADDED,\n\t\t\t\tactionBy: { ...this.loggedInUser },\n\t\t\t\tactionOn: { ...eachMember },\n\t\t\t\tactionFor: { ...this.context.item },\n\t\t\t};\n\n\t\t\tmessageList.push(messageObj);\n\t\t});\n\n\t\tthis.appendMessage(messageList);\n\t};\n\n\tappendMemberUnbannedMessage = messages => {\n\t\t//if group action messages are disabled\n\t\tif (this.state.enableGroupActionMessages === false) {\n\t\t\treturn false;\n\t\t}\n\n\t\tconst messageList = [];\n\t\tmessages.forEach(eachMember => {\n\t\t\tconst sentAt = (new Date() / 1000) | 0;\n\t\t\tconst messageObj = {\n\t\t\t\treceiver: { ...this.context.item },\n\t\t\t\treceiverId: this.context.item.guid,\n\t\t\t\treceiverType: CometChat.RECEIVER_TYPE.GROUP,\n\t\t\t\tsender: { ...this.loggedInUser },\n\t\t\t\tcategory: CometChat.CATEGORY_ACTION,\n\t\t\t\ttype: CometChat.ACTION_TYPE.TYPE_GROUP_MEMBER,\n\t\t\t\tsentAt: sentAt,\n\t\t\t\taction: CometChat.ACTION_TYPE.MEMBER_UNBANNED,\n\t\t\t\tactionBy: { ...this.loggedInUser },\n\t\t\t\tactionOn: { ...eachMember },\n\t\t\t};\n\n\t\t\tmessageList.push(messageObj);\n\t\t});\n\n\t\tthis.appendMessage(messageList);\n\t};\n\n\tappendMemberScopeChangedMessage = messages => {\n\t\t//if group action messages are disabled\n\t\tif (this.state.enableGroupActionMessages === false) {\n\t\t\treturn false;\n\t\t}\n\n\t\tconst messageList = [];\n\t\tmessages.forEach(eachMember => {\n\t\t\tconst newScope = Translator.translate(eachMember.scope, this.props.lang);\n\n\t\t\tconst sentAt = (new Date() / 1000) | 0;\n\t\t\tconst messageObj = {\n\t\t\t\treceiver: { ...this.context.item },\n\t\t\t\treceiverId: this.context.item.guid,\n\t\t\t\treceiverType: CometChat.RECEIVER_TYPE.GROUP,\n\t\t\t\tsender: { ...this.loggedInUser },\n\t\t\t\tcategory: CometChat.CATEGORY_ACTION,\n\t\t\t\ttype: CometChat.ACTION_TYPE.TYPE_GROUP_MEMBER,\n\t\t\t\tsentAt: sentAt,\n\t\t\t\taction: CometChat.ACTION_TYPE.MEMBER_SCOPE_CHANGED,\n\t\t\t\tactionBy: { ...this.loggedInUser },\n\t\t\t\tactionOn: { ...eachMember },\n\t\t\t\tnewScope: newScope,\n\t\t\t};\n\t\t\tmessageList.push(messageObj);\n\t\t});\n\n\t\tthis.appendMessage(messageList);\n\t};\n\n\tappendMemberKickedMessage = messages => {\n\t\t//if group action messages are disabled\n\t\tif (this.state.enableGroupActionMessages === false) {\n\t\t\treturn false;\n\t\t}\n\n\t\tconst messageList = [];\n\t\tmessages.forEach(eachMember => {\n\t\t\tconst sentAt = (new Date() / 1000) | 0;\n\t\t\tconst messageObj = {\n\t\t\t\treceiver: { ...this.context.item },\n\t\t\t\treceiverId: this.context.item.guid,\n\t\t\t\treceiverType: CometChat.RECEIVER_TYPE.GROUP,\n\t\t\t\tsender: { ...this.loggedInUser },\n\t\t\t\tcategory: CometChat.CATEGORY_ACTION,\n\t\t\t\ttype: CometChat.ACTION_TYPE.TYPE_GROUP_MEMBER,\n\t\t\t\tsentAt: sentAt,\n\t\t\t\taction: CometChat.ACTION_TYPE.MEMBER_KICKED,\n\t\t\t\tactionBy: { ...this.loggedInUser },\n\t\t\t\tactionOn: { ...eachMember },\n\t\t\t\tactionFor: { ...this.context.item },\n\t\t\t};\n\t\t\tmessageList.push(messageObj);\n\t\t});\n\n\t\tthis.appendMessage(messageList);\n\t};\n\n\tappendMemberBannedMessage = messages => {\n\t\t//if group action messages are disabled\n\t\tif (this.state.enableGroupActionMessages === false) {\n\t\t\treturn false;\n\t\t}\n\n\t\tconst messageList = [];\n\t\tmessages.forEach(eachMember => {\n\t\t\tconst sentAt = (new Date() / 1000) | 0;\n\t\t\tconst messageObj = {\n\t\t\t\treceiver: { ...this.context.item },\n\t\t\t\treceiverId: this.context.item.guid,\n\t\t\t\treceiverType: CometChat.RECEIVER_TYPE.GROUP,\n\t\t\t\tsender: { ...this.loggedInUser },\n\t\t\t\tcategory: CometChat.CATEGORY_ACTION,\n\t\t\t\ttype: CometChat.ACTION_TYPE.TYPE_GROUP_MEMBER,\n\t\t\t\tsentAt: sentAt,\n\t\t\t\taction: CometChat.ACTION_TYPE.MEMBER_BANNED,\n\t\t\t\tactionBy: { ...this.loggedInUser },\n\t\t\t\tactionOn: { ...eachMember },\n\t\t\t\tactionFor: { ...this.context.item },\n\t\t\t};\n\t\t\tmessageList.push(messageObj);\n\t\t});\n\n\t\tthis.appendMessage(messageList);\n\t};\n\n\ttoggleOriginalImageView = message => {\n\t\tthis.setState({ viewOriginalImage: message });\n\t};\n\n\ttoggleDetailView = () => {\n\t\tlet viewdetail = !this.state.viewdetailscreen;\n\t\tthis.setState({ viewdetailscreen: viewdetail, threadmessageview: false });\n\t};\n\n\tviewThreadedMessage = parentMessage => {\n\t\tconst message = { ...parentMessage };\n\t\tconst threaditem = { ...this.getContext().item };\n\t\tthis.setState({\n\t\t\tthreadmessageview: true,\n\t\t\tthreadmessageparent: message,\n\t\t\tthreadmessageitem: threaditem,\n\t\t\tthreadmessagetype: this.getContext().type,\n\t\t\tviewdetailscreen: false,\n\t\t});\n\t};\n\n\tthreadMessageComposed = messages => {\n\t\tif (this.getContext().type !== this.state.threadmessagetype) {\n\t\t\treturn false;\n\t\t}\n\n\t\tif ((this.state.threadmessagetype === CometChat.ACTION_TYPE.TYPE_GROUP && this.getContext().item.guid !== this.state.threadmessageitem.guid) || (this.state.threadmessagetype === CometChat.ACTION_TYPE.TYPE_USER && this.getContext().item.uid !== this.state.threadmessageitem.uid)) {\n\t\t\treturn false;\n\t\t}\n\n\t\tthis.updateReplyCount(messages);\n\t};\n\n\tcloseThreadedMessage = () => {\n\t\tthis.setState({ threadmessageview: false, viewdetailscreen: false });\n\t};\n\n\t/*\n\tUpdating parent message of threaded conversation, when the message is edited or deleted\n\t*/\n\tupdateParentThreadedMessage = (message, action) => {\n\t\tif (this.state.threadmessageview === false || message.id !== this.state.threadmessageparent.id) {\n\t\t\treturn false;\n\t\t}\n\n\t\tif (action === \"delete\") {\n\t\t\tthis.setState({ threadmessageparent: { ...message }, threadmessageview: false });\n\t\t} else {\n\t\t\tthis.setState({ threadmessageparent: { ...message } });\n\t\t}\n\t};\n\n\tgetReceiverDetails = () => {\n\t\tlet receiverId;\n\t\tlet receiverType;\n\n\t\tif (this.getContext().type === CometChat.ACTION_TYPE.TYPE_USER) {\n\t\t\treceiverId = this.getContext().item.uid;\n\t\t\treceiverType = CometChat.RECEIVER_TYPE.USER;\n\t\t} else if (this.getContext().type === CometChat.ACTION_TYPE.TYPE_GROUP) {\n\t\t\treceiverId = this.getContext().item.guid;\n\t\t\treceiverType = CometChat.RECEIVER_TYPE.GROUP;\n\t\t}\n\n\t\treturn { receiverId: receiverId, receiverType: receiverType };\n\t};\n\n\taudioCall = () => {\n\t\tconst { receiverId, receiverType } = this.getReceiverDetails();\n\t\tconst call = new CometChat.Call(receiverId, CometChat.CALL_TYPE.AUDIO, receiverType);\n\t\tCometChat.initiateCall(call)\n\t\t\t.then(outgoingCall => {\n\t\t\t\t//when this component is part of chat widget trigger an event.. (outgoingcall component is used separately in chat widget)\n\t\t\t\tif (Object.keys(this.props.widgetsettings).length) {\n\t\t\t\t\tthis.props.actionGenerated(enums.ACTIONS[\"START_AUDIO_CALL\"], outgoingCall);\n\t\t\t\t} else {\n\t\t\t\t\tthis.outgoingCallRef.startCall(outgoingCall);\n\t\t\t\t\tthis.appendCallMessage(outgoingCall);\n\t\t\t\t}\n\t\t\t})\n\t\t\t.catch(error => this.errorHandler(\"SOMETHING_WRONG\"));\n\t};\n\n\tvideoCall = () => {\n\t\t/*\n\t\tDirect calling for groups\n\t\t*/\n\t\tif (this.getContext().type === CometChat.RECEIVER_TYPE.GROUP) {\n\n\t\t\tconst sessionID = this.getContext().type === CometChat.ACTION_TYPE.TYPE_GROUP ? this.getContext().item.guid : null;\n\t\t\tif (Object.keys(this.props.widgetsettings).length) {\n\t\t\t\tthis.props.actionGenerated(enums.ACTIONS[\"START_DIRECT_CALL\"], sessionID);\n\t\t\t} else {\n\t\t\t\tthis.outgoingDirectCallRef.startCall(sessionID);\n\t\t\t}\n\t\t\treturn;\n\t\t}\n\n\t\t/*\n\t\tDefault calling for one-on-one\n\t\t*/\n\t\tconst { receiverId, receiverType } = this.getReceiverDetails();\n\t\tconst call = new CometChat.Call(receiverId, CometChat.CALL_TYPE.VIDEO, receiverType);\n\t\tCometChat.initiateCall(call)\n\t\t\t.then(outgoingCall => {\n\t\t\t\t//when this component is part of chat widget trigger an event.. (outgoingcall component is used separately in chat widget)\n\t\t\t\tif (Object.keys(this.props.widgetsettings).length) {\n\t\t\t\t\tthis.props.actionGenerated(enums.ACTIONS[\"START_VIDEO_CALL\"], outgoingCall);\n\t\t\t\t} else {\n\t\t\t\t\tthis.outgoingCallRef.startCall(outgoingCall);\n\t\t\t\t}\n\t\t\t})\n\t\t\t.catch(error => this.errorHandler(\"SOMETHING_WRONG\"));\n\t};\n\n\ttoggleReaction = flag => {\n\t\tthis.setState({ liveReaction: flag });\n\t};\n\n\tliveReactionReceived = reaction => {\n\n\t\tconst stopReaction = () => {\n\t\t\tthis.toggleReaction(false);\n\t\t}\n\n\t\tif (reaction.data.type === enums.CONSTANTS[\"METADATA_TYPE_LIVEREACTION\"]) {\n\n\t\t\tthis.reactionName = reaction.data.reaction;\n\t\t\tthis.toggleReaction(true);\n\n\t\t\tconst liveReactionInterval = enums.CONSTANTS[\"LIVE_REACTION_INTERVAL\"];\n\t\t\tsetTimeout(stopReaction, liveReactionInterval);\n\t\t}\n\t};\n\n\tdeleteMessage = message => {\n\t\tconst messageId = message.id;\n\t\tCometChat.deleteMessage(messageId)\n\t\t\t.then(deletedMessage => {\n\t\t\t\t//remove edit preview when message is deleted\n\t\t\t\tif (deletedMessage.id === this.state.messageToBeEdited.id) {\n\t\t\t\t\tthis.setState({ messageToBeEdited: \"\" });\n\t\t\t\t}\n\n\t\t\t\tconst messageList = [...this.state.messageList];\n\t\t\t\tlet messageKey = messageList.findIndex(m => m.id === message.id);\n\n\t\t\t\tif (messageList.length - messageKey === 1 && !message.replyCount) {\n\t\t\t\t\tCometChatEvent.triggerHandler(\"updateLastMessage\", { ...deletedMessage });\n\t\t\t\t\t//this.getContext().setLastMessage(deletedMessage);\n\t\t\t\t}\n\n\t\t\t\tthis.removeMessages([deletedMessage]);\n\t\t\t\tthis.updateParentThreadedMessage(deletedMessage, \"delete\");\n\t\t\t})\n\t\t\t.catch(error => this.errorHandler(\"SOMETHING_WRONG\"));\n\t};\n\n\teditMessage = message => {\n\t\tthis.setState({ messageToBeEdited: message, replyPreview: null });\n\t};\n\n\tmessageEdited = message => {\n\t\tconst messageList = [...this.state.messageList];\n\t\tlet messageKey = messageList.findIndex(m => m.id === message.id);\n\t\tif (messageKey > -1) {\n\t\t\tconst messageObj = messageList[messageKey];\n\n\t\t\tconst newMessageObj = Object.assign({}, messageObj, message);\n\n\t\t\tmessageList.splice(messageKey, 1, newMessageObj);\n\t\t\tthis.updateMessages(messageList);\n\n\t\t\tthis.updateParentThreadedMessage(newMessageObj, \"edit\");\n\n\t\t\tif (messageList.length - messageKey === 1 && !message.replyCount) {\n\t\t\t\tCometChatEvent.triggerHandler(\"updateLastMessage\", { ...newMessageObj });\n\t\t\t\t//this.getContext().setLastMessage(newMessageObj);\n\t\t\t}\n\t\t}\n\t};\n\n\tmessageSent = messages => {\n\t\tconst message = messages[0];\n\t\tconst messageList = [...this.state.messageList];\n\n\t\tlet messageKey = messageList.findIndex(m => m._id === message._id);\n\t\tif (messageKey > -1) {\n\t\t\tconst newMessageObj = { ...message };\n\n\t\t\tmessageList.splice(messageKey, 1, newMessageObj);\n\t\t\tmessageList.sort((a, b) => a.id - b.id);\n\t\t\tthis.setState({ messageList: messageList, scrollToBottom: true });\n\t\t}\n\t};\n\n\trefreshingMessages = () => {\n\t\tthis.setState({ messageList: [], messageToBeEdited: \"\", replyPreview: null, liveReaction: false, messageToReact: null });\n\t\tCometChatEvent.triggerHandler(enums.EVENTS[\"CLEAR_UNREAD_MESSAGES\"], {});\n\t};\n\n\tmessageRefreshed = messages => {\n\t\tconst messageList = [...messages];\n\t\tthis.setState({ messageList: messageList, scrollToBottom: true });\n\t};\n\n\tnewMessagesArrived = newMessage => {\n\t\tlet unreadMessages = [...this.state.unreadMessages];\n\t\tunreadMessages.push(newMessage[0]);\n\n\t\tthis.setState({ unreadMessages: unreadMessages });\n\n\t\tCometChatEvent.triggerHandler(enums.EVENTS[\"NEW_MESSAGES\"], { unreadMessages: unreadMessages });\n\t};\n\n\tmarkMessagesAsRead = scrollToBottom => {\n\t\tif (this.state.unreadMessages.length === 0) {\n\t\t\treturn false;\n\t\t}\n\n\t\tlet unreadMessages = [...this.state.unreadMessages];\n\t\tlet messageList = [...this.state.messageList];\n\n\t\tunreadMessages.forEach(unreadMessage => {\n\t\t\tif (unreadMessage.receiverType === CometChat.RECEIVER_TYPE.USER) {\n\t\t\t\tif (this.messageListRef) {\n\t\t\t\t\tmessageList.push(unreadMessage);\n\t\t\t\t\tthis.messageListRef.markMessageAsRead(unreadMessage, CometChat.ACTION_TYPE.TYPE_USER);\n\t\t\t\t}\n\t\t\t} else if (unreadMessage.receiverType === CometChat.RECEIVER_TYPE.GROUP) {\n\t\t\t\tif (this.messageListRef) {\n\t\t\t\t\tmessageList.push(unreadMessage);\n\t\t\t\t\tthis.messageListRef.markMessageAsRead(unreadMessage, CometChat.ACTION_TYPE.TYPE_GROUP);\n\t\t\t\t}\n\t\t\t}\n\t\t});\n\n\t\tthis.setState({ messageList: messageList, scrollToBottom: scrollToBottom, unreadMessages: [] });\n\t};\n\n\tjumpToMessages = () => {\n\t\tif (this.state.unreadMessages.length === 0) {\n\t\t\treturn false;\n\t\t}\n\n\t\tlet unreadMessages = [...this.state.unreadMessages];\n\t\tlet messageList = [...this.state.messageList];\n\t\tmessageList = messageList.concat(unreadMessages);\n\n\t\tCometChatEvent.triggerHandler(enums.EVENTS[\"CLEAR_UNREAD_MESSAGES\"], {});\n\n\t\tif (messageList.length > enums.CONSTANTS[\"MAX_MESSAGE_COUNT\"]) {\n\t\t\tif (this.messageListRef) {\n\t\t\t\tthis.messageListRef.reInitializeMessageBuilder();\n\t\t\t}\n\t\t} else {\n\t\t\tthis.markMessagesAsRead(true);\n\t\t}\n\t};\n\n\t//messages are deleted\n\tremoveMessages = messages => {\n\t\tconst deletedMessage = messages[0];\n\t\tconst messagelist = [...this.state.messageList];\n\n\t\tlet messageKey = messagelist.findIndex(message => message.id === deletedMessage.id);\n\t\tif (messageKey > -1) {\n\t\t\tif (this.state.enableHideDeletedMessages) {\n\t\t\t\tmessagelist.splice(messageKey, 1);\n\t\t\t} else {\n\t\t\t\tlet messageObj = { ...messagelist[messageKey] };\n\t\t\t\tlet newMessageObj = Object.assign({}, messageObj, deletedMessage);\n\n\t\t\t\tmessagelist.splice(messageKey, 1, newMessageObj);\n\t\t\t}\n\n\t\t\tthis.setState({ messageList: messagelist, scrollToBottom: false });\n\t\t}\n\t};\n\n\t//messages are fetched, scroll to bottom\n\tprependMessagesAndScrollToBottom = messages => {\n\t\tconst messageList = [...messages, ...this.state.messageList];\n\t\tthis.setState({ messageList: messageList, scrollToBottom: true });\n\t};\n\n\t//messages are fetched from backend\n\tprependMessages = messages => {\n\t\tconst messageList = [...messages, ...this.state.messageList];\n\t\tthis.setState({ messageList: messageList, scrollToBottom: false });\n\t};\n\n\t//message is received or composed & sent\n\tappendMessage = message => {\n\t\tlet messages = [...this.state.messageList, ...message];\n\t\tthis.setState({ messageList: messages, scrollToBottom: true });\n\t};\n\n\t//message status is updated\n\tupdateMessages = messages => {\n\t\tthis.setState({ messageList: messages, scrollToBottom: false });\n\t};\n\n\tgroupUpdated = (action, message, group, options) => {\n\t\t//if group action messages are disabled\n\t\tif (this.state.enableGroupActionMessages === true) {\n\t\t\tthis.appendMessage([message]);\n\t\t}\n\n\t\tthis.props.actionGenerated(action, message, group, options);\n\t};\n\n\tappendCallMessage = message => {\n\t\t//if call action messages are disabled\n\t\tif (this.state.enableCallActionMessages === false) {\n\t\t\treturn false;\n\t\t}\n\n\t\tthis.appendMessage([message]);\n\t};\n\n\tupdateReplyCount = messages => {\n\t\tconst receivedMessage = messages[0];\n\n\t\tlet messageList = [...this.state.messageList];\n\t\tlet messageKey = messageList.findIndex(m => m.id === receivedMessage.parentMessageId);\n\t\tif (messageKey > -1) {\n\t\t\tconst messageObj = messageList[messageKey];\n\t\t\tlet replyCount = messageObj.hasOwnProperty(\"replyCount\") ? messageObj.replyCount : 0;\n\t\t\treplyCount = replyCount + 1;\n\t\t\tconst newMessageObj = Object.assign({}, messageObj, { replyCount: replyCount });\n\n\t\t\tmessageList.splice(messageKey, 1, newMessageObj);\n\t\t\tthis.setState({ messageList: messageList, scrollToBottom: false });\n\t\t}\n\t};\n\n\tsmartReplyPreview = messages => {\n\t\tconst message = messages[0];\n\t\tif (message.sender.uid === this.loggedInUser.uid || message.category === CometChat.CATEGORY_CUSTOM) {\n\t\t\treturn false;\n\t\t}\n\n\t\t/**\n\t\t * If smart-replies feature is enabled\n\t\t */\n\t\tthis.getContext()\n\t\t\t.FeatureRestriction.isSmartRepliesEnabled()\n\t\t\t.then(response => {\n\t\t\t\tif (response === true) {\n\t\t\t\t\tconst smartReplyData = checkMessageForExtensionsData(message, \"smart-reply\");\n\t\t\t\t\tif (smartReplyData && smartReplyData.hasOwnProperty(\"error\") === false) {\n\t\t\t\t\t\tthis.setState({ replyPreview: message });\n\t\t\t\t\t} else {\n\t\t\t\t\t\tthis.setState({ replyPreview: null });\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t});\n\t};\n\n\tclearEditPreview = () => {\n\t\tthis.setState({ messageToBeEdited: \"\" });\n\t};\n\n\treactToMessage = message => {\n\t\tthis.setState({ messageToReact: message });\n\n\t\tif (this.composerRef) {\n\t\t\tthis.composerRef.toggleEmojiPicker();\n\t\t}\n\t};\n\n\trender() {\n\t\t/**\n\t\t * If used as standalone component\n\t\t */\n\t\tif (this.props._parent.trim().length === 0 && this.props.chatWithUser.trim().length === 0 && this.props.chatWithGroup.trim().length === 0) {\n\t\t\treturn (\n\t\t\t\t<CometChatContextProvider ref={el => (this.contextProviderRef = el)} _component={enums.CONSTANTS[\"MESSAGES_COMPONENT\"]} user={this.props.chatWithUser} group={this.props.chatWithGroup}>\n\t\t\t\t\t<div></div>\n\t\t\t\t</CometChatContextProvider>\n\t\t\t);\n\t\t} else if (this.props._parent.trim().length && Object.keys(this.getContext().item).length === 0) {\n\t\t\treturn null;\n\t\t}\n\n\t\tlet blockedUser = null;\n\t\tlet messageList = (\n\t\t\t<CometChatMessageList\n\t\t\t\tref={el => {\n\t\t\t\t\tthis.messageListRef = el;\n\t\t\t\t}}\n\t\t\t\tlang={this.props.lang}\n\t\t\t\tmessages={this.state.messageList}\n\t\t\t\tscrollToBottom={this.state.scrollToBottom}\n\t\t\t\tactionGenerated={this.actionHandler}\n\t\t\t/>\n\t\t);\n\t\tlet messageComposer = (\n\t\t\t<CometChatMessageComposer\n\t\t\t\tref={el => {\n\t\t\t\t\tthis.composerRef = el;\n\t\t\t\t}}\n\t\t\t\tmessageToBeEdited={this.state.messageToBeEdited}\n\t\t\t\treplyPreview={this.state.replyPreview}\n\t\t\t\treaction={this.reactionName}\n\t\t\t\tmessageToReact={this.state.messageToReact}\n\t\t\t\tactionGenerated={this.actionHandler} />\n\t\t);\n\n\t\tlet newMessageIndicator = null;\n\t\tif (this.state.unreadMessages.length) {\n\t\t\tconst unreadMessageCount = this.state.unreadMessages.length;\n\t\t\tconst messageText = unreadMessageCount > 1 ? `${unreadMessageCount} ${Translator.translate(\"NEW_MESSAGES\", this.props.lang)}` : `${unreadMessageCount} ${Translator.translate(\"NEW_MESSAGE\", this.props.lang)}`;\n\t\t\tnewMessageIndicator = (\n\t\t\t\t<div css={messagePaneTopStyle()} className=\"message_pane__top\">\n\t\t\t\t\t<div css={messagePaneBannerStyle(this.props)} className=\"message_pane__banner\">\n\t\t\t\t\t\t<div css={messagePaneUnreadBannerStyle()} className=\"message_pane__unread_banner__banner\" title={Translator.translate(\"JUMP\", this.props.lang)}>\n\t\t\t\t\t\t\t<button type=\"button\" css={messagePaneUnreadBannerMessageStyle(this.props)} className=\"message_pane__unread_banner__msg\" onClick={this.jumpToMessages}>\n\t\t\t\t\t\t\t\t<span css={iconArrowDownStyle()} className=\"icon--arrow-down\">\n\t\t\t\t\t\t\t\t\t&#x2193;{\" \"}\n\t\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t\t{messageText}\n\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t);\n\t\t}\n\n\t\t//if sending messages are disabled for chat wigdet in dashboard\n\t\tif ((this.getContext()?.type === CometChat.ACTION_TYPE.TYPE_USER && this.state.enableSendingOneOnOneMessage === false) || (this.getContext()?.type === CometChat.ACTION_TYPE.TYPE_GROUP && this.state.enableSendingGroupMessage === false)) {\n\t\t\tmessageComposer = null;\n\t\t}\n\n\t\tif (this.getContext().type === CometChat.RECEIVER_TYPE.USER && Object.keys(this.getContext().item).length && this.getContext().item.blockedByMe) {\n\t\t\tmessageComposer = null;\n\t\t\tmessageList = null;\n\t\t\tblockedUser = <CometChatBlockedUser user={this.item} />;\n\t\t}\n\n\t\tlet liveReactionView = null;\n\t\tif (this.state.liveReaction) {\n\t\t\tliveReactionView = (\n\t\t\t\t<div css={reactionsWrapperStyle()}>\n\t\t\t\t\t<CometChatLiveReactions reaction={this.reactionName} theme={this.props.theme} lang={this.props.lang} />\n\t\t\t\t</div>\n\t\t\t);\n\t\t}\n\n\t\t/*\n\t\tIf used as a standalone component\n\t\t*/\n\t\tlet incomingCallView = null;\n\t\tlet incomingDirectCallView = null;\n\t\tif (this.props._parent.trim().length === 0) {\n\t\t\tincomingCallView = <CometChatIncomingCall actionGenerated={this.actionHandler} />;\n\n\t\t\tincomingDirectCallView = <CometChatIncomingDirectCall actionGenerated={this.actionHandler} />;\n\t\t}\n\n\t\t//don't include it when opened in chat widget\n\t\tlet outgoingDirectCallView = null;\n\t\tlet outgoingCallView = null;\n\t\tif (Object.keys(this.props.widgetsettings).length === 0) {\n\t\t\toutgoingCallView = <CometChatOutgoingCall ref={el => (this.outgoingCallRef = el)} lang={this.props.lang} actionGenerated={this.actionHandler} />;\n\t\t\toutgoingDirectCallView = <CometChatOutgoingDirectCall ref={el => (this.outgoingDirectCallRef = el)} lang={this.props.lang} actionGenerated={this.actionHandler} />;\n\t\t}\n\n\t\tlet detailScreen = null;\n\t\tif (this.state.viewdetailscreen) {\n\t\t\tif (this.getContext().type === CometChat.ACTION_TYPE.TYPE_USER) {\n\t\t\t\tdetailScreen = (\n\t\t\t\t\t<div css={chatSecondaryStyle(this.props)} className=\"chat__secondary-view\">\n\t\t\t\t\t\t<CometChatUserDetails lang={this.props.lang} actionGenerated={this.actionHandler} />\n\t\t\t\t\t</div>\n\t\t\t\t);\n\t\t\t} else if (this.getContext().type === CometChat.ACTION_TYPE.TYPE_GROUP) {\n\t\t\t\tdetailScreen = (\n\t\t\t\t\t<div css={chatSecondaryStyle(this.props)} className=\"chat__secondary-view\">\n\t\t\t\t\t\t<CometChatGroupDetails lang={this.props.lang} actionGenerated={this.actionHandler} />\n\t\t\t\t\t</div>\n\t\t\t\t);\n\t\t\t}\n\t\t}\n\n\t\tlet threadMessageView = null;\n\t\tif (this.state.threadmessageview) {\n\t\t\tthreadMessageView = (\n\t\t\t\t<div css={chatSecondaryStyle(this.props)} className=\"chat__secondary-view\">\n\t\t\t\t\t<CometChatMessageThread activeTab={this.state.activeTab} threadItem={this.state.threadmessageitem} threadType={this.state.threadmessagetype} parentMessage={this.state.threadmessageparent} loggedInUser={this.loggedInUser} actionGenerated={this.actionHandler} />\n\t\t\t\t</div>\n\t\t\t);\n\t\t}\n\n\t\tlet originalImageView = null;\n\t\tif (this.state.viewOriginalImage) {\n\t\t\toriginalImageView = <CometChatImageViewer close={() => this.toggleOriginalImageView(false)} message={this.state.viewOriginalImage} />;\n\t\t}\n\n\t\tlet messageComponent = (\n\t\t\t<React.Fragment>\n\t\t\t\t<div css={chatWrapperStyle(this.props, this.state)} className=\"main__chat\" dir={Translator.getDirection(this.props.lang)}>\n\t\t\t\t\t<CometChatMessageHeader lang={this.props.lang} sidebar={this.props.sidebar} viewdetail={this.props.viewdetail === false ? false : true} actionGenerated={this.actionHandler} />\n\t\t\t\t\t{messageList}\n\t\t\t\t\t{liveReactionView}\n\t\t\t\t\t{messageComposer}\n\t\t\t\t\t{blockedUser}\n\t\t\t\t\t{newMessageIndicator}\n\t\t\t\t</div>\n\t\t\t\t<CometChatToastNotification ref={el => (this.toastRef = el)} lang={this.props.lang} />\n\t\t\t\t{originalImageView}\n\t\t\t\t{detailScreen}\n\t\t\t\t{threadMessageView}\n\t\t\t\t{incomingCallView}\n\t\t\t\t{outgoingCallView}\n\t\t\t\t{incomingDirectCallView}\n\t\t\t\t{outgoingDirectCallView}\n\t\t\t</React.Fragment>\n\t\t);\n\n\t\tlet messageWrapper = messageComponent;\n\t\t/*\n\t\tIf used as a standalone component\n\t\t**/\n\t\tif (this.props._parent.trim().length === 0) {\n\t\t\tmessageWrapper = (\n\t\t\t\t<CometChatContextProvider ref={el => (this.contextProviderRef = el)} user={this.props.chatWithUser} group={this.props.chatWithGroup} language={this.props.lang}>\n\t\t\t\t\t<div css={chatContainerStyle()}>{messageComponent}</div>\n\t\t\t\t</CometChatContextProvider>\n\t\t\t);\n\t\t}\n\n\t\treturn messageWrapper;\n\t}\n}\n\n// Specifies the default values for props:\nCometChatMessages.defaultProps = {\n\tlang: Translator.getDefaultLanguage(),\n\ttheme: theme,\n\t_parent: \"\",\n\twidgetsettings: {},\n\tchatWithUser: \"\",\n\tchatWithGroup: \"\",\n};\n\nCometChatMessages.propTypes = {\n\tlang: PropTypes.string,\n\ttheme: PropTypes.object,\n\t_parent: PropTypes.string,\n\twidgetsettings: PropTypes.object,\n\tchatWithUser: PropTypes.string,\n\tchatWithGroup: PropTypes.string,\n};\n\nexport {CometChatMessages};","export const wrapperStyle = context => {\n\n\treturn {\n\t\tdisplay: \"flex\",\n\t\tflexDirection: \"column\",\n\t\theight: \"100%\",\n\t\tboxSizing: \"border-box\",\n\t\tfontFamily: `${context.theme.fontFamily}`,\n\t\t\"*\": {\n\t\t\tboxSizing: \"border-box\",\n\t\t\tfontFamily: `${context.theme.fontFamily}`,\n\t\t},\n\t};\n};\n\nexport const headerStyle = context => {\n\n\treturn {\n\t\tpadding: \"16px\",\n\t\twidth: \"100%\",\n\t\tbackgroundColor: `${context.theme.backgroundColor.white}`,\n\t\tzIndex: \"1\",\n\t\tborderBottom: `1px solid ${context.theme.borderColor.primary}`,\n\t\theight: \" 69px\",\n\t\tdisplay: \"flex\",\n\t};\n};\n\nexport const headerWrapperStyle = () => {\n\n    return {\n        display: \"flex\",\n        flexDirection: \"row\",\n        alignItems: \"center\",\n        justifyContent: \"space-between\",\n        width: \"100%\",\n    }\n}\n\nexport const headerDetailStyle = () => {\n\n    return {\n        display: \"flex\",\n        flexDirection: \"column\",\n        width: \"calc(100% - 40px)\",\n    }\n}\n\nexport const headerTitleStyle = () => {\n\n    return {\n        margin: \"0\",\n        fontSize: \"15px\",\n        fontWight: \"600\",\n        lineHeight: \"22px\",\n        width: \"100%\",\n    }\n}\n\nexport const headerNameStyle = () => {\n\n    return {\n        fontSize: \"13px\",\n        lineHeight: \"20px\",\n        width: \"100%\",\n        overflow: \"hidden\",\n        textOverflow: \"ellipsis\",\n        whiteSpace: \"nowrap\",\n    }\n}\n\nexport const headerCloseStyle = (img, context) => {\n\n    return {\n        cursor: \"pointer\",\n        width: \"24px\",\n        height: \"24px\",\n        mask: `url(${img}) center center no-repeat`,\n        backgroundColor: `${context.theme.primaryColor}`\n    }\n}\n\nexport const messageContainerStyle = (event) => {\n\n    return {\n        display: \"flex\",\n        flexDirection: \"column\",\n        height: \"100%\",\n        overflowX: \"hidden\",\n        overflowY: \"auto\",\n        transition: \"background .3s ease-out .1s\",\n        width: \"100%\",\n        zIndex: \"100\",\n        minHeight: \"calc(100% - 68px)\",\n        order: \"2\",\n        \".chat__list\": {\n            minHeight: \"250px\",\n            \".list__wrapper\": {\n                \"::-webkit-scrollbar\": {\n                    display: \"none\"\n                },\n                scrollbarWidth: \"none\"\n            }\n        },\n    }\n}\n\nexport const parentMessageStyle = (message) => {\n\n    const alignment = (message.messageFrom === \"sender\") ? {\n        justifyContent: \"flex-end\",\n    } : {\n        justifyContent: \"flex-start\",\n    };\n\n    return {\n        padding: \"14px 16px\",\n        display: \"flex\",\n        alignItems: \"center\",\n        ...alignment,\n        \".sender__message__container, .receiver__message__container\": {\n            maxWidth: \"100%\",\n            \"&:hover\": {\n                \".message__actions\": {\n                    display: \"none\"\n                }\n            }\n        },\n        \".replycount\": {\n            display: \"none\"\n        }\n    }\n}\n\nexport const messageSeparatorStyle = context => {\n\n\treturn {\n\t\tdisplay: \"flex\",\n\t\talignItems: \"center\",\n\t\tposition: \"relative\",\n\t\tmargin: \"7px 16px\",\n\t\theight: \"15px\",\n\t\thr: {\n\t\t\tflex: \"1\",\n\t\t\tmargin: \"1px 0 0 0\",\n\t\t\tborderTop: `1px solid ${context.theme.borderColor.primary}`,\n\t\t},\n\t};\n};\n\nexport const messageReplyStyle = () => {\n\n    return {\n        marginRight: \"12px\",\n        fontSize: \"12px\",\n    }\n}","export default __webpack_public_path__ + \"static/media/close.0b0b6f95.svg\";","import React from \"react\";\n/** @jsxRuntime classic */\n/** @jsx jsx */\nimport { jsx } from \"@emotion/core\";\nimport PropTypes from \"prop-types\";\nimport { CometChat } from \"@cometchat-pro/chat\";\n\nimport { \n\tCometChatMessageList, CometChatMessageComposer,\n\tCometChatSenderTextMessageBubble, CometChatReceiverTextMessageBubble,\n\tCometChatSenderImageMessageBubble, CometChatReceiverImageMessageBubble,\n\tCometChatSenderFileMessageBubble, CometChatReceiverFileMessageBubble,\n\tCometChatSenderAudioMessageBubble, CometChatReceiverAudioMessageBubble,\n\tCometChatSenderVideoMessageBubble, CometChatReceiverVideoMessageBubble,\n\tCometChatSenderDirectCallBubble, CometChatReceiverDirectCallBubble,\n\tCometChatImageViewer\n} from \"../\";\n\nimport {\n\tCometChatSenderPollMessageBubble, CometChatReceiverPollMessageBubble,\n\tCometChatSenderStickerBubble, CometChatReceiverStickerMessageBubble,\n\tCometChatSenderDocumentBubble, CometChatReceiverDocumentBubble,\n\tCometChatSenderWhiteboardBubble, CometChatReceiverWhiteboardBubble,\n} from \"../Extensions\";\n\nimport { CometChatContext } from \"../../../util/CometChatContext\";\nimport { checkMessageForExtensionsData } from \"../../../util/common\";\nimport * as enums from \"../../../util/enums.js\";\nimport { CometChatEvent } from \"../../../util/CometChatEvent\";\n\nimport { theme } from \"../../../resources/theme\";\nimport Translator from \"../../../resources/localization/translator\";\n\nimport {\n\twrapperStyle,\n\theaderStyle,\n\theaderWrapperStyle,\n\theaderDetailStyle,\n\theaderTitleStyle,\n\theaderNameStyle,\n\theaderCloseStyle,\n\tmessageContainerStyle,\n\tparentMessageStyle,\n\tmessageSeparatorStyle,\n\tmessageReplyStyle,\n} from \"./style\";\n\nimport clearIcon from \"./resources/close.svg\";\n\nclass CometChatMessageThread extends React.PureComponent {\n\tloggedInUser = null;\n\tstatic contextType = CometChatContext;\n\n\tconstructor(props) {\n\t\tsuper(props);\n\n\t\tthis.state = {\n\t\t\tmessageList: [],\n\t\t\tscrollToBottom: true,\n\t\t\treplyCount: 0,\n\t\t\treplyPreview: null,\n\t\t\tmessageToBeEdited: null,\n\t\t\tparentMessage: props.parentMessage,\n\t\t\tviewOriginalImage: false,\n\t\t\tenableSendingOneOnOneMessage: false,\n\t\t\tenableSendingGroupMessage: false,\n\t\t\tenableHideDeletedMessages: false,\n\t\t};\n\n\t\tthis.composerRef = React.createRef();\n\t\tthis.toastRef = React.createRef();\n\n\t\tthis.loggedInUser = this.props.loggedInUser;\n\t}\n\n\tcomponentDidMount() {\n\t\tCometChat.getLoggedinUser()\n\t\t\t.then(user => (this.loggedInUser = user))\n\t\t\t.catch(error => this.errorHandler(\"SOMETHING_WRONG\"));\n\n\t\tthis.enableSendingOneOnOneMessage();\n\t\tthis.enableSendingGroupMessage();\n\t\tthis.enableHideDeletedMessages();\n\t}\n\n\tcomponentDidUpdate(prevProps) {\n\t\tthis.enableSendingOneOnOneMessage();\n\t\tthis.enableSendingGroupMessage();\n\t\tthis.enableHideDeletedMessages();\n\n\t\tif (prevProps.parentMessage !== this.props.parentMessage) {\n\t\t\tif (prevProps.parentMessage.id !== this.props.parentMessage.id) {\n\t\t\t\tthis.setState({ messageList: [], scrollToBottom: true, parentMessage: this.props.parentMessage });\n\t\t\t} else if (prevProps.parentMessage.data !== this.props.parentMessage.data) {\n\t\t\t\tthis.setState({ parentMessage: this.props.parentMessage });\n\t\t\t}\n\t\t}\n\t}\n\n\tenableSendingOneOnOneMessage = () => {\n\t\tthis.context.FeatureRestriction.isOneOnOneChatEnabled()\n\t\t\t.then(response => {\n\t\t\t\tif (response !== this.state.enableSendingOneOnOneMessage) {\n\t\t\t\t\tthis.setState({ enableSendingOneOnOneMessage: response });\n\t\t\t\t}\n\t\t\t})\n\t\t\t.catch(error => {\n\t\t\t\tif (this.state.enableSendingOneOnOneMessage !== false) {\n\t\t\t\t\tthis.setState({ enableSendingOneOnOneMessage: false });\n\t\t\t\t}\n\t\t\t});\n\t};\n\n\tenableSendingGroupMessage = () => {\n\t\tthis.context.FeatureRestriction.isGroupChatEnabled()\n\t\t\t.then(response => {\n\t\t\t\tif (response !== this.state.enableSendingGroupMessage) {\n\t\t\t\t\tthis.setState({ enableSendingGroupMessage: response });\n\t\t\t\t}\n\t\t\t})\n\t\t\t.catch(error => {\n\t\t\t\tif (this.state.enableSendingGroupMessage !== false) {\n\t\t\t\t\tthis.setState({ enableSendingGroupMessage: false });\n\t\t\t\t}\n\t\t\t});\n\t};\n\n\tenableHideDeletedMessages = () => {\n\t\tthis.context.FeatureRestriction.isHideDeletedMessagesEnabled()\n\t\t\t.then(response => {\n\t\t\t\tif (response !== this.state.enableHideDeletedMessages) {\n\t\t\t\t\tthis.setState({ enableHideDeletedMessages: response });\n\t\t\t\t}\n\t\t\t})\n\t\t\t.catch(error => {\n\t\t\t\tif (this.state.enableHideDeletedMessages !== false) {\n\t\t\t\t\tthis.setState({ enableHideDeletedMessages: false });\n\t\t\t\t}\n\t\t\t});\n\t};\n\n\terrorHandler = errorCode => {\n\t\tthis.toastRef.setError(errorCode);\n\t};\n\n\tparentMessageEdited = message => {\n\t\tconst parentMessage = { ...this.props.parentMessage };\n\n\t\tif (parentMessage.id === message.id) {\n\t\t\tconst newMessageObj = { ...message };\n\t\t\tthis.setState({ parentMessage: newMessageObj });\n\t\t}\n\t};\n\n\tactionHandler = (action, messages) => {\n\t\tswitch (action) {\n\t\t\tcase enums.ACTIONS[\"CUSTOM_MESSAGE_RECEIVED\"]:\n\t\t\tcase enums.ACTIONS[\"MESSAGE_RECEIVED\"]:\n\t\t\t\t{\n\t\t\t\t\tconst message = messages[0];\n\t\t\t\t\tif (message.hasOwnProperty(\"parentMessageId\") && message.parentMessageId === this.state.parentMessage.id) {\n\t\t\t\t\t\tconst replyCount = this.state.parentMessage.hasOwnProperty(\"replyCount\") ? this.state.parentMessage.replyCount : 0;\n\t\t\t\t\t\tconst newReplyCount = replyCount + 1;\n\n\t\t\t\t\t\tlet messageObj = { ...this.state.parentMessage };\n\t\t\t\t\t\tlet newMessageObj = Object.assign({}, messageObj, { replyCount: newReplyCount });\n\t\t\t\t\t\tthis.setState({ parentMessage: newMessageObj });\n\n\t\t\t\t\t\tthis.smartReplyPreview(messages);\n\t\t\t\t\t\tthis.appendMessage(messages);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tbreak;\n\t\t\tcase enums.ACTIONS[\"MESSAGE_COMPOSED\"]:\n\t\t\t\t{\n\t\t\t\t\tconst replyCount = this.state.parentMessage.hasOwnProperty(\"replyCount\") ? this.state.parentMessage.replyCount : 0;\n\t\t\t\t\tconst newReplyCount = replyCount + 1;\n\n\t\t\t\t\tlet messageObj = { ...this.state.parentMessage };\n\t\t\t\t\tlet newMessageObj = Object.assign({}, messageObj, { replyCount: newReplyCount });\n\t\t\t\t\tthis.setState({ parentMessage: newMessageObj });\n\n\t\t\t\t\tthis.appendMessage(messages);\n\t\t\t\t\tthis.props.actionGenerated(enums.ACTIONS[\"THREAD_MESSAGE_COMPOSED\"], messages);\n\t\t\t\t}\n\t\t\t\tbreak;\n\t\t\tcase enums.ACTIONS[\"MESSAGE_SENT\"]:\n\t\t\tcase enums.ACTIONS[\"ERROR_IN_SENDING_MESSAGE\"]:\n\t\t\t\tthis.messageSent(messages);\n\t\t\t\tthis.props.actionGenerated(action, messages);\n\t\t\t\tbreak;\n\t\t\tcase enums.ACTIONS[\"ON_MESSAGE_READ_DELIVERED\"]:\n\t\t\t\tthis.updateMessages(messages);\n\t\t\t\tbreak;\n\t\t\tcase enums.ACTIONS[\"ON_MESSAGE_EDITED\"]:\n\t\t\t\tthis.updateMessages(messages);\n\t\t\t\tbreak;\n\t\t\tcase \"messageFetched\":\n\t\t\t\tthis.prependMessages(messages);\n\t\t\t\tbreak;\n\t\t\tcase enums.ACTIONS[\"MESSAGES_INITIAL_FETCH\"]:\n\t\t\t\tthis.prependMessagesAndScrollToBottom(messages);\n\t\t\t\tbreak;\n\t\t\tcase enums.ACTIONS[\"ON_MESSAGE_DELETED\"]:\n\t\t\t\tthis.removeMessages(messages);\n\t\t\t\tbreak;\n\t\t\tcase enums.ACTIONS[\"EDIT_MESSAGE\"]:\n\t\t\t\tthis.editMessage(messages);\n\t\t\t\tbreak;\n\t\t\tcase enums.ACTIONS[\"MESSAGE_EDITED\"]:\n\t\t\t\tthis.messageEdited(messages);\n\t\t\t\tbreak;\n\t\t\tcase enums.ACTIONS[\"CLEAR_EDIT_PREVIEW\"]:\n\t\t\t\tthis.clearEditPreview();\n\t\t\t\tbreak;\n\t\t\tcase enums.ACTIONS[\"DELETE_MESSAGE\"]:\n\t\t\t\tthis.deleteMessage(messages);\n\t\t\t\tbreak;\n\t\t\tcase enums.ACTIONS[\"REACT_TO_MESSAGE\"]:\n\t\t\t\tthis.reactToMessage(messages);\n\t\t\t\tbreak;\n\t\t\tcase enums.ACTIONS[\"VIEW_ORIGINAL_IMAGE\"]:\n\t\t\t\tthis.toggleOriginalImageView(messages);\n\t\t\t\tbreak;\n\t\t\tdefault:\n\t\t\t\tbreak;\n\t\t}\n\t};\n\n\ttoggleOriginalImageView = message => {\n\t\tthis.setState({ viewOriginalImage: message });\n\t};\n\n\tmessageSent = messages => {\n\t\tconst message = messages[0];\n\t\tconst messageList = [...this.state.messageList];\n\t\tlet messageKey = messageList.findIndex(m => m._id === message._id);\n\t\tif (messageKey > -1) {\n\t\t\tconst newMessageObj = { ...message };\n\n\t\t\tmessageList.splice(messageKey, 1, newMessageObj);\n\t\t\tthis.updateMessages(messageList);\n\t\t}\n\t};\n\n\teditMessage = message => {\n\t\tthis.setState({ messageToBeEdited: message });\n\t};\n\n\tmessageEdited = message => {\n\t\tconst messageList = [...this.state.messageList];\n\t\tlet messageKey = messageList.findIndex(m => m.id === message.id);\n\t\tif (messageKey > -1) {\n\t\t\tconst messageObj = messageList[messageKey];\n\n\t\t\tconst newMessageObj = { ...messageObj, ...message };\n\n\t\t\tmessageList.splice(messageKey, 1, newMessageObj);\n\t\t\tthis.updateMessages(messageList);\n\n\t\t\tif (messageList.length - messageKey === 1) {\n\t\t\t\t//this.context.setLastMessage(newMessageObj);\n\t\t\t\tCometChatEvent.triggerHandler(\"updateLastMessage\", { ...newMessageObj });\n\t\t\t}\n\t\t}\n\t};\n\n\tclearEditPreview = () => {\n\t\tthis.setState({ messageToBeEdited: \"\" });\n\t};\n\n\tdeleteMessage = message => {\n\t\tconst messageId = message.id;\n\t\tCometChat.deleteMessage(messageId)\n\t\t\t.then(deletedMessage => {\n\t\t\t\tthis.removeMessages([deletedMessage]);\n\n\t\t\t\tconst messageList = [...this.state.messageList];\n\t\t\t\tlet messageKey = messageList.findIndex(m => m.id === message.id);\n\n\t\t\t\tif (messageList.length - messageKey === 1 && !message.replyCount) {\n\t\t\t\t\t//this.context.setLastMessage(deletedMessage);\n\t\t\t\t\tCometChatEvent.triggerHandler(\"updateLastMessage\", { ...deletedMessage });\n\t\t\t\t}\n\t\t\t})\n\t\t\t.catch(error => this.errorHandler(\"SOMETHING_WRONG\"));\n\t};\n\n\tsmartReplyPreview = messages => {\n\t\tconst message = messages[0];\n\n\t\tconst smartReplyData = checkMessageForExtensionsData(message, \"smart-reply\");\n\t\tif (smartReplyData && smartReplyData.hasOwnProperty(\"error\") === false) {\n\t\t\tthis.setState({ replyPreview: message });\n\t\t} else {\n\t\t\tthis.setState({ replyPreview: null });\n\t\t}\n\t};\n\n\t//message is received or composed & sent\n\tappendMessage = message => {\n\t\tlet messages = [...this.state.messageList];\n\t\tmessages = messages.concat(message);\n\t\tthis.setState({ messageList: messages, scrollToBottom: true });\n\t};\n\n\t//message status is updated\n\tupdateMessages = messages => {\n\t\tthis.setState({ messageList: messages });\n\t};\n\n\t//messages are fetched from backend\n\tprependMessages = messages => {\n\t\tconst messageList = [...messages, ...this.state.messageList];\n\t\tthis.setState({ messageList: messageList, scrollToBottom: false });\n\t};\n\n\t//messages are fetched, scroll to bottom\n\tprependMessagesAndScrollToBottom = messages => {\n\t\tconst messageList = [...messages, ...this.state.messageList];\n\t\tthis.setState({ messageList: messageList, scrollToBottom: true });\n\t};\n\n\t//messages are deleted\n\tremoveMessages = messages => {\n\t\tconst deletedMessage = messages[0];\n\t\tconst messagelist = [...this.state.messageList];\n\n\t\tlet messageKey = messagelist.findIndex(message => message.id === deletedMessage.id);\n\t\tif (messageKey > -1) {\n\t\t\t\n\t\t\tif (this.state.enableHideDeletedMessages) {\n\t\t\t\tmessagelist.splice(messageKey, 1);\n\t\t\t} else {\n\t\t\t\tlet messageObj = { ...messagelist[messageKey] };\n\t\t\t\tlet newMessageObj = Object.assign({}, messageObj, deletedMessage);\n\t\t\t\tmessagelist.splice(messageKey, 1, newMessageObj);\n\t\t\t}\n\n\t\t\tthis.setState({ messageList: messagelist, scrollToBottom: false });\n\t\t}\n\t};\n\n\tgetSenderMessageComponent = message => {\n\t\tlet component;\n\n\t\tswitch (message.type) {\n\t\t\tcase CometChat.MESSAGE_TYPE.TEXT:\n\t\t\t\tcomponent = <CometChatSenderTextMessageBubble key={message.id} message={message} actionGenerated={this.actionHandler} />;\n\t\t\t\tbreak;\n\t\t\tcase CometChat.MESSAGE_TYPE.IMAGE:\n\t\t\t\tcomponent = <CometChatSenderImageMessageBubble key={message.id} message={message} actionGenerated={this.actionHandler} />;\n\t\t\t\tbreak;\n\t\t\tcase CometChat.MESSAGE_TYPE.FILE:\n\t\t\t\tcomponent = <CometChatSenderFileMessageBubble key={message.id} message={message} actionGenerated={this.actionHandler} />;\n\t\t\t\tbreak;\n\t\t\tcase CometChat.MESSAGE_TYPE.VIDEO:\n\t\t\t\tcomponent = <CometChatSenderVideoMessageBubble key={message.id} message={message} actionGenerated={this.actionHandler} />;\n\t\t\t\tbreak;\n\t\t\tcase CometChat.MESSAGE_TYPE.AUDIO:\n\t\t\t\tcomponent = <CometChatSenderAudioMessageBubble key={message.id} message={message} actionGenerated={this.actionHandler} />;\n\t\t\t\tbreak;\n\t\t\tdefault:\n\t\t\t\tbreak;\n\t\t}\n\n\t\treturn component;\n\t};\n\n\tgetReceiverMessageComponent = message => {\n\t\tlet component;\n\n\t\tswitch (message.type) {\n\t\t\tcase \"message\":\n\t\t\tcase CometChat.MESSAGE_TYPE.TEXT:\n\t\t\t\tcomponent = <CometChatReceiverTextMessageBubble key={message.id} message={message} actionGenerated={this.actionHandler} />;\n\t\t\t\tbreak;\n\t\t\tcase CometChat.MESSAGE_TYPE.IMAGE:\n\t\t\t\tcomponent = <CometChatReceiverImageMessageBubble key={message.id} message={message} actionGenerated={this.actionHandler} />;\n\t\t\t\tbreak;\n\t\t\tcase CometChat.MESSAGE_TYPE.FILE:\n\t\t\t\tcomponent = <CometChatReceiverFileMessageBubble key={message.id} message={message} actionGenerated={this.actionHandler} />;\n\t\t\t\tbreak;\n\t\t\tcase CometChat.MESSAGE_TYPE.AUDIO:\n\t\t\t\tcomponent = <CometChatReceiverAudioMessageBubble key={message.id} message={message} actionGenerated={this.actionHandler} />;\n\t\t\t\tbreak;\n\t\t\tcase CometChat.MESSAGE_TYPE.VIDEO:\n\t\t\t\tcomponent = <CometChatReceiverVideoMessageBubble key={message.id} message={message} actionGenerated={this.actionHandler} />;\n\t\t\t\tbreak;\n\t\t\tdefault:\n\t\t\t\tbreak;\n\t\t}\n\n\t\treturn component;\n\t};\n\n\tgetSenderCustomMessageComponent = message => {\n\t\tlet component;\n\n\t\tswitch (message.type) {\n\t\t\tcase enums.CUSTOM_TYPE_POLL:\n\t\t\t\tcomponent = <CometChatSenderPollMessageBubble key={message.id} message={message} actionGenerated={this.props.actionGenerated} />;\n\t\t\t\tbreak;\n\t\t\tcase enums.CUSTOM_TYPE_STICKER:\n\t\t\t\tcomponent = <CometChatSenderStickerBubble key={message.id} message={message} actionGenerated={this.props.actionGenerated} />;\n\t\t\t\tbreak;\n\t\t\tcase enums.CUSTOM_TYPE_DOCUMENT:\n\t\t\t\tcomponent = <CometChatSenderDocumentBubble key={message.id} message={message} actionGenerated={this.props.actionGenerated} />;\n\t\t\t\tbreak;\n\t\t\tcase enums.CUSTOM_TYPE_WHITEBOARD:\n\t\t\t\tcomponent = <CometChatSenderWhiteboardBubble key={message.id} message={message} actionGenerated={this.props.actionGenerated} />;\n\t\t\t\tbreak;\n\t\t\tcase enums.CUSTOM_TYPE_MEETING:\n\t\t\t\tcomponent = <CometChatSenderDirectCallBubble key={message.id} message={message} actionGenerated={this.props.actionGenerated} />;\n\t\t\t\tbreak;\n\t\t\tdefault:\n\t\t\t\tbreak;\n\t\t}\n\n\t\treturn component;\n\t};\n\n\tgetReceiverCustomMessageComponent = message => {\n\t\tlet component;\n\t\tswitch (message.type) {\n\t\t\tcase enums.CUSTOM_TYPE_POLL:\n\t\t\t\tcomponent = <CometChatReceiverPollMessageBubble key={message.id} message={message} actionGenerated={this.props.actionGenerated} />;\n\t\t\t\tbreak;\n\t\t\tcase enums.CUSTOM_TYPE_STICKER:\n\t\t\t\tcomponent = <CometChatReceiverStickerMessageBubble key={message.id} message={message} actionGenerated={this.props.actionGenerated} />;\n\t\t\t\tbreak;\n\t\t\tcase enums.CUSTOM_TYPE_DOCUMENT:\n\t\t\t\tcomponent = <CometChatReceiverDocumentBubble key={message.id} message={message} actionGenerated={this.props.actionGenerated} />;\n\t\t\t\tbreak;\n\t\t\tcase enums.CUSTOM_TYPE_WHITEBOARD:\n\t\t\t\tcomponent = <CometChatReceiverWhiteboardBubble key={message.id} message={message} actionGenerated={this.props.actionGenerated} />;\n\t\t\t\tbreak;\n\t\t\tcase enums.CUSTOM_TYPE_MEETING:\n\t\t\t\tcomponent = <CometChatReceiverDirectCallBubble key={message.id} message={message} actionGenerated={this.props.actionGenerated} />;\n\t\t\t\tbreak;\n\t\t\tdefault:\n\t\t\t\tbreak;\n\t\t}\n\n\t\treturn component;\n\t};\n\n\tgetParentMessageComponent = message => {\n\t\tlet component = null;\n\n\t\tswitch (message.category) {\n\t\t\tcase CometChat.CATEGORY_MESSAGE:\n\t\t\t\tif (this.loggedInUser.uid === message.sender.uid) {\n\t\t\t\t\tcomponent = this.getSenderMessageComponent(message);\n\t\t\t\t} else {\n\t\t\t\t\tcomponent = this.getReceiverMessageComponent(message);\n\t\t\t\t}\n\t\t\t\tbreak;\n\t\t\tcase CometChat.CATEGORY_CUSTOM:\n\t\t\t\tif (this.loggedInUser.uid === message.sender.uid) {\n\t\t\t\t\tcomponent = this.getSenderCustomMessageComponent(message);\n\t\t\t\t} else {\n\t\t\t\t\tcomponent = this.getReceiverCustomMessageComponent(message);\n\t\t\t\t}\n\t\t\t\tbreak;\n\t\t\tdefault:\n\t\t\t\tbreak;\n\t\t}\n\n\t\treturn component;\n\t};\n\n\treactToMessage = message => {\n\t\tthis.setState({ messageToReact: message });\n\n\t\tif (this.composerRef) {\n\t\t\tthis.composerRef.toggleEmojiPicker();\n\t\t}\n\t};\n\n\trender() {\n\t\tlet parentMessage = this.getParentMessageComponent(this.state.parentMessage);\n\n\t\tlet seperator = (\n\t\t\t<div css={messageSeparatorStyle(this.props)}>\n\t\t\t\t<hr />\n\t\t\t</div>\n\t\t);\n\t\tif (this.state.parentMessage.hasOwnProperty(\"replyCount\")) {\n\t\t\tconst replyCount = this.state.parentMessage.replyCount;\n\t\t\tconst replyText = replyCount === 1 ? `${replyCount} ${Translator.translate(\"REPLY\", this.context.language)}` : `${replyCount} ${Translator.translate(\"REPLIES\", this.context.language)}`;\n\n\t\t\tseperator = (\n\t\t\t\t<div css={messageSeparatorStyle(this.context)} className=\"message__separator\">\n\t\t\t\t\t<span css={messageReplyStyle()} className=\"message__replies\">\n\t\t\t\t\t\t{replyText}\n\t\t\t\t\t</span>\n\t\t\t\t\t<hr />\n\t\t\t\t</div>\n\t\t\t);\n\t\t}\n\n\t\tlet originalImageView = null;\n\t\tif (this.state.viewOriginalImage) {\n\t\t\toriginalImageView = <CometChatImageViewer open={true} close={() => this.toggleOriginalImageView(false)} message={this.state.viewOriginalImage} lang={this.context.language} />;\n\t\t}\n\n\t\tlet messageComposer = (\n\t\t\t<CometChatMessageComposer\n\t\t\t\tref={el => {\n\t\t\t\t\tthis.composerRef = el;\n\t\t\t\t}}\n\t\t\t\tparentMessageId={this.props.parentMessage.id}\n\t\t\t\tmessageToBeEdited={this.state.messageToBeEdited}\n\t\t\t\treplyPreview={this.state.replyPreview}\n\t\t\t\tmessageToReact={this.state.messageToReact}\n\t\t\t\tactionGenerated={this.actionHandler}\n\t\t\t/>\n\t\t);\n\n\t\t//if send messages feature is disabled\n\t\tif ((this.context.type === CometChat.ACTION_TYPE.TYPE_USER && this.state.enableSendingOneOnOneMessage === false) || (this.context.type === CometChat.ACTION_TYPE.TYPE_GROUP && this.state.enableSendingGroupMessage === false)) {\n\t\t\tmessageComposer = null;\n\t\t}\n\n\t\treturn (\n\t\t\t<React.Fragment>\n\t\t\t\t<div css={wrapperStyle(this.context)} className=\"thread__chat\">\n\t\t\t\t\t<div css={headerStyle(this.context)} className=\"chat__header\">\n\t\t\t\t\t\t<div css={headerWrapperStyle()} className=\"header__wrapper\">\n\t\t\t\t\t\t\t<div css={headerDetailStyle()} className=\"header__details\">\n\t\t\t\t\t\t\t\t<h6 css={headerTitleStyle()} className=\"header__title\">\n\t\t\t\t\t\t\t\t\t{Translator.translate(\"THREAD\", this.context.language)}\n\t\t\t\t\t\t\t\t</h6>\n\t\t\t\t\t\t\t\t<span css={headerNameStyle()} className=\"header__username\">\n\t\t\t\t\t\t\t\t\t{this.props.threadItem.name}\n\t\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<div css={headerCloseStyle(clearIcon, this.context)} className=\"header__close\" onClick={() => this.props.actionGenerated(enums.ACTIONS[\"CLOSE_THREADED_MESSAGE\"])}></div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div css={messageContainerStyle()} className=\"chat__message__container\">\n\t\t\t\t\t\t<div css={parentMessageStyle(this.props.parentMessage)} className=\"parent__message\">\n\t\t\t\t\t\t\t{parentMessage}\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t{seperator}\n\t\t\t\t\t\t<CometChatMessageList messages={this.state.messageList} item={this.props.threadItem} type={this.props.threadType} scrollToBottom={this.state.scrollToBottom} parentMessageId={this.props.parentMessage.id} actionGenerated={this.actionHandler} />\n\t\t\t\t\t\t{messageComposer}\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t\t{originalImageView}\n\t\t\t</React.Fragment>\n\t\t);\n\t}\n}\n\n// Specifies the default values for props:\nCometChatMessageThread.defaultProps = {\n\ttheme: theme\n};\n\nCometChatMessageThread.propTypes = {\n\ttheme: PropTypes.object\n}\n\nexport { CometChatMessageThread };\n","export const msgTimestampStyle = (context, props, loggedInUser) => {\n\n    return {\n        display: \"flex\",\n        fontSize: \"11px\",\n        fontWeight: \"500\",\n        lineHeight: \"12px\",\n        textTransform: \"uppercase\",\n        color: `${context.theme.color.search}`,\n    }\n}\n\nexport const iconStyle = (img, color) => {\n\n    return {\n        mask: `url(${img}) center center no-repeat`,\n        backgroundColor: `${color}`,\n        display: \"inline-block\",\n        width: \"24px\",\n        height: \"24px\"\n    }\n}\n","export default __webpack_public_path__ + \"static/media/message-read.573b8c8c.svg\";","export default __webpack_public_path__ + \"static/media/message-delivered.fbc54350.svg\";","export default __webpack_public_path__ + \"static/media/message-sent.bf5ee0cc.svg\";","export default __webpack_public_path__ + \"static/media/wait.89c8da97.svg\";","export default __webpack_public_path__ + \"static/media/warning-small.6ad6a0ca.svg\";","import React from \"react\";\n/** @jsxRuntime classic */\n/** @jsx jsx */\nimport { jsx } from \"@emotion/core\";\nimport PropTypes from \"prop-types\";\nimport { CometChat } from \"@cometchat-pro/chat\";\n\nimport { getMessageSentTime } from \"../../../util/common\";\nimport { CometChatContext } from \"../../../util/CometChatContext\"\n\nimport Translator from \"../../../resources/localization/translator\";\nimport { theme } from \"../../../resources/theme\";\n\nimport { msgTimestampStyle, iconStyle } from \"./style\";\n\nimport blueDoubleTick from \"./resources/message-read.svg\";\nimport greyDoubleTick from \"./resources/message-delivered.svg\";\nimport greyTick from \"./resources/message-sent.svg\";\nimport sendingTick from \"./resources/wait.svg\";\nimport errorTick from \"./resources/warning-small.svg\";\n\nclass CometChatReadReceipt extends React.PureComponent {\n\tstatic contextType = CometChatContext;\n\tloggedInUser;\n\n\tconstructor(props, context) {\n\t\tsuper(props, context);\n\t\tthis._isMounted = false;\n\t\tthis.state = {\n\t\t\treceipts: false,\n\t\t};\n\n\t\tthis.context.getLoggedinUser().then(user => {\n\t\t\tthis.loggedInUser = { ...user };\n\t\t});\n\t}\n\n\tcomponentDidMount() {\n\t\tthis._isMounted = true;\n\t\tthis.toggleReadReceipts();\n\t}\n\n\tcomponentDidUpdate() {\n\t\tthis.toggleReadReceipts();\n\t}\n\n\tcomponentWillUnmount() {\n\t\tthis._isMounted = false;\n\t}\n\n\ttoggleReadReceipts = () => {\n\t\t/**\n\t\t * if delivery receipts feature is disabled\n\t\t */\n\t\tthis.context.FeatureRestriction.isDeliveryReceiptsEnabled()\n\t\t\t.then(response => {\n\t\t\t\tif (response !== this.state.receipts && this._isMounted) {\n\t\t\t\t\tthis.setState({ receipts: response });\n\t\t\t\t}\n\t\t\t})\n\t\t\t.catch(error => {\n\t\t\t\tif (this.state.receipts !== false) {\n\t\t\t\t\tthis.setState({ receipts: false });\n\t\t\t\t}\n\t\t\t});\n\t};\n\n\trender() {\n\t\t\n\t\tlet ticks,\n\t\t\treceiptText = null,\n\t\t\tdateField = null,\n\t\t\tcolor = null;\n\t\t\n\t\tif (this.props.message?.sender?.uid === this.loggedInUser?.uid) {\n\n\t\t\tif (this.props.message.receiverType === CometChat.RECEIVER_TYPE.GROUP) {\n\t\t\t\tif (this.props.message.hasOwnProperty(\"error\")) {\n\t\t\t\t\tticks = errorTick;\n\t\t\t\t\treceiptText = \"ERROR\";\n\t\t\t\t\tdateField = this.props.message._composedAt;\n\t\t\t\t\tcolor = this.context.theme.color.red;\n\t\t\t\t} else {\n\t\t\t\t\tticks = sendingTick;\n\t\t\t\t\treceiptText = \"SENDING\";\n\t\t\t\t\tdateField = this.props.message._composedAt;\n\t\t\t\t\tcolor = this.context.theme.secondaryTextColor;\n\t\t\t\t\tif (this.props.message.hasOwnProperty(\"sentAt\")) {\n\t\t\t\t\t\tticks = greyTick;\n\t\t\t\t\t\treceiptText = \"SENT\";\n\t\t\t\t\t\tdateField = this.props.message.sentAt;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tif (this.props.message.hasOwnProperty(\"error\")) {\n\t\t\t\t\tticks = errorTick;\n\t\t\t\t\treceiptText = \"ERROR\";\n\t\t\t\t\tdateField = this.props.message._composedAt;\n\t\t\t\t\tcolor = this.context.theme.color.red;\n\t\t\t\t} else {\n\t\t\t\t\tticks = sendingTick;\n\t\t\t\t\treceiptText = \"SENDING\";\n\t\t\t\t\tdateField = this.props.message._composedAt;\n\t\t\t\t\tcolor = this.context.theme.secondaryTextColor;\n\n\t\t\t\t\tif (this.props.message.hasOwnProperty(\"readAt\")) {\n\n\t\t\t\t\t\tticks = blueDoubleTick;\n\t\t\t\t\t\treceiptText = \"SEEN\";\n\t\t\t\t\t\tcolor = this.context.theme.primaryColor;\n\t\t\t\t\t\tdateField = this.props.message.readAt;\n\n\t\t\t\t\t} else if (this.props.message.hasOwnProperty(\"deliveredAt\")) {\n\n\t\t\t\t\t\tticks = greyDoubleTick;\n\t\t\t\t\t\treceiptText = \"DELIVERED\";\n\t\t\t\t\t\tdateField = this.props.message.deliveredAt;\n\n\t\t\t\t\t} else if (this.props.message.hasOwnProperty(\"sentAt\")) {\n\n\t\t\t\t\t\tticks = greyTick;\n\t\t\t\t\t\treceiptText = \"SENT\";\n\t\t\t\t\t\tdateField = this.props.message.sentAt;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t} else {\n\t\t\tdateField = this.props.message.sentAt;\n\t\t}\n\n\t\t//if delivery receipts are disabled\n\t\tif (this.state.receipts === false) {\n\t\t\tticks = null;\n\t\t}\n\n\t\tconst receipt = ticks ? <i css={iconStyle(ticks, color)} title={Translator.translate(receiptText, this.context.language)}></i> : null;\n\n\t\tconst timestamp = getMessageSentTime(dateField, this.context.language);\n\n\t\treturn (\n\t\t\t<React.Fragment>\n\t\t\t\t<span css={msgTimestampStyle(this.context, this.props, this.loggedInUser)} className=\"message__timestamp\">\n\t\t\t\t\t{timestamp}\n\t\t\t\t</span>\n\t\t\t\t{receipt}\n\t\t\t</React.Fragment>\n\t\t);\n\t}\n}\n\n// Specifies the default values for props:\nCometChatReadReceipt.defaultProps = {\n\ttheme: theme,\n};\n\nCometChatReadReceipt.propTypes = {\n\ttheme: PropTypes.object,\n\tmessage: PropTypes.object.isRequired,\n};\n\nexport { CometChatReadReceipt };\n","export const messageContainerStyle = () => {\n\n    return {\n        alignSelf: \"flex-start\",\n        marginBottom: \"16px\",\n        paddingLeft: \"16px\",\n        paddingRight: \"16px\",\n        maxWidth: \"65%\",\n        clear: \"both\",\n        position: \"relative\",\n        display: \"flex\",\n        flexDirection: \"column\",\n        flexShrink: \"0\",\n    }\n}\n\nexport const messageWrapperStyle = () => {\n\n    return {\n        width: \"auto\",\n        flex: \"1 1\",\n        alignSelf: \"flex-start\",\n        display: \"flex\",\n    }\n}\n\nexport const messageThumbnailStyle = () => {\n\n    return {\n        width: \"36px\",\n        height: \"36px\",\n        margin: \"10px 5px\",\n        float: \"left\",\n        flexShrink: \"0\",\n    }\n}\n\nexport const messageDetailStyle = () => {\n\n    return {\n        flex: \"1 1\",\n        display: \"flex\",\n        flexDirection: \"column\",\n    }\n}\n\nexport const nameWrapperStyle = (avatar) => {\n\n    const paddingValue = (avatar) ? {\n        padding: \"3px 5px\",\n    } : {};\n\n    return {\n        alignSelf: \"flex-start\",\n        ...paddingValue\n    }\n}\n\nexport const nameStyle = context => {\n\n\treturn {\n\t\tfontSize: \"11px\",\n\t\tcolor: `${context.theme.color.search}`,\n\t};\n};\n\nexport const messageAudioContainerStyle = () => {\n\n    return {\n        width: \"auto\",\n        flex: \"1 1\",\n        alignSelf: \"flex-start\",\n        display: \"flex\",\n    }\n}\n\nexport const messageAudioWrapperStyle = () => {\n\n    return {\n        display: \"inline-block\",\n        borderRadius: \"12px\",\n        alignSelf: \"flex-start\",\n        \" > audio\": {\n            maxWidth: \"250px\",\n            display: \"inherit\",\n            outline: \"none\",\n        }\n    }\n}\n\nexport const messageInfoWrapperStyle = () => {\n\n    return {\n        alignSelf: \"flex-start\",\n        padding: \"4px 8px\",\n        display: \"flex\",\n        alignItems: \"center\",\n        justifyContent: \"flex-start\",\n        height: \"25px\"\n    }\n}\n\nexport const messageReactionsWrapperStyle = () => {\n\n    return {\n        display: \"flex\",\n        alignSelf: \"flex-start\",\n        width: \"100%\",\n        flexWrap: \"wrap\",\n        justifyContent: \"flex-start\",\n        minHeight: \"36px\",\n    }\n}\n","import React from \"react\";\n/** @jsxRuntime classic */\n/** @jsx jsx */\nimport { jsx } from \"@emotion/core\";\nimport PropTypes from \"prop-types\";\nimport { CometChat } from \"@cometchat-pro/chat\";\n\nimport { CometChatMessageActions, CometChatThreadedMessageReplyCount, CometChatReadReceipt } from \"../\";\nimport { CometChatMessageReactions } from \"../Extensions\";\nimport { CometChatAvatar } from \"../../Shared\";\n\nimport { CometChatContext } from \"../../../util/CometChatContext\";\nimport { checkMessageForExtensionsData } from \"../../../util/common\";\n\nimport { theme } from \"../../../resources/theme\";\n\nimport {\n\tmessageContainerStyle,\n\tmessageWrapperStyle,\n\tmessageThumbnailStyle,\n\tmessageDetailStyle,\n\tnameWrapperStyle,\n\tnameStyle,\n\tmessageAudioContainerStyle,\n\tmessageAudioWrapperStyle,\n\tmessageInfoWrapperStyle,\n\tmessageReactionsWrapperStyle\n} from \"./style\";\n\nclass CometChatReceiverAudioMessageBubble extends React.Component {\n\tstatic contextType = CometChatContext;\n\n\tconstructor(props) {\n\t\tsuper(props);\n\n\t\tthis.state = {\n\t\t\tisHovering: false,\n\t\t};\n\t}\n\n\tshouldComponentUpdate(nextProps, nextState) {\n\n\t\tconst currentMessageStr = JSON.stringify(this.props.message);\n\t\tconst nextMessageStr = JSON.stringify(nextProps.message);\n\n\t\tif (currentMessageStr !== nextMessageStr \n\t\t|| this.state.isHovering !== nextState.isHovering) {\n\t\t\treturn true;\n\t\t}\n\t\treturn false;\n\t}\n\n\thandleMouseHover = () => {\n\t\tthis.setState(this.toggleHoverState);\n\t};\n\n\ttoggleHoverState = state => {\n\t\treturn {\n\t\t\tisHovering: !state.isHovering,\n\t\t};\n\t};\n\n\trender() {\n\t\tlet avatar = null,\n\t\t\tname = null;\n\t\tif (this.props.message.receiverType === CometChat.RECEIVER_TYPE.GROUP) {\n\t\t\tavatar = (\n\t\t\t\t<div css={messageThumbnailStyle()} className=\"message__thumbnail\">\n\t\t\t\t\t<CometChatAvatar user={this.props.message.sender} />\n\t\t\t\t</div>\n\t\t\t);\n\n\t\t\tname = (\n\t\t\t\t<div css={nameWrapperStyle(avatar)} className=\"message__name__wrapper\">\n\t\t\t\t\t<span css={nameStyle(this.context)} className=\"message__name\">\n\t\t\t\t\t\t{this.props.message.sender.name}\n\t\t\t\t\t</span>\n\t\t\t\t</div>\n\t\t\t);\n\t\t}\n\n\t\tlet messageReactions = null;\n\t\tconst reactionsData = checkMessageForExtensionsData(this.props.message, \"reactions\");\n\t\tif (reactionsData) {\n\t\t\tif (Object.keys(reactionsData).length) {\n\t\t\t\tmessageReactions = (\n\t\t\t\t\t<div css={messageReactionsWrapperStyle()} className=\"message__reaction__wrapper\">\n\t\t\t\t\t\t<CometChatMessageReactions message={this.props.message} actionGenerated={this.props.actionGenerated} />\n\t\t\t\t\t</div>\n\t\t\t\t);\n\t\t\t}\n\t\t}\n\n\t\tlet toolTipView = null;\n\t\tif (this.state.isHovering) {\n\t\t\ttoolTipView = <CometChatMessageActions message={this.props.message} actionGenerated={this.props.actionGenerated} />;\n\t\t}\n\n\t\treturn (\n\t\t\t<div css={messageContainerStyle()} className=\"receiver__message__container message__audio\" onMouseEnter={this.handleMouseHover} onMouseLeave={this.handleMouseHover}>\n\t\t\t\t<div css={messageWrapperStyle()} className=\"message__wrapper\">\n\t\t\t\t\t{avatar}\n\t\t\t\t\t<div css={messageDetailStyle()} className=\"message__details\">\n\t\t\t\t\t\t{name}\n\t\t\t\t\t\t{toolTipView}\n\t\t\t\t\t\t<div css={messageAudioContainerStyle()} className=\"message__audio__container\">\n\t\t\t\t\t\t\t<div css={messageAudioWrapperStyle()} className=\"message__audio__wrapper\">\n\t\t\t\t\t\t\t\t<audio controls>\n\t\t\t\t\t\t\t\t\t<source src={this.props.message.data.attachments[0].url} />\n\t\t\t\t\t\t\t\t</audio>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t{messageReactions}\n\n\t\t\t\t\t\t<div css={messageInfoWrapperStyle()} className=\"message__info__wrapper\">\n\t\t\t\t\t\t\t<CometChatReadReceipt message={this.props.message} />\n\t\t\t\t\t\t\t<CometChatThreadedMessageReplyCount message={this.props.message} actionGenerated={this.props.actionGenerated} />\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t);\n\t}\n}\n\n// Specifies the default values for props:\nCometChatReceiverAudioMessageBubble.defaultProps = {\n\ttheme: theme,\n\tactionGenerated: () => {},\n};\n\nCometChatReceiverAudioMessageBubble.propTypes = {\n\ttheme: PropTypes.object,\n\tactionGenerated: PropTypes.func.isRequired,\n\tmessage: PropTypes.object.isRequired,\n};\n\nexport { CometChatReceiverAudioMessageBubble };\n","export const messageContainerStyle = () => {\n\n    return {\n        alignSelf: \"flex-start\",\n        marginBottom: \"16px\",\n        paddingLeft: \"16px\",\n        paddingRight: \"16px\",\n        maxWidth: \"305px\",\n        clear: \"both\",\n        position: \"relative\",\n        display: \"flex\",\n        flexDirection: \"column\",\n        flexShrink: \"0\",\n    }\n}\n\nexport const messageWrapperStyle = () => {\n\n    return {\n        width: \"auto\",\n        flex: \"1 1\",\n        alignSelf: \"flex-start\",\n        display: \"flex\",\n    }\n}\n\nexport const messageThumbnailStyle = () => {\n\n    return {\n        width: \"36px\",\n        height: \"36px\",\n        margin: \"10px 5px\",\n        float: \"left\",\n        flexShrink: \"0\",\n    }\n}\n\nexport const messageDetailStyle = () => {\n\n    return {\n        flex: \"1 1\",\n        display: \"flex\",\n        flexDirection: \"column\",\n    }\n}\n\nexport const nameWrapperStyle = (avatar) => {\n\n    const paddingValue = (avatar) ? {\n        padding: \"3px 5px\",\n    } : {};\n\n    return {\n        alignSelf: \"flex-start\",\n        ...paddingValue\n    }\n}\n\nexport const nameStyle = context => {\n\n\treturn {\n\t\tfontSize: \"11px\",\n\t\tcolor: `${context.theme.color.search}`,\n\t};\n};\n\nexport const messageTxtContainerStyle = () => {\n\n    return {\n        width: \"auto\",\n        flex: \"1 1\",\n        alignSelf: \"flex-start\",\n        display: \"flex\",\n        \"img\": {\n            width: \"35px\"\n        }\n    }\n}\n\nexport const messageTxtWrapperStyle = context => {\n\n\treturn {\n\t\tdisplay: \"flex\",\n\t\tflexDirection: \"column\",\n\t\tborderRadius: \"12px\",\n\t\tbackgroundColor: `${context.theme.backgroundColor.secondary}`,\n\t\tpadding: \"16px\",\n\t\talignSelf: \"flex-start\",\n\t\twidth: \"100%\",\n\t\tminHeight: \"106px\",\n\t};\n};\n\nexport const messageTxtTitleStyle = context => {\n\n\treturn {\n\t\tdisplay: \"flex\",\n\t\tjustifyContent: \"center\",\n\t\talignItems: \"center\",\n\t\tcolor: `${context.theme.color.primary}`,\n\t};\n};\n\nexport const messageTxtStyle = () => {\n\n    return {\n        margin: \"0\",\n        whiteSpace: \"pre-wrap\",\n        wordWrap: \"break-word\",\n        textAlign: \"left\",\n        width: \"calc(100% - 30px)\",\n        fontSize: \"14px\",\n        marginLeft: \"8px\"\n    }\n}\n\nexport const messageBtnStyle = context => {\n\n\treturn {\n\t\tlistStyleType: \"none\",\n\t\tpadding: \"0\",\n\t\tmargin: \"16px 0 0 0\",\n\t\tli: {\n\t\t\tbackgroundColor: `${context.theme.backgroundColor.white}`,\n\t\t\tborderRadius: \"8px\",\n\t\t\tdisplay: \"flex\",\n\t\t\tjustifyContent: \"center\",\n\t\t\talignItems: \"center\",\n\t\t\twidth: \"100%\",\n\t\t\tcursor: \"pointer\",\n\t\t\tposition: \"relative\",\n\t\t\tmargin: \"0\",\n\t\t\tpadding: \"8px\",\n\t\t\t\"> p\": {\n\t\t\t\tbackground: \"0 0\",\n\t\t\t\ttextAlign: \"center\",\n\t\t\t\tcolor: `${context.theme.primaryColor}`,\n\t\t\t\twidth: \"100%\",\n\t\t\t\tdisplay: \"inline-block\",\n\t\t\t\tfontSize: \"14px\",\n\t\t\t\tfontWeight: \"600\",\n\t\t\t\tmargin: \"0\",\n\t\t\t},\n\t\t},\n\t};\n};\n\n\nexport const messageInfoWrapperStyle = () => {\n\n    return {\n        alignSelf: \"flex-start\",\n        padding: \"4px 8px\",\n        display: \"flex\",\n        alignItems: \"center\",\n        justifyContent: \"flex-start\",\n        height: \"25px\"\n    }\n}\n\nexport const messageReactionsWrapperStyle = () => {\n\n    return {\n        display: \"flex\",\n        alignSelf: \"flex-start\",\n        width: \"100%\",\n        flexWrap: \"wrap\",\n        justifyContent: \"flex-start\",\n        minHeight: \"36px\",\n    }\n}\n\nexport const iconStyle = (img, context) => {\n\treturn {\n\t\twidth: \"30px\",\n\t\theight: \"24px\",\n\t\tdisplay: \"inline-block\",\n\t\tmask: `url(${img}) center center no-repeat`,\n\t\tbackgroundColor: `${context.theme.primaryColor}`,\n\t};\n};\n","export default __webpack_public_path__ + \"static/media/video-call.0e4e774d.svg\";","import React from \"react\";\n/** @jsxRuntime classic */\n/** @jsx jsx */\nimport { jsx } from \"@emotion/core\";\nimport PropTypes from \"prop-types\";\nimport { CometChat } from \"@cometchat-pro/chat\";\n\nimport { CometChatMessageActions, CometChatThreadedMessageReplyCount, CometChatReadReceipt } from \"../\";\nimport { CometChatMessageReactions } from \"../Extensions\";\nimport { CometChatAvatar } from \"../../Shared\";\n\nimport { CometChatContext } from \"../../../util/CometChatContext\";\nimport { checkMessageForExtensionsData } from \"../../../util/common\";\nimport * as enums from \"../../../util/enums.js\";\n\nimport { theme } from \"../../../resources/theme\";\nimport Translator from \"../../../resources/localization/translator\";\n\nimport {\n\tmessageContainerStyle,\n\tmessageWrapperStyle,\n\tmessageThumbnailStyle,\n\tmessageDetailStyle,\n\tnameWrapperStyle,\n\tnameStyle,\n\tmessageTxtContainerStyle,\n\tmessageTxtWrapperStyle,\n\tmessageTxtTitleStyle,\n\tmessageTxtStyle,\n\tmessageBtnStyle,\n\tmessageInfoWrapperStyle,\n\tmessageReactionsWrapperStyle,\n\ticonStyle,\n} from \"./style\";\n\nimport callIcon from \"./resources/video-call.svg\";\n\nclass CometChatReceiverDirectCallBubble extends React.Component {\n\tstatic contextType = CometChatContext;\n\n\tconstructor(props) {\n\t\tsuper(props);\n\n\t\tthis.state = {\n\t\t\tisHovering: false,\n\t\t};\n\t}\n\n\tshouldComponentUpdate(nextProps, nextState) {\n\n\t\tconst currentMessageStr = JSON.stringify(this.props.message);\n\t\tconst nextMessageStr = JSON.stringify(nextProps.message);\n\n\t\tif (currentMessageStr !== nextMessageStr \n        || this.state.isHovering !== nextState.isHovering) {\n\t\t\treturn true;\n\t\t}\n\t\treturn false;\n\t}\n\n\thandleMouseHover = () => {\n\t\tthis.setState(this.toggleHoverState);\n\t};\n\n\ttoggleHoverState = state => {\n\t\treturn {\n\t\t\tisHovering: !state.isHovering,\n\t\t};\n\t};\n\n\trender() {\n\t\tlet avatar = null,\n\t\t\tname = null;\n\t\tif (this.props.message.receiverType === CometChat.RECEIVER_TYPE.GROUP) {\n\t\t\tavatar = (\n\t\t\t\t<div css={messageThumbnailStyle} className=\"message__thumbnail\">\n\t\t\t\t\t<CometChatAvatar user={this.props.message.sender} />\n\t\t\t\t</div>\n\t\t\t);\n\n\t\t\tname = (\n\t\t\t\t<div css={nameWrapperStyle(avatar)} className=\"message__name__wrapper\">\n\t\t\t\t\t<span css={nameStyle(this.context)} className=\"message__name\">\n\t\t\t\t\t\t{this.props.message.sender.name}\n\t\t\t\t\t</span>\n\t\t\t\t</div>\n\t\t\t);\n\t\t}\n\n\t\tlet messageReactions = null;\n\t\tconst reactionsData = checkMessageForExtensionsData(this.props.message, \"reactions\");\n\t\tif (reactionsData) {\n\t\t\tif (Object.keys(reactionsData).length) {\n\t\t\t\tmessageReactions = (\n\t\t\t\t\t<div css={messageReactionsWrapperStyle()} className=\"message__reaction__wrapper\">\n\t\t\t\t\t\t<CometChatMessageReactions message={this.props.message} actionGenerated={this.props.actionGenerated} />\n\t\t\t\t\t</div>\n\t\t\t\t);\n\t\t\t}\n\t\t}\n\n\t\tlet toolTipView = null;\n\t\tif (this.state.isHovering) {\n\t\t\ttoolTipView = <CometChatMessageActions message={this.props.message} actionGenerated={this.props.actionGenerated} />;\n\t\t}\n\n\t\tconst messageTitle = `${this.props.message.sender.name} ${Translator.translate(\"INITIATED_GROUP_CALL\", this.context.language)}`;\n\n\t\tlet callMessage = null;\n\t\tconst joinCallMessage = Translator.translate(\"YOU_ALREADY_ONGOING_CALL\", this.context.language);\n\n\t\tif (this.context.checkIfDirectCallIsOngoing() === enums.CONSTANTS.CALLS[\"ONGOING_CALL_SAME_GROUP\"]) {\n\t\t\t//ongoing call in same group\n\t\t\tcallMessage = (\n\t\t\t\t<li className=\"directcall__row\" title={joinCallMessage}>\n\t\t\t\t\t<p className=\"directcall__text\">{Translator.translate(\"JOIN\", this.context.language)}</p>\n\t\t\t\t</li>\n\t\t\t);\n\t\t} else if (this.context.checkIfDirectCallIsOngoing() === enums.CONSTANTS.CALLS[\"ONGOING_CALL_DIFF_GROUP\"]) {\n\t\t\t//ongoing call in different group\n\n\t\t\tcallMessage = (\n\t\t\t\t<li className=\"directcall__row\" title={joinCallMessage}>\n\t\t\t\t\t<p className=\"directcall__text\">{Translator.translate(\"JOIN\", this.context.language)}</p>\n\t\t\t\t</li>\n\t\t\t);\n\t\t} else if (this.context.checkIfCallIsOngoing()) {\n\t\t\t//ongoing call\n\n\t\t\tcallMessage = (\n\t\t\t\t<li className=\"directcall__row\" title={joinCallMessage}>\n\t\t\t\t\t<p className=\"directcall__text\">{Translator.translate(\"JOIN\", this.context.language)}</p>\n\t\t\t\t</li>\n\t\t\t);\n\t\t} else {\n\t\t\tcallMessage = (\n\t\t\t\t<li className=\"directcall__row\" onClick={() => this.props.actionGenerated(enums.ACTIONS[\"JOIN_DIRECT_CALL\"], this.props.message)}>\n\t\t\t\t\t<p className=\"directcall__text\">{Translator.translate(\"JOIN\", this.context.language)}</p>\n\t\t\t\t</li>\n\t\t\t);\n\t\t}\n\n\t\treturn (\n\t\t\t<div css={messageContainerStyle()} className=\"receiver__message__container message__directcall\" onMouseEnter={this.handleMouseHover} onMouseLeave={this.handleMouseHover}>\n\t\t\t\t<div css={messageWrapperStyle()} className=\"message__wrapper\">\n\t\t\t\t\t{avatar}\n\t\t\t\t\t<div css={messageDetailStyle()} className=\"message__details\">\n\t\t\t\t\t\t{name}\n\t\t\t\t\t\t{toolTipView}\n\t\t\t\t\t\t<div css={messageTxtContainerStyle()} className=\"message__directcall__container\">\n\t\t\t\t\t\t\t<div css={messageTxtWrapperStyle(this.context)} className=\"message__directcall__wrapper\">\n\t\t\t\t\t\t\t\t<div css={messageTxtTitleStyle(this.context)} className=\"message__directcall__title\">\n\t\t\t\t\t\t\t\t\t<i css={iconStyle(callIcon, this.context)} title={Translator.translate(\"VIDEO_CALL\", this.context.language)}></i>\n\t\t\t\t\t\t\t\t\t<p css={messageTxtStyle()} className=\"directcall__title\">\n\t\t\t\t\t\t\t\t\t\t{messageTitle}\n\t\t\t\t\t\t\t\t\t</p>\n\t\t\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t\t\t<ul css={messageBtnStyle(this.context)} className=\"directcall__button\">\n\t\t\t\t\t\t\t\t\t{callMessage}\n\t\t\t\t\t\t\t\t</ul>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t{messageReactions}\n\n\t\t\t\t\t\t<div css={messageInfoWrapperStyle()} className=\"message__info__wrapper\">\n\t\t\t\t\t\t\t<CometChatReadReceipt message={this.props.message} />\n\t\t\t\t\t\t\t<CometChatThreadedMessageReplyCount message={this.props.message} />\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t);\n\t}\n}\n\n// Specifies the default values for props:\nCometChatReceiverDirectCallBubble.defaultProps = {\n\ttheme: theme,\n\tactionGenerated: () => {},\n};\n\nCometChatReceiverDirectCallBubble.propTypes = {\n\ttheme: PropTypes.object,\n\tactionGenerated: PropTypes.func.isRequired,\n\tmessage: PropTypes.object.isRequired,\n};\n\nexport { CometChatReceiverDirectCallBubble };\n","export const messageContainerStyle = () => {\n\n    return {\n        alignSelf: \"flex-start\",\n        marginBottom: \"16px\",\n        paddingLeft: \"16px\",\n        paddingRight: \"16px\",\n        maxWidth: \"65%\",\n        clear: \"both\",\n        position: \"relative\",\n        display: \"flex\",\n        flexDirection: \"column\",\n        flexShrink: \"0\",\n    }\n}\n\nexport const messageWrapperStyle = () => {\n\n    return {\n        width: \"auto\",\n        flex: \"1 1\",\n        alignSelf: \"flex-start\",\n        display: \"flex\",\n    }\n}\n\nexport const messageThumbnailStyle = () => {\n\n    return {\n        width: \"36px\",\n        height: \"36px\",\n        margin: \"10px 5px\",\n        float: \"left\",\n        flexShrink: \"0\",\n    }\n}\n\nexport const messageDetailStyle = () => {\n\n    return {\n        flex: \"1 1\",\n        display: \"flex\",\n        flexDirection: \"column\",\n    }\n}\n\nexport const nameWrapperStyle = (avatar) => {\n\n    const paddingValue = (avatar) ? {\n        padding: \"3px 5px\",\n    } : {};\n\n    return {\n        alignSelf: \"flex-start\",\n        ...paddingValue\n    }\n}\n\nexport const nameStyle = context => {\n\n\treturn {\n\t\tfontSize: \"11px\",\n\t\tcolor: `${context.theme.color.search}`,\n\t};\n};\n\nexport const messageFileContainerStyle = () => {\n\n    return {\n        width: \"auto\",\n        flex: \"1 1\",\n        alignSelf: \"flex-start\",\n        display: \"flex\",\n    }\n}\n\nexport const messageFileWrapperStyle = context => {\n\n\treturn {\n\t\tdisplay: \"inline-block\",\n\t\tborderRadius: \"12px\",\n\t\tcolor: `${context.theme.color.secondary}`,\n\t\tbackgroundColor: `${context.theme.backgroundColor.secondary}`,\n\t\tpadding: \"8px 16px\",\n\t\talignSelf: \"flex-start\",\n\t\twidth: \"auto\",\n\t\t\"> a\": {\n\t\t\tbackground: \"0 0\",\n\t\t\ttextDecoration: \"none\",\n\t\t\tbackgroundColor: \"transparent\",\n\t\t\tcolor: `${context.theme.color.primary}`,\n\t\t\twidth: \"auto\",\n\t\t\tfontSize: \"14px\",\n\t\t\tdisplay: \"flex\",\n\t\t\talignItems: \"center\",\n\t\t\tjustifyContent: \"center\",\n\t\t\t\"&:visited, &:active, &:hover\": {\n\t\t\t\tcolor: `${context.theme.color.primary}`,\n\t\t\t\ttextDecoration: \"none\",\n\t\t\t},\n\t\t\tlabel: {\n\t\t\t\tcursor: \"pointer\",\n\t\t\t},\n\t\t},\n\t};\n};\n\nexport const messageInfoWrapperStyle = () => {\n\n    return {\n        alignSelf: \"flex-start\",\n        padding: \"4px 8px\",\n        display: \"flex\",\n        alignItems: \"center\",\n        justifyContent: \"flex-start\",\n        height: \"25px\"\n    }\n}\n\nexport const messageReactionsWrapperStyle = () => {\n\n    return {\n        display: \"flex\",\n        alignSelf: \"flex-start\",\n        width: \"100%\",\n        flexWrap: \"wrap\",\n        justifyContent: \"flex-start\",\n        minHeight: \"36px\",\n    }\n}\n\nexport const iconStyle = (img, context) => {\n\treturn {\n\t\twidth: \"24px\",\n\t\theight: \"24px\",\n\t\tdisplay: \"inline-block\",\n\t\tmask: `url(${img}) center center no-repeat`,\n\t\tbackgroundColor: `${context.theme.secondaryTextColor}`,\n\t\tmarginRight: \"8px\",\n\t};\n};\n","export default __webpack_public_path__ + \"static/media/file-upload.a68d497b.svg\";","import React from \"react\";\n/** @jsxRuntime classic */\n/** @jsx jsx */\nimport { jsx } from \"@emotion/core\";\nimport PropTypes from \"prop-types\";\nimport { CometChat } from \"@cometchat-pro/chat\";\n\nimport { CometChatMessageActions, CometChatThreadedMessageReplyCount, CometChatReadReceipt } from \"../\";\nimport { CometChatMessageReactions } from \"../Extensions\";\nimport { CometChatAvatar } from \"../../Shared\";\n\nimport { CometChatContext } from \"../../../util/CometChatContext\";\nimport { checkMessageForExtensionsData } from \"../../../util/common\";\n\nimport { theme } from \"../../../resources/theme\";\n\nimport { \n\tmessageContainerStyle,\n\tmessageWrapperStyle,\n\tmessageThumbnailStyle,\n\tmessageDetailStyle,\n\tnameWrapperStyle,\n\tnameStyle,\n\tmessageFileContainerStyle,\n\tmessageFileWrapperStyle,\n\tmessageInfoWrapperStyle,\n\tmessageReactionsWrapperStyle,\n\ticonStyle\n} from \"./style\";\n\nimport fileIcon from \"./resources/file-upload.svg\";\n\nclass CometChatReceiverFileMessageBubble extends React.Component {\n\tstatic contextType = CometChatContext;\n\n\tconstructor(props) {\n\t\tsuper(props);\n\n\t\tthis.state = {\n\t\t\tisHovering: false,\n\t\t};\n\t}\n\n\tshouldComponentUpdate(nextProps, nextState) {\n\n\t\tconst currentMessageStr = JSON.stringify(this.props.message);\n\t\tconst nextMessageStr = JSON.stringify(nextProps.message);\n\n\t\tif (currentMessageStr !== nextMessageStr \n\t\t|| this.state.isHovering !== nextState.isHovering) {\n\t\t\t\n\t\t\treturn true;\n\t\t}\n\t\treturn false;\n\t}\n\n\thandleMouseHover = () => {\n\t\tthis.setState(this.toggleHoverState);\n\t};\n\n\ttoggleHoverState = state => {\n\t\treturn {\n\t\t\tisHovering: !state.isHovering,\n\t\t};\n\t};\n\n\trender() {\n\t\tlet avatar = null,\n\t\t\tname = null;\n\t\tif (this.props.message.receiverType === CometChat.RECEIVER_TYPE.GROUP) {\n\t\t\tavatar = (\n\t\t\t\t<div css={messageThumbnailStyle()} className=\"message__thumbnail\">\n\t\t\t\t\t<CometChatAvatar user={this.props.message.sender} />\n\t\t\t\t</div>\n\t\t\t);\n\n\t\t\tname = (\n\t\t\t\t<div css={nameWrapperStyle(avatar)} className=\"message__name__wrapper\">\n\t\t\t\t\t<span css={nameStyle(this.context)} className=\"message__name\">\n\t\t\t\t\t\t{this.props.message.sender.name}\n\t\t\t\t\t</span>\n\t\t\t\t</div>\n\t\t\t);\n\t\t}\n\n\t\tlet messageReactions = null;\n\t\tconst reactionsData = checkMessageForExtensionsData(this.props.message, \"reactions\");\n\t\tif (reactionsData) {\n\t\t\tif (Object.keys(reactionsData).length) {\n\t\t\t\tmessageReactions = (\n\t\t\t\t\t<div css={messageReactionsWrapperStyle()} className=\"message__reaction__wrapper\">\n\t\t\t\t\t\t<CometChatMessageReactions message={this.props.message} actionGenerated={this.props.actionGenerated} />\n\t\t\t\t\t</div>\n\t\t\t\t);\n\t\t\t}\n\t\t}\n\n\t\tlet toolTipView = null;\n\t\tif (this.state.isHovering) {\n\t\t\ttoolTipView = <CometChatMessageActions message={this.props.message} actionGenerated={this.props.actionGenerated} />;\n\t\t}\n\n\t\treturn (\n\t\t\t<div css={messageContainerStyle()} className=\"receiver__message__container message__file\" onMouseEnter={this.handleMouseHover} onMouseLeave={this.handleMouseHover}>\n\t\t\t\t<div css={messageWrapperStyle()} className=\"message__wrapper\">\n\t\t\t\t\t{avatar}\n\t\t\t\t\t<div css={messageDetailStyle()} className=\"message__details\">\n\t\t\t\t\t\t{name}\n\t\t\t\t\t\t{toolTipView}\n\t\t\t\t\t\t<div css={messageFileContainerStyle()} className=\"message__file__container\">\n\t\t\t\t\t\t\t<div css={messageFileWrapperStyle(this.context)} className=\"message__file__wrapper\">\n\t\t\t\t\t\t\t\t<a href={this.props.message.data.attachments[0].url} target=\"_blank\" rel=\"noopener noreferrer\">\n\t\t\t\t\t\t\t\t\t<i css={iconStyle(fileIcon, this.context)}></i>\n\t\t\t\t\t\t\t\t\t<label>{this.props.message.data.attachments[0].name}</label>\n\t\t\t\t\t\t\t\t</a>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t{messageReactions}\n\n\t\t\t\t\t\t<div css={messageInfoWrapperStyle()} className=\"message__info__wrapper\">\n\t\t\t\t\t\t\t<CometChatReadReceipt message={this.props.message} />\n\t\t\t\t\t\t\t<CometChatThreadedMessageReplyCount message={this.props.message} actionGenerated={this.props.actionGenerated} />\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t);\n\t}\n}\n\n// Specifies the default values for props:\nCometChatReceiverFileMessageBubble.defaultProps = {\n\ttheme: theme,\n\tactionGenerated: () => {},\n};\n\nCometChatReceiverFileMessageBubble.propTypes = {\n\ttheme: PropTypes.object,\n\tactionGenerated: PropTypes.func.isRequired,\n\tmessage: PropTypes.object.isRequired,\n};\n\nexport { CometChatReceiverFileMessageBubble };\n","export const messageContainerStyle = () => {\n\n    return {\n        alignSelf: \"flex-start\",\n        marginBottom: \"16px\",\n        paddingLeft: \"16px\",\n        paddingRight: \"16px\",\n        maxWidth: \"65%\",\n        clear: \"both\",\n        position: \"relative\",\n        display: \"flex\",\n        flexDirection: \"column\",\n        flexShrink: \"0\",\n    }\n}\n\nexport const messageWrapperStyle = () => {\n\n    return {\n        width: \"auto\",\n        flex: \"1 1\",\n        alignSelf: \"flex-start\",\n        display: \"flex\",\n    }\n}\n\nexport const messageThumbnailStyle = () => {\n\n    return {\n        width: \"36px\",\n        height: \"36px\",\n        margin: \"10px 5px\",\n        float: \"left\",\n        flexShrink: \"0\",\n    }\n}\n\nexport const messageDetailStyle = () => {\n\n    return {\n        flex: \"1 1\",\n        display: \"flex\",\n        flexDirection: \"column\",\n    }\n}\n\nexport const nameWrapperStyle = (avatar) => {\n\n    const paddingValue = (avatar) ? {\n        padding: \"3px 5px\",\n    } : {};\n\n    return {\n        alignSelf: \"flex-start\",\n        ...paddingValue\n    }\n}\n\nexport const nameStyle = context => {\n\n\treturn {\n\t\tfontSize: \"11px\",\n\t\tcolor: `${context.theme.color.search}`,\n\t};\n};\n\nexport const messageImgContainerStyle = () => {\n\n    return {\n        width: \"auto\",\n        flex: \"1 1\",\n        alignSelf: \"flex-start\",\n        display: \"flex\",\n    }\n}\n\nexport const messageImgWrapperStyle = context => {\n\n\tconst mq = [...context.theme.breakPoints];\n\n\treturn {\n\t\tdisplay: \"inline-block\",\n\t\talignSelf: \"flex-start\",\n\t\tmaxWidth: \"300px\",\n\t\theight: \"200px\",\n\t\tcursor: \"pointer\",\n\t\timg: {\n\t\t\tborderRadius: \"8px\",\n\t\t\theight: \"100%\",\n\t\t},\n\t\t[`@media ${mq[1]}, ${mq[2]}`]: {\n\t\t\tminWidth: \"50px\",\n\t\t\tmaxWidth: \"150px\",\n\t\t\theight: \"100px\",\n\t\t\tpadding: \"2px 2px\",\n\t\t},\n\t};\n};\n\nexport const messageInfoWrapperStyle = () => {\n\n    return {\n        alignSelf: \"flex-start\",\n        padding: \"4px 8px\",\n        display: \"flex\",\n        alignItems: \"center\",\n        justifyContent: \"flex-start\",\n        height: \"25px\"\n    }\n}\n\nexport const messageReactionsWrapperStyle = () => {\n\n    return {\n        display: \"flex\",\n        alignSelf: \"flex-start\",\n        width: \"100%\",\n        flexWrap: \"wrap\",\n        justifyContent: \"flex-start\",\n        minHeight: \"36px\",\n    }\n}\n","import React from \"react\";\n/** @jsxRuntime classic */\n/** @jsx jsx */\nimport { jsx } from \"@emotion/core\";\nimport PropTypes from \"prop-types\";\nimport { CometChat } from \"@cometchat-pro/chat\";\n\nimport { CometChatMessageActions, CometChatThreadedMessageReplyCount, CometChatReadReceipt } from \"../\";\nimport { CometChatMessageReactions } from \"../Extensions\";\nimport { CometChatAvatar } from \"../../Shared\";\n\nimport { CometChatContext } from \"../../../util/CometChatContext\";\nimport * as enums from \"../../../util/enums.js\";\nimport { checkMessageForExtensionsData } from \"../../../util/common\";\n\nimport { theme } from \"../../../resources/theme\";\nimport Translator from \"../../../resources/localization/translator\";\n\nimport {\n\tmessageContainerStyle,\n\tmessageWrapperStyle,\n\tmessageThumbnailStyle,\n\tmessageDetailStyle,\n\tnameWrapperStyle,\n\tnameStyle,\n\tmessageImgContainerStyle,\n\tmessageImgWrapperStyle,\n\tmessageInfoWrapperStyle,\n\tmessageReactionsWrapperStyle\n} from \"./style\";\n\nimport srcIcon from \"./resources/1px.png\";\n\nclass CometChatReceiverImageMessageBubble extends React.Component {\n\tstatic contextType = CometChatContext;\n\n\tconstructor(props, context) {\n\n\t\tsuper(props, context);\n\t\tthis._isMounted = false;\n\t\tthis.imgRef = React.createRef();\n\n\t\tthis.state = {\n\t\t\timageUrl: srcIcon,\n\t\t\timageName: Translator.translate(\"LOADING\", this.context.language),\n\t\t\tisHovering: false,\n\t\t};\n\t}\n\n\tshouldComponentUpdate(nextProps, nextState) {\n\n\t\tconst currentMessageStr = JSON.stringify(this.props.message);\n\t\tconst nextMessageStr = JSON.stringify(nextProps.message);\n\n\t\tif (currentMessageStr !== nextMessageStr \n\t\t|| this.state.imageUrl !== nextState.imageUrl \n\t\t|| this.state.isHovering !== nextState.isHovering) {\n\t\t\treturn true;\n\t\t}\n\n\t\treturn false;\n\t}\n\n\tcomponentDidMount() {\n\t\tthis._isMounted = true;\n\t\tthis.setImage();\n\t}\n\n\tcomponentDidUpdate(prevProps, prevState) {\n\n\t\tconst previousMessageStr = JSON.stringify(prevProps.message);\n\t\tconst currentMessageStr = JSON.stringify(this.props.message);\n\n\t\tif (previousMessageStr !== currentMessageStr) {\n\t\t\tthis.setImage();\n\t\t}\n\t}\n\n\tcomponentWillUnmount() {\n\t\tthis._isMounted = false;\n\t}\n\n\tchooseImage = thumbnailGenerationObject => {\n\t\tconst smallUrl = thumbnailGenerationObject[\"url_small\"];\n\t\tconst mediumUrl = thumbnailGenerationObject[\"url_medium\"];\n\n\t\tconst mq = window.matchMedia(this.props.theme.breakPoints[0]);\n\n\t\tlet imageToDownload = mediumUrl;\n\t\tif (mq.matches) {\n\t\t\timageToDownload = smallUrl;\n\t\t}\n\n\t\treturn imageToDownload;\n\t};\n\n\tsetImage = () => {\n\n\t\tconst thumbnailGenerationData = checkMessageForExtensionsData(this.props.message, \"thumbnail-generation\");\n\t\t\n\t\tif (thumbnailGenerationData) {\n\n\t\t\tlet imageName = \"\";\n\t\t\tif (this.props.message.data.attachments \n\t\t\t&& typeof this.props.message.data.attachments === \"object\" \n\t\t\t&& this.props.message.data.attachments.length) {\n\n\t\t\t\timageName = this.props.message.data.attachments[0]?.name;\n\t\t\t}\n\n\t\t\tconst mq = window.matchMedia(this.props.theme.breakPoints[0]);\n\t\t\tmq.addListener(() => {\n\t\t\t\tconst imageToDownload = this.chooseImage(thumbnailGenerationData);\n\t\t\t\tlet img = new Image();\n\t\t\t\timg.src = imageToDownload;\n\t\t\t\timg.onload = () => {\n\t\t\t\t\tif (this._isMounted && this.state.imageUrl !== img.src) {\n\t\t\t\t\t\tthis.setState({ imageUrl: img.src, imageName: imageName });\n\t\t\t\t\t}\n\t\t\t\t};\n\t\t\t});\n\n\t\t\tconst imageToDownload = this.chooseImage(thumbnailGenerationData);\n\t\t\tthis.downloadImage(imageToDownload)\n\t\t\t\t.then(response => {\n\t\t\t\t\tlet img = new Image();\n\t\t\t\t\timg.src = imageToDownload;\n\t\t\t\t\timg.onload = () => {\n\t\t\t\t\t\tif (this._isMounted && this.state.imageUrl !== img.src) {\n\t\t\t\t\t\t\tthis.setState({ imageUrl: img.src, imageName: imageName });\n\t\t\t\t\t\t}\n\t\t\t\t\t};\n\t\t\t\t})\n\t\t\t\t.catch(error => console.error(error));\n\t\t} else {\n\t\t\tthis.setMessageImageUrl();\n\t\t}\n\t};\n\n\tsetMessageImageUrl = () => {\n\n\t\tif (this.props.message.data.attachments \n\t\t&& typeof this.props.message.data.attachments === \"object\" \n\t\t&& this.props.message.data.attachments.length) {\n\n\t\t\tlet img = new Image();\n\t\t\timg.src = this.props.message.data.attachments[0].url;\n\t\t\tconst imageName = this.props.message.data.attachments[0]?.name;\n\t\t\timg.onload = () => {\n\t\t\t\tif (this._isMounted && this.state.imageUrl !== img.src) {\n\t\t\t\t\tthis.setState({ imageUrl: img.src, imageName: imageName });\n\t\t\t\t}\n\t\t\t};\n\t\t}\n\t\t\n\t};\n\n\tdownloadImage(imgUrl) {\n\t\tconst promise = new Promise((resolve, reject) => {\n\t\t\tconst xhr = new XMLHttpRequest();\n\t\t\txhr.open(\"GET\", imgUrl, true);\n\t\t\txhr.responseType = \"blob\";\n\n\t\t\txhr.onload = () => {\n\t\t\t\tif (xhr.readyState === 4) {\n\t\t\t\t\tif (xhr.status === 200) {\n\t\t\t\t\t\tthis.timer = null;\n\t\t\t\t\t\tresolve(xhr.response);\n\t\t\t\t\t} else if (xhr.status === 403) {\n\t\t\t\t\t\tthis.timer = setTimeout(() => {\n\t\t\t\t\t\t\tthis.downloadImage(imgUrl)\n\t\t\t\t\t\t\t\t.then(response => resolve(response))\n\t\t\t\t\t\t\t\t.catch(error => reject(error));\n\t\t\t\t\t\t}, 800);\n\t\t\t\t\t}\n\t\t\t\t} else {\n\t\t\t\t\treject(xhr.statusText);\n\t\t\t\t}\n\t\t\t};\n\n\t\t\txhr.onerror = event => reject(new Error(\"There was a network error.\", event));\n\t\t\txhr.ontimeout = event => reject(new Error(\"There was a timeout error.\", event));\n\t\t\txhr.send();\n\t\t});\n\n\t\treturn promise;\n\t}\n\n\topen = () => {\n\t\tthis.props.actionGenerated(enums.ACTIONS[\"VIEW_ORIGINAL_IMAGE\"], this.props.message);\n\t};\n\n\thandleMouseHover = () => {\n\t\tthis.setState(this.toggleHoverState);\n\t};\n\n\ttoggleHoverState = state => {\n\t\treturn {\n\t\t\tisHovering: !state.isHovering,\n\t\t};\n\t};\n\n\trender() {\n\t\tlet avatar = null,\n\t\t\tname = null;\n\t\tif (this.props.message.receiverType === CometChat.RECEIVER_TYPE.GROUP) {\n\t\t\tavatar = (\n\t\t\t\t<div css={messageThumbnailStyle()} className=\"message__thumbnail\">\n\t\t\t\t\t<CometChatAvatar user={this.props.message.sender} />\n\t\t\t\t</div>\n\t\t\t);\n\n\t\t\tname = (\n\t\t\t\t<div css={nameWrapperStyle(avatar)} className=\"message__name__wrapper\">\n\t\t\t\t\t<span css={nameStyle(this.context)} className=\"message__name\">\n\t\t\t\t\t\t{this.props.message.sender.name}\n\t\t\t\t\t</span>\n\t\t\t\t</div>\n\t\t\t);\n\t\t}\n\n\t\tlet messageReactions = null;\n\t\tconst reactionsData = checkMessageForExtensionsData(this.props.message, \"reactions\");\n\t\tif (reactionsData) {\n\t\t\tif (Object.keys(reactionsData).length) {\n\t\t\t\tmessageReactions = (\n\t\t\t\t\t<div css={messageReactionsWrapperStyle()} className=\"message__reaction__wrapper\">\n\t\t\t\t\t\t<CometChatMessageReactions message={this.props.message} actionGenerated={this.props.actionGenerated} />\n\t\t\t\t\t</div>\n\t\t\t\t);\n\t\t\t}\n\t\t}\n\n\t\tlet toolTipView = null;\n\t\tif (this.state.isHovering) {\n\t\t\ttoolTipView = <CometChatMessageActions message={this.props.message} actionGenerated={this.props.actionGenerated} />;\n\t\t}\n\n\t\treturn (\n\t\t\t<div css={messageContainerStyle()} className=\"receiver__message__container message__image\" onMouseEnter={this.handleMouseHover} onMouseLeave={this.handleMouseHover}>\n\t\t\t\t<div css={messageWrapperStyle()} className=\"message__wrapper\">\n\t\t\t\t\t{avatar}\n\t\t\t\t\t<div css={messageDetailStyle(name)} className=\"message__details\">\n\t\t\t\t\t\t{name}\n\t\t\t\t\t\t{toolTipView}\n\t\t\t\t\t\t<div css={messageImgContainerStyle()} className=\"message__image__container\">\n\t\t\t\t\t\t\t<div css={messageImgWrapperStyle(this.context)} onClick={this.open} className=\"message__image__wrapper\">\n\t\t\t\t\t\t\t\t<img\n\t\t\t\t\t\t\t\t\tsrc={this.state.imageUrl}\n\t\t\t\t\t\t\t\t\talt={this.state.imageName}\n\t\t\t\t\t\t\t\t\tref={el => {\n\t\t\t\t\t\t\t\t\t\tthis.imgRef = el;\n\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t{messageReactions}\n\n\t\t\t\t\t\t<div css={messageInfoWrapperStyle()} className=\"message__info__wrapper\">\n\t\t\t\t\t\t\t<CometChatReadReceipt message={this.props.message} />\n\t\t\t\t\t\t\t<CometChatThreadedMessageReplyCount message={this.props.message} actionGenerated={this.props.actionGenerated} />\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t);\n\t}\n}\n\n// Specifies the default values for props:\nCometChatReceiverImageMessageBubble.defaultProps = {\n\ttheme: theme,\n\tactionGenerated: () => {},\n};\n\nCometChatReceiverImageMessageBubble.propTypes = {\n\ttheme: PropTypes.object,\n\tactionGenerated: PropTypes.func.isRequired,\n\tmessage: PropTypes.object.isRequired,\n};\n\nexport { CometChatReceiverImageMessageBubble };","export default \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABAQMAAAAl21bKAAAAA1BMVEXx7OqhaJO7AAAAAXRSTlPM0jRW/QAAAApJREFUeJxjYgAAAAYAAzY3fKgAAAAASUVORK5CYII=\"","export const messageContainerStyle = () => {\n\n    return {\n        alignSelf: \"flex-start\",\n        marginBottom: \"16px\",\n        paddingLeft: \"16px\",\n        paddingRight: \"16px\",\n        maxWidth: \"65%\",\n        clear: \"both\",\n        position: \"relative\",\n        display: \"flex\",\n        flexDirection: \"column\",\n        flexShrink: \"0\",\n    }\n}\n\nexport const messageWrapperStyle = () => {\n\n    return {\n        width: \"auto\",\n        flex: \"1 1\",\n        alignSelf: \"flex-start\",\n        display: \"flex\",\n    }\n}\n\nexport const messageThumbnailStyle = () => {\n\n    return {\n        width: \"36px\",\n        height: \"36px\",\n        margin: \"10px 5px\",\n        float: \"left\",\n        flexShrink: \"0\",\n    }\n}\n\nexport const messageDetailStyle = () => {\n\n    return {\n        flex: \"1 1\",\n        display: \"flex\",\n        flexDirection: \"column\",\n    }\n}\n\nexport const nameWrapperStyle = (avatar) => {\n\n    const paddingValue = (avatar) ? {\n        padding: \"3px 5px\",\n    } : {};\n\n    return {\n        alignSelf: \"flex-start\",\n        ...paddingValue\n    }\n}\n\nexport const nameStyle = context => {\n\n\treturn {\n\t\tfontSize: \"11px\",\n\t\tcolor: `${context.theme.color.search}`,\n\t};\n};\n\nexport const messageTxtContainerStyle = () => {\n\n    return {\n        width: \"auto\",\n        flex: \"1 1\",\n        display: \"flex\",\n        alignSelf: \"flex-start\",\n    }\n}\n\nexport const messageTxtWrapperStyle = context => {\n\n\treturn {\n\t\tdisplay: \"inline-block\",\n\t\tborderRadius: \"12px\",\n\t\tbackgroundColor: `${context.theme.backgroundColor.secondary}`,\n\t\tpadding: \"8px 16px\",\n\t\twidth: \"auto\",\n\t};\n};\n\nexport const messageTxtStyle = (parsedMessage, emojiMessage, showVariation, context) => {\n\n    let emojiAlignmentProp = {\n        \" > img\": {\n            width: \"24px\",\n            height: \"24px\",\n            display: \"inline-block\",\n            verticalAlign: \"top\",\n            zoom: \"1\",\n            margin: \"0 2px\"\n        }\n    };\n\n    let emojiProp = {};\n\n    if (parsedMessage.length === emojiMessage.length && emojiMessage.length === 1) {\n        emojiProp = {\n            \"> img\": {\n                width: \"48px\",\n                height: \"48px\",\n            }\n        };\n    } else if (parsedMessage.length === emojiMessage.length && emojiMessage.length === 2) {\n        emojiProp = {\n            \"> img\": {\n                width: \"36px\",\n                height: \"36px\",\n            }\n        };\n    } else if (parsedMessage.length === emojiMessage.length && emojiMessage.length > 2) {\n        emojiProp = {\n            \"> img\": {\n                width: \"24px\",\n                height: \"24px\",\n            }\n        };\n    }\n\n    if (showVariation === false) {\n        emojiProp = {\n            \"> img\": {\n                width: \"24px\",\n                height: \"24px\",\n            }\n        };\n    }\n\n    return {\n        margin: \"0\",\n        fontSize: \"15px\",\n        whiteSpace: \"pre-wrap\",\n        wordBreak: \"break-word\",\n        textAlign: \"left\",\n        width: \"auto\",\n        color: `${context.theme.color.primary}`,\n        lineHeight: \"20px\",\n        fontWeight: \"400\",\n        \" a\": {\n            color: \"#0432FF\",\n            \"&:hover\": {\n                color: \"#04009D\"\n            }\n        },\n        \" a[href^='mailto:']\": {\n            color: \"#F38C00\",\n            \"&:hover\": {\n                color: \"#F36800\"\n            }\n        },\n        \" a[href^='tel:']\": {\n            color: \"#3802DA\",\n            \"&:hover\": {\n                color: \"#2D038F\"\n            }\n        },\n        ...emojiAlignmentProp,\n        ...emojiProp\n    }\n}\n\nexport const messageInfoWrapperStyle = () => {\n\n    return {\n        alignSelf: \"flex-start\",\n        padding: \"4px 8px\",\n        display: \"flex\",\n        alignItems: \"center\",\n        justifyContent: \"flex-start\",\n        height: \"25px\"\n    }\n}\n\nexport const messageReactionsWrapperStyle = () => {\n\n    return {\n        display: \"flex\",\n        alignSelf: \"flex-start\",\n        width: \"100%\",\n        flexWrap: \"wrap\",\n        justifyContent: \"flex-start\",\n        minHeight: \"36px\",\n    }\n}\n","import React from \"react\";\n/** @jsxRuntime classic */\n/** @jsx jsx */\nimport { jsx } from \"@emotion/core\";\nimport twemoji from \"twemoji\";\nimport ReactHtmlParser from \"react-html-parser\";\nimport PropTypes from \"prop-types\";\nimport { CometChat } from \"@cometchat-pro/chat\";\n\nimport { CometChatMessageActions, CometChatThreadedMessageReplyCount, CometChatReadReceipt, CometChatLinkPreview} from \"../\";\nimport { CometChatMessageReactions } from \"../Extensions\";\nimport { CometChatAvatar } from \"../../Shared\";\n\nimport { CometChatContext } from \"../../../util/CometChatContext\";\nimport { linkify, checkMessageForExtensionsData } from \"../../../util/common\";\nimport * as enums from \"../../../util/enums.js\";\n\nimport Translator from \"../../../resources/localization/translator\";\nimport { theme } from \"../../../resources/theme\";\n\nimport {\n\tmessageContainerStyle,\n\tmessageWrapperStyle,\n\tmessageThumbnailStyle,\n\tmessageDetailStyle,\n\tnameWrapperStyle,\n\tnameStyle,\n\tmessageTxtContainerStyle,\n\tmessageTxtWrapperStyle,\n\tmessageTxtStyle,\n\tmessageInfoWrapperStyle,\n\tmessageReactionsWrapperStyle\n} from \"./style\";\n\nclass CometChatReceiverTextMessageBubble extends React.Component {\n\tstatic contextType = CometChatContext;\n\n\tconstructor(props) {\n\t\tsuper(props);\n\n\t\tthis.state = {\n\t\t\ttranslatedMessage: \"\",\n\t\t\tisHovering: false,\n\t\t\tenableLargerSizeEmojis: false,\n\t\t};\n\t}\n\n\tshouldComponentUpdate(nextProps, nextState) {\n\t\t\n\t\tconst currentMessageStr = JSON.stringify(this.props.message);\n\t\tconst nextMessageStr = JSON.stringify(nextProps.message);\n\n\t\tif (currentMessageStr !== nextMessageStr \n\t\t|| this.state.isHovering !== nextState.isHovering\n\t\t|| this.state.translatedMessage !== nextState.translatedMessage\n\t\t|| this.state.enableLargerSizeEmojis !== nextState.enableLargerSizeEmojis) {\n\t\t\treturn true;\n\t\t}\n\t\treturn false;\n\t}\n\n\tcomponentDidMount() {\n\t\tthis.enableLargerSizeEmojis();\n\t}\n\n\tcomponentDidUpdate(prevProps) {\n\t\tconst previousMessageStr = JSON.stringify(prevProps.message);\n\t\tconst currentMessageStr = JSON.stringify(this.props.message);\n\n\t\tif (previousMessageStr !== currentMessageStr) {\n\t\t\tthis.setState({ translatedMessage: \"\" });\n\t\t}\n\n\t\tthis.enableLargerSizeEmojis();\n\t}\n\n\tgetMessageText = () => {\n\t\tlet messageText = this.props.message.text;\n\n\t\t//xss extensions data\n\t\tconst xssData = checkMessageForExtensionsData(this.props.message, \"xss-filter\");\n\t\tif (xssData && xssData.hasOwnProperty(\"sanitized_text\") && xssData.hasOwnProperty(\"hasXSS\") && xssData.hasXSS === \"yes\") {\n\t\t\tmessageText = xssData.sanitized_text;\n\t\t}\n\n\t\t//datamasking extensions data\n\t\tconst maskedData = checkMessageForExtensionsData(this.props.message, \"data-masking\");\n\t\tif (maskedData && maskedData.hasOwnProperty(\"data\") && maskedData.data.hasOwnProperty(\"sensitive_data\") && maskedData.data.hasOwnProperty(\"message_masked\") && maskedData.data.sensitive_data === \"yes\") {\n\t\t\tmessageText = maskedData.data.message_masked;\n\t\t}\n\n\t\t//profanity extensions data\n\t\tconst profaneData = checkMessageForExtensionsData(this.props.message, \"profanity-filter\");\n\t\tif (profaneData && profaneData.hasOwnProperty(\"profanity\") && profaneData.hasOwnProperty(\"message_clean\") && profaneData.profanity === \"yes\") {\n\t\t\tmessageText = profaneData.message_clean;\n\t\t}\n\n\t\tconst formattedText = linkify(messageText);\n\n\t\tconst emojiParsedMessage = twemoji.parse(formattedText, { folder: \"svg\", ext: \".svg\" });\n\t\tconst parsedMessage = ReactHtmlParser(emojiParsedMessage, { decodeEntities: false });\n\t\tconst emojiMessage = parsedMessage.filter(message => message instanceof Object && message.type === \"img\");\n\n\t\tlet showVariation = true;\n\t\t//if larger size emojis feature is disabled\n\t\tif (this.state.enableLargerSizeEmojis === false) {\n\t\t\tshowVariation = false;\n\t\t}\n\n\t\tmessageText = (\n\t\t\t<div css={messageTxtWrapperStyle(this.context)} className=\"message__txt__wrapper\">\n\t\t\t\t<p css={messageTxtStyle(parsedMessage, emojiMessage, showVariation, this.context)} className=\"message__txt\">\n\t\t\t\t\t{parsedMessage}\n\t\t\t\t\t{this.state.translatedMessage}\n\t\t\t\t</p>\n\t\t\t</div>\n\t\t);\n\n\t\treturn messageText;\n\t};\n\n\ttranslateMessage = message => {\n\t\tconst messageId = message.id;\n\t\tconst messageText = message.text;\n\n\t\tconst browserLanguageCode = Translator.getBrowserLanguage().toLowerCase();\n\t\tlet translateToLanguage = browserLanguageCode;\n\t\tif (browserLanguageCode.indexOf(\"-\") !== -1) {\n\t\t\tconst browserLanguageArray = browserLanguageCode.split(\"-\");\n\t\t\ttranslateToLanguage = browserLanguageArray[0];\n\t\t}\n\n\t\tlet translatedMessage = \"\";\n\t\tCometChat.callExtension(\"message-translation\", \"POST\", \"v2/translate\", {\n\t\t\tmsgId: messageId,\n\t\t\ttext: messageText,\n\t\t\tlanguages: [translateToLanguage],\n\t\t})\n\t\t\t.then(result => {\n\t\t\t\tif (result && result.hasOwnProperty(\"language_original\") && result[\"language_original\"] !== translateToLanguage) {\n\t\t\t\t\tif (result.hasOwnProperty(\"translations\") && result.translations.length) {\n\t\t\t\t\t\tconst messageTranslation = result.translations[0];\n\t\t\t\t\t\tif (messageTranslation.hasOwnProperty(\"message_translated\")) {\n\t\t\t\t\t\t\ttranslatedMessage = `\\n(${messageTranslation[\"message_translated\"]})`;\n\t\t\t\t\t\t}\n\t\t\t\t\t} else {\n\t\t\t\t\t\tthis.props.actionGenerated(enums.ACTIONS[\"ERROR\"], [], \"SOMETHING_WRONG\");\n\t\t\t\t\t}\n\t\t\t\t} else {\n\t\t\t\t\tthis.props.actionGenerated(enums.ACTIONS[\"INFO\"], [], \"SAME_LANGUAGE_MESSAGE\");\n\t\t\t\t}\n\n\t\t\t\tthis.setState({ translatedMessage: translatedMessage });\n\t\t\t})\n\t\t\t.catch(error => this.props.actionGenerated(enums.ACTIONS[\"ERROR\"], [], \"SOMETHING_WRONG\"));\n\t};\n\n\tenableLargerSizeEmojis = () => {\n\t\tthis.context.FeatureRestriction.isLargerSizeEmojisEnabled()\n\t\t\t.then(response => {\n\t\t\t\tif (response !== this.state.enableLargerSizeEmojis) {\n\t\t\t\t\tthis.setState({ enableLargerSizeEmojis: response });\n\t\t\t\t}\n\t\t\t})\n\t\t\t.catch(error => {\n\t\t\t\tif (this.state.enableLargerSizeEmojis !== false) {\n\t\t\t\t\tthis.setState({ enableLargerSizeEmojis: false });\n\t\t\t\t}\n\t\t\t});\n\t};\n\n\thandleMouseHover = () => {\n\t\tthis.setState(this.toggleHoverState);\n\t};\n\n\ttoggleHoverState = state => {\n\t\treturn {\n\t\t\tisHovering: !state.isHovering,\n\t\t};\n\t};\n\n\tactionHandler = (action, message) => {\n\t\tswitch (action) {\n\t\t\tcase enums.ACTIONS[\"REACT_TO_MESSAGE\"]:\n\t\t\t\tthis.props.actionGenerated(action, message);\n\t\t\t\tbreak;\n\t\t\tcase enums.ACTIONS[\"VIEW_THREADED_MESSAGE\"]:\n\t\t\t\tthis.props.actionGenerated(action, message);\n\t\t\t\tbreak;\n\t\t\tcase enums.ACTIONS[\"DELETE_MESSAGE\"]:\n\t\t\t\tthis.props.actionGenerated(action, message);\n\t\t\t\tbreak;\n\t\t\tcase enums.ACTIONS[\"EDIT_MESSAGE\"]:\n\t\t\t\tthis.props.actionGenerated(action, message);\n\t\t\t\tbreak;\n\t\t\tcase enums.ACTIONS[\"TRANSLATE_MESSAGE\"]:\n\t\t\t\tthis.translateMessage(message);\n\t\t\t\tbreak;\n\t\t\tdefault:\n\t\t\t\tbreak;\n\t\t}\n\t};\n\n\trender() {\n\n\t\tlet avatar = null,\n\t\t\tname = null;\n\t\tif (this.props.message.receiverType === CometChat.RECEIVER_TYPE.GROUP) {\n\t\t\tavatar = (\n\t\t\t\t<div css={messageThumbnailStyle()} className=\"message__thumbnail\">\n\t\t\t\t\t<CometChatAvatar user={this.props.message.sender} />\n\t\t\t\t</div>\n\t\t\t);\n\n\t\t\tname = (\n\t\t\t\t<div css={nameWrapperStyle(avatar)} className=\"message__name__wrapper\">\n\t\t\t\t\t<span css={nameStyle(this.context)} className=\"message__name\">\n\t\t\t\t\t\t{this.props.message.sender.name}\n\t\t\t\t\t</span>\n\t\t\t\t</div>\n\t\t\t);\n\t\t}\n\n\t\tlet messageText = this.getMessageText();\n\t\t//linkpreview extensions data\n\t\tconst linkPreviewData = checkMessageForExtensionsData(this.props.message, \"link-preview\");\n\t\tif (linkPreviewData && linkPreviewData.hasOwnProperty(\"links\") && linkPreviewData[\"links\"].length) {\n\t\t\tmessageText = <CometChatLinkPreview message={this.props.message} messageText={messageText} />;\n\t\t}\n\n\t\t//messagereactions extensions data\n\t\tlet messageReactions = null;\n\t\tconst reactionsData = checkMessageForExtensionsData(this.props.message, \"reactions\");\n\t\tif (reactionsData) {\n\t\t\tif (Object.keys(reactionsData).length) {\n\t\t\t\tmessageReactions = (\n\t\t\t\t\t<div css={messageReactionsWrapperStyle()} className=\"message__reaction__wrapper\">\n\t\t\t\t\t\t<CometChatMessageReactions message={this.props.message} actionGenerated={this.props.actionGenerated} />\n\t\t\t\t\t</div>\n\t\t\t\t);\n\t\t\t}\n\t\t}\n\n\t\tlet toolTipView = null;\n\t\tif (this.state.isHovering) {\n\t\t\ttoolTipView = <CometChatMessageActions message={this.props.message} actionGenerated={this.actionHandler} />;\n\t\t}\n\n\t\treturn (\n\t\t\t<div css={messageContainerStyle()} className=\"receiver__message__container message__text\" onMouseEnter={this.handleMouseHover} onMouseLeave={this.handleMouseHover}>\n\t\t\t\t<div css={messageWrapperStyle()} className=\"message__wrapper\">\n\t\t\t\t\t{avatar}\n\t\t\t\t\t<div css={messageDetailStyle()} className=\"message__details\">\n\t\t\t\t\t\t{name}\n\t\t\t\t\t\t{toolTipView}\n\t\t\t\t\t\t<div css={messageTxtContainerStyle()} className=\"message__text__container\">\n\t\t\t\t\t\t\t{messageText}\n\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t{messageReactions}\n\n\t\t\t\t\t\t<div css={messageInfoWrapperStyle()} className=\"message__info__wrapper\">\n\t\t\t\t\t\t\t<CometChatReadReceipt message={this.props.message} />\n\t\t\t\t\t\t\t<CometChatThreadedMessageReplyCount message={this.props.message} actionGenerated={this.props.actionGenerated} />\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t);\n\t}\n}\n\n// Specifies the default values for props:\nCometChatReceiverTextMessageBubble.defaultProps = {\n\ttheme: theme,\n\tactionGenerated: () => {},\n};\n\nCometChatReceiverTextMessageBubble.propTypes = {\n\ttheme: PropTypes.object,\n\tactionGenerated: PropTypes.func.isRequired,\n\tmessage: PropTypes.object.isRequired,\n};\n\nexport { CometChatReceiverTextMessageBubble };\n","export const messageContainerStyle = () => {\n\n    return {\n        alignSelf: \"flex-start\",\n        marginBottom: \"16px\",\n        paddingLeft: \"16px\",\n        paddingRight: \"16px\",\n        maxWidth: \"65%\",\n        clear: \"both\",\n        position: \"relative\",\n        display: \"flex\",\n        flexDirection: \"column\",\n        flexShrink: \"0\",\n    }\n}\n\nexport const messageWrapperStyle = () => {\n\n    return {\n        width: \"auto\",\n        flex: \"1 1\",\n        alignSelf: \"flex-start\",\n        display: \"flex\",\n    }\n}\n\nexport const messageThumbnailStyle = () => {\n\n    return {\n        width: \"36px\",\n        height: \"36px\",\n        margin: \"10px 5px\",\n        float: \"left\",\n        flexShrink: \"0\",\n    }\n}\n\nexport const messageDetailStyle = () => {\n\n    return {\n        flex: \"1 1\",\n        display: \"flex\",\n        flexDirection: \"column\",\n    }\n}\n\nexport const nameWrapperStyle = (avatar) => {\n\n    const paddingValue = (avatar) ? {\n        padding: \"3px 5px\",\n    } : {};\n\n    return {\n        alignSelf: \"flex-start\",\n        ...paddingValue\n    }\n}\n\nexport const nameStyle = context => {\n\n\treturn {\n\t\tfontSize: \"11px\",\n\t\tcolor: `${context.theme.color.search}`,\n\t};\n};\n\nexport const messageVideoContainerStyle = () => {\n\n    return {\n        width: \"auto\",\n        flex: \"1 1\",\n        alignSelf: \"flex-start\",\n        display: \"flex\",\n    }\n}\n\nexport const messageVideoWrapperStyle = () => {\n\n    return {\n        display: \"inline-block\",\n        alignSelf: \"flex-start\",\n        '> video': {\n            maxWidth: \"250px\",\n            borderRadius: \"12px\",\n            display: \"inherit\",\n            outline: \"none\",\n        }\n    }\n}\n\nexport const messageInfoWrapperStyle = () => {\n\n    return {\n        alignSelf: \"flex-start\",\n        padding: \"4px 8px\",\n        display: \"flex\",\n        alignItems: \"center\",\n        justifyContent: \"flex-start\",\n        height: \"25px\"\n    }\n}\n\nexport const messageReactionsWrapperStyle = () => {\n\n    return {\n        display: \"flex\",\n        alignSelf: \"flex-start\",\n        width: \"100%\",\n        flexWrap: \"wrap\",\n        justifyContent: \"flex-start\",\n        minHeight: \"36px\",\n    }\n}\n","import React from \"react\";\n/** @jsxRuntime classic */\n/** @jsx jsx */\nimport { jsx } from \"@emotion/core\";\nimport PropTypes from \"prop-types\";\nimport { CometChat } from \"@cometchat-pro/chat\";\n\nimport { CometChatMessageActions, CometChatThreadedMessageReplyCount, CometChatReadReceipt } from \"../\";\nimport { CometChatMessageReactions } from \"../Extensions\";\nimport { CometChatAvatar } from \"../../Shared\";\n\nimport { CometChatContext } from \"../../../util/CometChatContext\";\nimport { checkMessageForExtensionsData } from \"../../../util/common\";\n\nimport { theme } from \"../../../resources/theme\";\n\nimport {\n\tmessageContainerStyle,\n\tmessageWrapperStyle,\n\tmessageThumbnailStyle,\n\tmessageDetailStyle,\n\tnameWrapperStyle,\n\tnameStyle,\n\tmessageVideoContainerStyle,\n\tmessageVideoWrapperStyle,\n\tmessageInfoWrapperStyle,\n\tmessageReactionsWrapperStyle\n} from \"./style\";\n\nclass CometChatReceiverVideoMessageBubble extends React.Component {\n\tstatic contextType = CometChatContext;\n\n\tconstructor(props) {\n\t\tsuper(props);\n\n\t\tthis.state = {\n\t\t\tisHovering: false,\n\t\t};\n\t}\n\n\tshouldComponentUpdate(nextProps, nextState) {\n\n\t\tconst currentMessageStr = JSON.stringify(this.props.message);\n\t\tconst nextMessageStr = JSON.stringify(nextProps.message);\n\n\t\tif (currentMessageStr !== nextMessageStr \n\t\t|| this.state.isHovering !== nextState.isHovering) {\n\t\t\treturn true;\n\t\t}\n\t\treturn false;\n\t}\n\n\thandleMouseHover = () => {\n\t\tthis.setState(this.toggleHoverState);\n\t};\n\n\ttoggleHoverState = state => {\n\t\treturn {\n\t\t\tisHovering: !state.isHovering,\n\t\t};\n\t};\n\n\trender() {\n\t\tlet avatar = null,\n\t\t\tname = null;\n\t\tif (this.props.message.receiverType === CometChat.RECEIVER_TYPE.GROUP) {\n\t\t\tavatar = (\n\t\t\t\t<div css={messageThumbnailStyle()} className=\"message__thumbnail\">\n\t\t\t\t\t<CometChatAvatar user={this.props.message.sender} />\n\t\t\t\t</div>\n\t\t\t);\n\n\t\t\tname = (\n\t\t\t\t<div css={nameWrapperStyle(avatar)} className=\"message__name__wrapper\">\n\t\t\t\t\t<span css={nameStyle(this.context)} className=\"message__name\">\n\t\t\t\t\t\t{this.props.message.sender.name}\n\t\t\t\t\t</span>\n\t\t\t\t</div>\n\t\t\t);\n\t\t}\n\n\t\tlet messageReactions = null;\n\t\tconst reactionsData = checkMessageForExtensionsData(this.props.message, \"reactions\");\n\t\tif (reactionsData) {\n\t\t\tif (Object.keys(reactionsData).length) {\n\t\t\t\tmessageReactions = (\n\t\t\t\t\t<div css={messageReactionsWrapperStyle()} className=\"message__reaction__wrapper\">\n\t\t\t\t\t\t<CometChatMessageReactions message={this.props.message} actionGenerated={this.props.actionGenerated} />\n\t\t\t\t\t</div>\n\t\t\t\t);\n\t\t\t}\n\t\t}\n\n\t\tlet toolTipView = null;\n\t\tif (this.state.isHovering) {\n\t\t\ttoolTipView = <CometChatMessageActions message={this.props.message} actionGenerated={this.props.actionGenerated} />;\n\t\t}\n\n\t\treturn (\n\t\t\t<div css={messageContainerStyle()} className=\"receiver__message__container message__video\" onMouseEnter={this.handleMouseHover} onMouseLeave={this.handleMouseHover}>\n\t\t\t\t<div css={messageWrapperStyle()} className=\"message__wrapper\">\n\t\t\t\t\t{avatar}\n\t\t\t\t\t<div css={messageDetailStyle(name)} className=\"message__details\">\n\t\t\t\t\t\t{name}\n\t\t\t\t\t\t{toolTipView}\n\t\t\t\t\t\t<div css={messageVideoContainerStyle()} className=\"message__video__container\">\n\t\t\t\t\t\t\t<div css={messageVideoWrapperStyle()} className=\"message__video__wrapper\">\n\t\t\t\t\t\t\t\t<video controls>\n\t\t\t\t\t\t\t\t\t<source src={this.props.message.data.attachments[0].url} />\n\t\t\t\t\t\t\t\t</video>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t{messageReactions}\n\n\t\t\t\t\t\t<div css={messageInfoWrapperStyle()} className=\"message__info__wrapper\">\n\t\t\t\t\t\t\t<CometChatReadReceipt message={this.props.message} />\n\t\t\t\t\t\t\t<CometChatThreadedMessageReplyCount message={this.props.message} actionGenerated={this.props.actionGenerated} />\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t);\n\t}\n}\n\n// Specifies the default values for props:\nCometChatReceiverVideoMessageBubble.defaultProps = {\n\ttheme: theme,\n\tactionGenerated: () => {},\n};\n\nCometChatReceiverVideoMessageBubble.propTypes = {\n\ttheme: PropTypes.object,\n\tactionGenerated: PropTypes.func.isRequired,\n\tmessage: PropTypes.object.isRequired,\n};\n\nexport { CometChatReceiverVideoMessageBubble };\n","export const messageContainerStyle = () => {\n\n    return {\n        alignSelf: \"flex-end\",\n        marginBottom: \"16px\",\n        paddingLeft: \"16px\",\n        paddingRight: \"16px\",\n        maxWidth: \"65%\",\n        clear: \"both\",\n        position: \"relative\",\n        display: \"flex\",\n        flexDirection: \"column\",\n        flexShrink: \"0\",\n    }\n}\n\nexport const messageWrapperStyle = () => {\n\n    return {\n        width: \"auto\",\n        flex: \"1 1\",\n        alignSelf: \"flex-end\",\n        display: \"flex\",\n    }\n}\n\nexport const messageAudioWrapperStyle = () => {\n\n    return {\n        display: \"inline-block\",\n        borderRadius: \"12px\",\n        alignSelf: \"flex-end\",\n        ' > audio': {\n            maxWidth: \"250px\",\n            display: \"inherit\",\n            outline: \"none\",        \n        }\n    }\n}\n\nexport const messageInfoWrapperStyle = () => {\n\n    return {\n        alignSelf: \"flex-end\",\n        display: \"flex\",\n        justifyContent: \"flex-end\",\n        alignItems: \"center\",\n        height: \"25px\"\n    }\n}\n\nexport const messageReactionsWrapperStyle = () => {\n\n    return {\n        display: \"flex\",\n        alignSelf: \"flex-end\",\n        width: \"100%\",\n        flexWrap: \"wrap\",\n        justifyContent: \"flex-end\",\n        minHeight: \"36px\",\n    }\n}\n","import React from \"react\";\n/** @jsxRuntime classic */\n/** @jsx jsx */\nimport { jsx } from \"@emotion/core\"\nimport PropTypes from \"prop-types\";\n\nimport { CometChatMessageActions, CometChatThreadedMessageReplyCount, CometChatReadReceipt } from \"../\";\nimport { CometChatMessageReactions } from \"../Extensions\";\n\nimport { checkMessageForExtensionsData, getMessageFileMetadata } from \"../../../util/common\";\nimport * as enums from \"../../../util/enums.js\";\n\nimport { theme } from \"../../../resources/theme\";\n\nimport {\n\tmessageContainerStyle,\n\tmessageWrapperStyle,\n\tmessageAudioWrapperStyle,\n\tmessageInfoWrapperStyle,\n\tmessageReactionsWrapperStyle\n} from \"./style\";\n\nclass CometChatSenderAudioMessageBubble extends React.Component {\n\tconstructor(props) {\n\t\tsuper(props);\n\n\t\tthis.state = {\n\t\t\tisHovering: false,\n\t\t\tfileData: {},\n\t\t};\n\t}\n\n\tcomponentDidMount() {\n\t\t\n\t\tconst fileData = this.getFileData();\n\t\tthis.setState({ fileData: fileData });\n\t}\n\n\tshouldComponentUpdate(nextProps, nextState) {\n\n\t\tconst currentMessageStr = JSON.stringify(this.props.message);\n\t\tconst nextMessageStr = JSON.stringify(nextProps.message);\n\n\t\tif (currentMessageStr !== nextMessageStr \n\t\t|| this.state.isHovering !== nextState.isHovering \n\t\t|| this.state.fileData !== nextState.fileData) {\n\t\t\treturn true;\n\t\t}\n\t\treturn false;\n\t}\n\n\tcomponentDidUpdate(prevProps) {\n\n\t\tconst previousMessageStr = JSON.stringify(prevProps.message);\n\t\tconst currentMessageStr = JSON.stringify(this.props.message);\n\n\t\tif (previousMessageStr !== currentMessageStr) {\n\t\t\tconst fileData = this.getFileData();\n\n\t\t\tconst previousfileData = JSON.stringify(this.state.fileData);\n\t\t\tconst currentfileData = JSON.stringify(fileData);\n\n\t\t\tif (previousfileData !== currentfileData) {\n\t\t\t\tthis.setState({ fileData: fileData });\n\t\t\t}\n\t\t}\n\t}\n\n\tgetFileData = () => {\n\n\t\tconst metadataKey = enums.CONSTANTS[\"FILE_METADATA\"];\n\t\tconst fileMetadata = getMessageFileMetadata(this.props.message, metadataKey);\n\t\t\n\t\tif (fileMetadata instanceof Blob) {\n\t\t\treturn { fileName: fileMetadata[\"name\"] };\n\t\t} else if (this.props.message.data.hasOwnProperty(\"attachments\") && this.props.message.data.attachments.length) {\n\t\t\tconst fileName = this.props.message.data.attachments[0]?.name;\n\t\t\tconst fileUrl = this.props.message.data.attachments[0]?.url;\n\n\t\t\treturn { fileName, fileUrl: fileUrl };\n\t\t}\n\t};\n\n\thandleMouseHover = () => {\n\t\tthis.setState(this.toggleHoverState);\n\t};\n\n\ttoggleHoverState = state => {\n\t\treturn {\n\t\t\tisHovering: !state.isHovering,\n\t\t};\n\t};\n\n\trender() {\n\t\tif (!Object.keys(this.state.fileData).length) {\n\t\t\treturn null;\n\t\t}\n\n\t\tlet messageReactions = null;\n\t\tconst reactionsData = checkMessageForExtensionsData(this.props.message, \"reactions\");\n\t\tif (reactionsData) {\n\t\t\tif (Object.keys(reactionsData).length) {\n\t\t\t\tmessageReactions = (\n\t\t\t\t\t<div css={messageReactionsWrapperStyle()} className=\"message__reaction__wrapper\">\n\t\t\t\t\t\t<CometChatMessageReactions message={this.props.message} actionGenerated={this.props.actionGenerated} />\n\t\t\t\t\t</div>\n\t\t\t\t);\n\t\t\t}\n\t\t}\n\n\t\tlet toolTipView = null;\n\t\tif (this.state.isHovering) {\n\t\t\ttoolTipView = <CometChatMessageActions message={this.props.message} actionGenerated={this.props.actionGenerated} />;\n\t\t}\n\n\t\treturn (\n\t\t\t<div css={messageContainerStyle()} className=\"sender__message__container message__audio\" onMouseEnter={this.handleMouseHover} onMouseLeave={this.handleMouseHover}>\n\t\t\t\t{toolTipView}\n\t\t\t\t<div css={messageWrapperStyle()} className=\"message__wrapper\">\n\t\t\t\t\t<div css={messageAudioWrapperStyle()} className=\"message__audio__wrapper\">\n\t\t\t\t\t\t<audio controls src={this.state.fileData?.fileUrl}></audio>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\n\t\t\t\t{messageReactions}\n\n\t\t\t\t<div css={messageInfoWrapperStyle()} className=\"message__info__wrapper\">\n\t\t\t\t\t<CometChatThreadedMessageReplyCount message={this.props.message} actionGenerated={this.props.actionGenerated} />\n\t\t\t\t\t<CometChatReadReceipt message={this.props.message} />\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t);\n\t}\n}\n\n// Specifies the default values for props:\nCometChatSenderAudioMessageBubble.defaultProps = {\n\ttheme: theme,\n\tactionGenerated: () => {},\n};\n\nCometChatSenderAudioMessageBubble.propTypes = {\n\ttheme: PropTypes.object,\n\tactionGenerated: PropTypes.func.isRequired,\n\tmessage: PropTypes.object.isRequired,\n};\n\nexport { CometChatSenderAudioMessageBubble };\n","export const messageContainerStyle = () => {\n\n    return {\n        alignSelf: \"flex-end\",\n        marginBottom: \"16px\",\n        paddingLeft: \"16px\",\n        paddingRight: \"16px\",\n        maxWidth: \"305px\",\n        clear: \"both\",\n        position: \"relative\",\n        display: \"flex\",\n        flexDirection: \"column\",\n        flexShrink: \"0\",\n    }\n}\n\nexport const messageWrapperStyle = () => {\n\n    return {\n        width: \"auto\",\n        flex: \"1 1\",\n        alignSelf: \"flex-end\",\n        display: \"flex\",\n    }\n}\n\nexport const messageTxtWrapperStyle = context => {\n\n\treturn {\n\t\tdisplay: \"inline-block\",\n\t\tborderRadius: \"12px\",\n\t\tbackgroundColor: `${context.theme.primaryColor}`,\n\t\tcolor: `${context.theme.color.white}`,\n\t\tpadding: \"16px\",\n\t\talignSelf: \"flex-end\",\n\t\twidth: \"auto\",\n\t\tminHeight: \"106px\",\n\t};\n};\n\nexport const messageTxtContainerStyle = () => {\n\n    return {\n        display: \"flex\",\n        justifyContent: \"center\",\n        alignItems: \"center\",\n        \"img\": {\n            width: \"35px\"\n        }\n    }\n}\n\nexport const messageTxtStyle = () => {\n\n    return {\n\t\t\tmargin: \"0\",\n\t\t\twhiteSpace: \"pre-wrap\",\n\t\t\twordBreak: \"break-word\",\n\t\t\ttextAlign: \"left\",\n\t\t\twidth: \"calc(100% - 30px)\",\n\t\t\tfontSize: \"14px\",\n\t\t\tmarginLeft: \"8px\",\n\t\t};\n}\n\nexport const messageBtnStyle = context => {\n\n\treturn {\n\t\tlistStyleType: \"none\",\n\t\tpadding: \"0\",\n\t\tmargin: \"16px 0 0 0\",\n\t\twidth: \"100%\",\n\t\tli: {\n\t\t\tbackgroundColor: `${context.theme.backgroundColor.white}`,\n\t\t\tborderRadius: \"8px\",\n\t\t\tdisplay: \"flex\",\n\t\t\tjustifyContent: \"center\",\n\t\t\talignItems: \"center\",\n\t\t\twidth: \"100%\",\n\t\t\tposition: \"relative\",\n\t\t\tmargin: \"0\",\n\t\t\tpadding: \"8px\",\n\t\t\tcursor: \"pointer\",\n\t\t\t\"> p\": {\n\t\t\t\tbackground: \"0 0\",\n\t\t\t\ttextAlign: \"center\",\n\t\t\t\tcolor: `${context.theme.primaryColor}`,\n\t\t\t\twidth: \"100%\",\n\t\t\t\tfontWeight: \"600\",\n\t\t\t\tdisplay: \"inline-block\",\n\t\t\t\tfontSize: \"14px\",\n\t\t\t\tmargin: \"0\",\n\t\t\t},\n\t\t},\n\t};\n};\n\nexport const messageInfoWrapperStyle = () => {\n\n    return {\n        alignSelf: \"flex-end\",\n        display: \"flex\",\n        justifyContent: \"flex-end\",\n        alignItems: \"center\",\n\theight: \"25px\"\n    }\n}\n\nexport const messageReactionsWrapperStyle = () => {\n\n    return {\n        display: \"flex\",\n        alignSelf: \"flex-end\",\n        width: \"100%\",\n        flexWrap: \"wrap\",\n        justifyContent: \"flex-end\",\n\t\tminHeight: \"36px\",\n    }\n}\n\nexport const iconStyle = (img, context) => {\n\treturn {\n\t\twidth: \"30px\",\n\t\theight: \"24px\",\n\t\tdisplay: \"inline-block\",\n\t\tmask: `url(${img}) center center no-repeat`,\n\t\tbackgroundColor: `${context.theme.color.white}`,\n\t};\n};\n","export default __webpack_public_path__ + \"static/media/video-call.0e4e774d.svg\";","import React from \"react\";\n/** @jsxRuntime classic */\n/** @jsx jsx */\nimport { jsx } from \"@emotion/core\";\nimport PropTypes from \"prop-types\";\n\nimport { CometChatMessageActions, CometChatThreadedMessageReplyCount, CometChatReadReceipt } from \"../\";\nimport { CometChatMessageReactions } from \"../Extensions\";\n\nimport { CometChatContext } from \"../../../util/CometChatContext\";\nimport { checkMessageForExtensionsData } from \"../../../util/common\";\nimport * as enums from \"../../../util/enums.js\";\n\nimport { theme } from \"../../../resources/theme\";\nimport Translator from \"../../../resources/localization/translator\";\n\nimport {\n    messageContainerStyle,\n    messageWrapperStyle,\n    messageTxtWrapperStyle,\n    messageTxtContainerStyle,\n    messageTxtStyle,\n    messageBtnStyle,\n    messageInfoWrapperStyle,\n    messageReactionsWrapperStyle,\n    iconStyle\n} from \"./style\";\n\nimport callIcon from \"./resources/video-call.svg\";\n\nclass CometChatSenderDirectCallBubble extends React.Component {\n\tstatic contextType = CometChatContext;\n\n\tconstructor(props) {\n\t\tsuper(props);\n\n\t\tthis.state = {\n\t\t\tisHovering: false,\n\t\t};\n\t}\n\n\tshouldComponentUpdate(nextProps, nextState) {\n\n\t\tconst currentMessageStr = JSON.stringify(this.props.message);\n\t\tconst nextMessageStr = JSON.stringify(nextProps.message);\n\n\t\tif (currentMessageStr !== nextMessageStr \n        || this.state.isHovering !== nextState.isHovering) {\n\t\t\treturn true;\n\t\t}\n\t\treturn false;\n\t}\n\n\thandleMouseHover = () => {\n\t\tthis.setState(this.toggleHoverState);\n\t};\n\n\ttoggleHoverState = state => {\n\t\treturn {\n\t\t\tisHovering: !state.isHovering,\n\t\t};\n\t};\n\n\trender() {\n\t\tlet messageReactions = null;\n\t\tconst reactionsData = checkMessageForExtensionsData(this.props.message, \"reactions\");\n\t\tif (reactionsData) {\n\t\t\tif (Object.keys(reactionsData).length) {\n\t\t\t\tmessageReactions = (\n\t\t\t\t\t<div css={messageReactionsWrapperStyle()} className=\"message__reaction__wrapper\">\n\t\t\t\t\t\t<CometChatMessageReactions message={this.props.message} actionGenerated={this.props.actionGenerated} />\n\t\t\t\t\t</div>\n\t\t\t\t);\n\t\t\t}\n\t\t}\n\n\t\tlet toolTipView = null;\n\t\tif (this.state.isHovering) {\n\t\t\ttoolTipView = <CometChatMessageActions message={this.props.message} actionGenerated={this.props.actionGenerated} />;\n\t\t}\n\n\t\tlet callMessage = null;\n\t\tconst joinCallMessage = Translator.translate(\"YOU_ALREADY_ONGOING_CALL\", this.context.language);\n\n\t\tif (this.context.checkIfDirectCallIsOngoing() === enums.CONSTANTS.CALLS[\"ONGOING_CALL_SAME_GROUP\"]) {\n\t\t\t//ongoing call in same group\n\t\t\tcallMessage = (\n\t\t\t\t<li className=\"directcall__row\" title={joinCallMessage}>\n\t\t\t\t\t<p className=\"directcall__text\">{Translator.translate(\"JOIN\", this.context.language)}</p>\n\t\t\t\t</li>\n\t\t\t);\n\t\t} else if (this.context.checkIfDirectCallIsOngoing() === enums.CONSTANTS.CALLS[\"ONGOING_CALL_DIFF_GROUP\"]) {\n\t\t\t//ongoing call in different group\n\n\t\t\tcallMessage = (\n\t\t\t\t<li className=\"directcall__row\" title={joinCallMessage}>\n\t\t\t\t\t<p className=\"directcall__text\">{Translator.translate(\"JOIN\", this.context.language)}</p>\n\t\t\t\t</li>\n\t\t\t);\n\t\t} else if (this.context.checkIfCallIsOngoing()) {\n\t\t\t//ongoing call\n\n\t\t\tcallMessage = (\n\t\t\t\t<li className=\"directcall__row\" title={joinCallMessage}>\n\t\t\t\t\t<p className=\"directcall__text\">{Translator.translate(\"JOIN\", this.context.language)}</p>\n\t\t\t\t</li>\n\t\t\t);\n\t\t} else {\n\t\t\tcallMessage = (\n\t\t\t\t<li className=\"directcall__row\" onClick={() => this.props.actionGenerated(enums.ACTIONS[\"JOIN_DIRECT_CALL\"], this.props.message)}>\n\t\t\t\t\t<p className=\"directcall__text\">{Translator.translate(\"JOIN\", this.context.language)}</p>\n\t\t\t\t</li>\n\t\t\t);\n\t\t}\n\n\t\tconst messageTitle = Translator.translate(\"YOU_INITIATED_GROUP_CALL\", this.context.language);\n\t\treturn (\n\t\t\t<div css={messageContainerStyle()} className=\"sender__message__container message__directcall\" onMouseEnter={this.handleMouseHover} onMouseLeave={this.handleMouseHover}>\n\t\t\t\t{toolTipView}\n\n\t\t\t\t<div css={messageWrapperStyle()} className=\"message__wrapper\">\n\t\t\t\t\t<div css={messageTxtWrapperStyle(this.context)} className=\"message__directcall__wrapper\">\n\t\t\t\t\t\t<div css={messageTxtContainerStyle()} className=\"message__directcall__container\">\n\t\t\t\t\t\t\t<i css={iconStyle(callIcon, this.context)} alt={Translator.translate(\"VIDEO_CALL\", this.context.language)}></i>\n\t\t\t\t\t\t\t<p css={messageTxtStyle()} className=\"directcall__title\">\n\t\t\t\t\t\t\t\t{messageTitle}\n\t\t\t\t\t\t\t</p>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<ul css={messageBtnStyle(this.context)} className=\"directcall__button\">\n\t\t\t\t\t\t\t{callMessage}\n\t\t\t\t\t\t</ul>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\n\t\t\t\t{messageReactions}\n\n\t\t\t\t<div css={messageInfoWrapperStyle()} className=\"message__info__wrapper\">\n\t\t\t\t\t<CometChatThreadedMessageReplyCount message={this.props.message} actionGenerated={this.props.actionGenerated} />\n\t\t\t\t\t<CometChatReadReceipt message={this.props.message} />\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t);\n\t}\n}\n\n// Specifies the default values for props:\nCometChatSenderDirectCallBubble.defaultProps = {\n\ttheme: theme,\n\tactionGenerated: () => {},\n};\n\nCometChatSenderDirectCallBubble.propTypes = {\n\ttheme: PropTypes.object,\n\tactionGenerated: PropTypes.func.isRequired,\n\tmessage: PropTypes.object.isRequired,\n};\n\nexport { CometChatSenderDirectCallBubble };","export const messageContainerStyle = () => {\n\n    return {\n        alignSelf: \"flex-end\",\n        marginBottom: \"16px\",\n        paddingLeft: \"16px\",\n        paddingRight: \"16px\",\n        maxWidth: \"65%\",\n        clear: \"both\",\n        position: \"relative\",\n        display: \"flex\",\n        flexDirection: \"column\",\n        flexShrink: \"0\",\n    }\n}\n\nexport const messageWrapperStyle = () => {\n\n    return {\n        width: \"auto\",\n        flex: \"1 1\",\n        alignSelf: \"flex-end\",\n        display: \"flex\",\n    }\n}\n\nexport const messageFileWrapper = context => {\n\n\treturn {\n\t\tdisplay: \"inline-block\",\n\t\tborderRadius: \"12px\",\n\t\tbackgroundColor: `${context.theme.primaryColor}`,\n\t\tcolor: `${context.theme.color.white}`,\n\t\tpadding: \"8px 16px\",\n\t\talignSelf: \"flex-end\",\n\t\tmaxWidth: \"100%\",\n\t\t\".message__file\": {\n\t\t\tdisplay: \"flex\",\n\t\t\tjustifyContent: \"center\",\n\t\t\talignItems: \"center\",\n\t\t\tbackground: \"0 0\",\n\t\t\ttextDecoration: \"none\",\n\t\t\tcolor: `${context.theme.color.white}`,\n\t\t\tmaxWidth: \"100%\",\n\t\t\tfontSize: \"14px\",\n\t\t\t\"&:visited, &:active, &:hover\": {\n\t\t\t\tcolor: `${context.theme.color.white}`,\n\t\t\t\ttextDecoration: \"none\",\n\t\t\t},\n\t\t\t\"> p\": {\n\t\t\t\tmargin: \"0\",\n\t\t\t\twhiteSpace: \"pre-wrap\",\n\t\t\t\twordBreak: \"break-word\",\n\t\t\t\ttextAlign: \"left\",\n\t\t\t\twidth: \"100%\",\n\t\t\t\tfontSize: \"14px\",\n\t\t\t\tmarginLeft: \"8px\",\n\t\t\t},\n\t\t},\n\t};\n};\n\nexport const messageInfoWrapperStyle = () => {\n\n    return {\n        alignSelf: \"flex-end\",\n        display: \"flex\",\n        justifyContent: \"flex-end\",\n        alignItems: \"center\",\n\theight: \"25px\",\n    }\n}\n\nexport const messageReactionsWrapperStyle = () => {\n\n    return {\n        display: \"flex\",\n        alignSelf: \"flex-end\",\n        width: \"100%\",\n        flexWrap: \"wrap\",\n        justifyContent: \"flex-end\",\n\t\tminHeight: \"36px\",\n    }\n}\n\nexport const iconStyle = (img, context) => {\n\treturn {\n\t\twidth: \"24px\",\n\t\theight: \"24px\",\n\t\tdisplay: \"inline-block\",\n\t\tmask: `url(${img}) center center no-repeat`,\n\t\tbackgroundColor: `${context.theme.color.white}`,\n\t\tflexShrink: \"0\"\n\t};\n};\n","export default __webpack_public_path__ + \"static/media/file-upload.a68d497b.svg\";","import React from \"react\";\n/** @jsxRuntime classic */\n/** @jsx jsx */\nimport { jsx } from \"@emotion/core\";\nimport PropTypes from \"prop-types\";\n\nimport { CometChatMessageActions, CometChatThreadedMessageReplyCount, CometChatReadReceipt } from \"../\";\nimport { CometChatMessageReactions } from \"../Extensions\";\n\nimport { CometChatContext } from \"../../../util/CometChatContext\";\nimport { checkMessageForExtensionsData, getMessageFileMetadata } from \"../../../util/common\";\nimport * as enums from \"../../../util/enums.js\";\n\nimport { theme } from \"../../../resources/theme\";\n\nimport {\n\tmessageContainerStyle,\n\tmessageWrapperStyle,\n\tmessageFileWrapper,\n\tmessageInfoWrapperStyle,\n\tmessageReactionsWrapperStyle,\n\ticonStyle\n} from \"./style\";\n\n\nimport fileIcon from \"./resources/file-upload.svg\";\n\nclass CometChatSenderFileMessageBubble extends React.Component {\n\tstatic contextType = CometChatContext;\n\n\tconstructor(props) {\n\t\tsuper(props);\n\n\t\tthis.state = {\n\t\t\tisHovering: false,\n\t\t\tfileData: {},\n\t\t};\n\t}\n\n\tcomponentDidMount() {\n\n\t\tconst fileData = this.getFileData();\n\t\tthis.setState({ fileData: fileData });\n\t}\n\n\tshouldComponentUpdate(nextProps, nextState) {\n\n\t\tconst currentMessageStr = JSON.stringify(this.props.message);\n\t\tconst nextMessageStr = JSON.stringify(nextProps.message);\n\n\t\tif (currentMessageStr !== nextMessageStr \n\t\t|| this.state.isHovering !== nextState.isHovering \n\t\t|| this.state.fileData !== nextState.fileData) {\n\t\t\treturn true;\n\t\t}\n\t\treturn false;\n\t}\n\n\tcomponentDidUpdate(prevProps) {\n\n\t\tconst previousMessageStr = JSON.stringify(prevProps.message);\n\t\tconst currentMessageStr = JSON.stringify(this.props.message);\n\n\t\tif (previousMessageStr !== currentMessageStr) {\n\n\t\t\tconst fileData = this.getFileData();\n\t\t\t\n\t\t\tconst previousfileData = JSON.stringify(this.state.fileData);\n\t\t\tconst currentfileData = JSON.stringify(fileData);\n\t\t\t\n\t\t\tif (previousfileData !== currentfileData) {\n\t\t\t\tthis.setState({ fileData: fileData });\n\t\t\t}\n\t\t}\n\t}\n\n\thandleMouseHover = () => {\n\t\tthis.setState(this.toggleHoverState);\n\t};\n\n\ttoggleHoverState = state => {\n\t\treturn {\n\t\t\tisHovering: !state.isHovering,\n\t\t};\n\t};\n\n\tgetFileData = () => {\n\t\t\n\t\tconst metadataKey = enums.CONSTANTS[\"FILE_METADATA\"];\n\t\tconst fileMetadata = getMessageFileMetadata(this.props.message, metadataKey);\n\n\t\tif (fileMetadata instanceof Blob) {\n\t\t\t\n\t\t\treturn { fileName: fileMetadata[\"name\"] };\n\n\t\t} else if (this.props.message.data.attachments \n\t\t&& typeof this.props.message.data.attachments === \"object\" \n\t\t&& this.props.message.data.attachments.length) {\n\n\t\t\tconst fileName = this.props.message.data.attachments[0]?.name;\n\t\t\tconst fileUrl = this.props.message.data.attachments[0]?.url;\n\n\t\t\treturn { fileName, fileUrl: fileUrl };\n\t\t}\n\t};\n\n\trender() {\n\t\tif (!Object.keys(this.state.fileData).length) {\n\t\t\treturn null;\n\t\t}\n\n\t\tlet messageReactions = null;\n\t\tconst reactionsData = checkMessageForExtensionsData(this.props.message, \"reactions\");\n\t\tif (reactionsData) {\n\t\t\tif (Object.keys(reactionsData).length) {\n\t\t\t\tmessageReactions = (\n\t\t\t\t\t<div css={messageReactionsWrapperStyle()} className=\"message__reaction__wrapper\">\n\t\t\t\t\t\t<CometChatMessageReactions message={this.props.message} actionGenerated={this.props.actionGenerated} />\n\t\t\t\t\t</div>\n\t\t\t\t);\n\t\t\t}\n\t\t}\n\n\t\tlet toolTipView = null;\n\t\tif (this.state.isHovering) {\n\t\t\ttoolTipView = <CometChatMessageActions message={this.props.message} actionGenerated={this.props.actionGenerated} />;\n\t\t}\n\n\t\tlet fileMessage = null;\n\t\tif (this.state.fileData.hasOwnProperty(\"fileUrl\")) {\n\t\t\tfileMessage = (\n\t\t\t\t<a href={this.state.fileData?.fileUrl} target=\"_blank\" rel=\"noopener noreferrer\" className=\"message__file\">\n\t\t\t\t\t<i css={iconStyle(fileIcon, this.context)}></i>\n\t\t\t\t\t<p>{this.state.fileData?.fileName}</p>\n\t\t\t\t</a>\n\t\t\t);\n\t\t} else {\n\t\t\tfileMessage = (\n\t\t\t\t<React.Fragment>\n\t\t\t\t\t<i css={iconStyle(fileIcon, this.context)}></i>\n\t\t\t\t\t<p>{this.state.fileData?.fileName}</p>\n\t\t\t\t</React.Fragment>\n\t\t\t);\n\t\t}\n\n\t\treturn (\n\t\t\t<div css={messageContainerStyle()} className=\"sender__message__container message__file\" onMouseEnter={this.handleMouseHover} onMouseLeave={this.handleMouseHover}>\n\t\t\t\t{toolTipView}\n\n\t\t\t\t<div css={messageWrapperStyle()} className=\"message__wrapper\">\n\t\t\t\t\t<div css={messageFileWrapper(this.context)} className=\"message__file__wrapper\">\n\t\t\t\t\t\t<div className=\"message__file\">{fileMessage}</div>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\n\t\t\t\t{messageReactions}\n\n\t\t\t\t<div css={messageInfoWrapperStyle()} className=\"message__info__wrapper\">\n\t\t\t\t\t<CometChatThreadedMessageReplyCount message={this.props.message} actionGenerated={this.props.actionGenerated} />\n\t\t\t\t\t<CometChatReadReceipt message={this.props.message} />\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t);\n\t}\n}\n\n// Specifies the default values for props:\nCometChatSenderFileMessageBubble.defaultProps = {\n\ttheme: theme,\n\tactionGenerated: () => {},\n};\n\nCometChatSenderFileMessageBubble.propTypes = {\n\ttheme: PropTypes.object,\n\tactionGenerated: PropTypes.func.isRequired,\n\tmessage: PropTypes.object.isRequired,\n};\n\nexport { CometChatSenderFileMessageBubble };","export const messageContainerStyle = () => {\n\n    return {\n        alignSelf: \"flex-end\",\n        marginBottom: \"16px\",\n        paddingLeft: \"16px\",\n        paddingRight: \"16px\",\n        maxWidth: \"65%\",\n        clear: \"both\",\n        position: \"relative\",\n        display: \"flex\",\n        flexDirection: \"column\",\n        flexShrink: \"0\",\n    }\n}\n\nexport const messageWrapperStyle = () => {\n\n    return {\n        width: \"auto\",\n        flex: \"1 1\",\n        alignSelf: \"flex-end\",\n        display: \"flex\",\n    }\n}\n\nexport const messageImgWrapper = context => {\n\n\tconst mq = [...context.theme.breakPoints];\n\n\treturn {\n\t\tdisplay: \"inline-block\",\n\t\talignSelf: \"flex-end\",\n\t\tmaxWidth: \"300px\",\n\t\theight: \"200px\",\n\t\tcursor: \"pointer\",\n\t\tflexShrink: \"0\",\n\t\timg: {\n\t\t\tborderRadius: \"8px\",\n\t\t\theight: \"100%\",\n\t\t},\n\t\t[`@media ${mq[1]}, ${mq[2]}`]: {\n\t\t\tminWidth: \"50px\",\n\t\t\tmaxWidth: \"150px\",\n\t\t\theight: \"100px\",\n\t\t\tpadding: \"2px 2px\",\n\t\t},\n\t};\n};\n\nexport const messageInfoWrapperStyle = () => {\n\n    return {\n        alignSelf: \"flex-end\",\n        display: \"flex\",\n        justifyContent: \"flex-end\",\n        alignItems: \"center\",\n        height: \"25px\",\n        padding: \"4px 8px\",\n    }\n}\n\nexport const messageReactionsWrapperStyle = () => {\n\n    return {\n        display: \"flex\",\n        alignSelf: \"flex-end\",\n        width: \"100%\",\n        flexWrap: \"wrap\",\n        justifyContent: \"flex-end\",\n        minHeight: \"36px\",\n    }\n}\n","import React from \"react\";\n/** @jsxRuntime classic */\n/** @jsx jsx */\nimport { jsx } from \"@emotion/core\";\nimport PropTypes from \"prop-types\";\n\nimport { CometChatMessageActions, CometChatThreadedMessageReplyCount, CometChatReadReceipt } from \"../\";\nimport { CometChatMessageReactions } from \"../Extensions\";\n\nimport { CometChatContext } from \"../../../util/CometChatContext\";\nimport * as enums from \"../../../util/enums.js\";\nimport { checkMessageForExtensionsData, getMessageFileMetadata } from \"../../../util/common\";\n\nimport { theme } from \"../../../resources/theme\";\nimport Translator from \"../../../resources/localization/translator\";\n\nimport {\n\tmessageContainerStyle,\n\tmessageWrapperStyle,\n\tmessageImgWrapper,\n\tmessageInfoWrapperStyle,\n\tmessageReactionsWrapperStyle\n} from \"./style\";\n\nimport srcIcon from \"./resources/1px.png\";\n\nclass CometChatSenderImageMessageBubble extends React.Component {\n\tstatic contextType = CometChatContext;\n\ttimer = null;\n\n\tconstructor(props, context) {\n\n\t\tsuper(props, context);\n\t\tthis._isMounted = false;\n\t\tthis.imgRef = React.createRef();\n\n\t\tthis.state = {\n\t\t\timageUrl: srcIcon,\n\t\t\timageName: Translator.translate(\"LOADING\", context.language),\n\t\t\tisHovering: false,\n\t\t};\n\t}\n\n\tshouldComponentUpdate(nextProps, nextState) {\n\n\t\tconst currentMessageStr = JSON.stringify(this.props.message);\n\t\tconst nextMessageStr = JSON.stringify(nextProps.message);\n\n\t\tif (currentMessageStr !== nextMessageStr \n\t\t|| this.state.imageUrl !== nextState.imageUrl \n\t\t|| this.state.isHovering !== nextState.isHovering) {\n\n\t\t\treturn true;\n\t\t}\n\n\t\treturn false;\n\t}\n\n\tcomponentDidMount() {\n\n\t\tthis._isMounted = true;\n\t\tthis.setImage();\n\t}\n\n\tcomponentDidUpdate(prevProps) {\n\n\t\tconst previousMessageStr = JSON.stringify(prevProps.message);\n\t\tconst currentMessageStr = JSON.stringify(this.props.message);\n\n\t\tif (previousMessageStr !== currentMessageStr) {\n\t\t\tthis.setImage();\n\t\t}\n\t}\n\n\tcomponentWillUnmount() {\n\t\tthis._isMounted = false;\n\t}\n\n\tchooseImage = thumbnailGenerationObject => {\n\t\tconst smallUrl = thumbnailGenerationObject[\"url_small\"];\n\t\tconst mediumUrl = thumbnailGenerationObject[\"url_medium\"];\n\n\t\tconst mq = window.matchMedia(this.props.theme.breakPoints[0]);\n\n\t\tlet imageToDownload = mediumUrl;\n\t\tif (mq.matches) {\n\t\t\timageToDownload = smallUrl;\n\t\t}\n\n\t\treturn imageToDownload;\n\t};\n\n\tsetImage = () => {\n\n\t\tconst thumbnailGenerationData = checkMessageForExtensionsData(this.props.message, \"thumbnail-generation\");\n\t\tif (thumbnailGenerationData) {\n\n\t\t\tlet imageName = \"\";\n\t\t\tif (this.props.message.data.attachments \n\t\t\t&& typeof this.props.message.data.attachments === \"object\" \n\t\t\t&& this.props.message.data.attachments.length) {\n\t\t\t\timageName = this.props.message.data.attachments[0]?.name;\n\t\t\t}\n\n\t\t\tconst mq = window.matchMedia(this.props.theme.breakPoints[0]);\n\t\t\tmq.addListener(() => {\n\n\t\t\t\tconst imageToDownload = this.chooseImage(thumbnailGenerationData);\n\t\t\t\tlet img = new Image();\n\t\t\t\timg.src = imageToDownload;\n\t\t\t\timg.onload = () => {\n\t\t\t\t\tif (this._isMounted && this.state.imageUrl !== img.src) {\n\t\t\t\t\t\tthis.setState({ imageUrl: img.src, imageName: imageName });\n\t\t\t\t\t}\n\t\t\t\t};\n\t\t\t});\n\n\t\t\tconst imageToDownload = this.chooseImage(thumbnailGenerationData);\n\t\t\tthis.downloadImage(imageToDownload)\n\t\t\t\t.then(response => {\n\t\t\t\t\tlet img = new Image();\n\t\t\t\t\timg.src = imageToDownload;\n\t\t\t\t\timg.onload = () => {\n\t\t\t\t\t\tif (this._isMounted && this.state.imageUrl !== img.src) {\n\t\t\t\t\t\t\tthis.setState({ imageUrl: img.src, imageName: imageName });\n\t\t\t\t\t\t}\n\t\t\t\t\t};\n\t\t\t\t})\n\t\t\t\t.catch(error => console.error(error));\n\t\t} else {\n\t\t\tthis.setMessageImageUrl();\n\t\t}\n\t};\n\n\tsetMessageImageUrl = () => {\n\n\t\tconst metadataKey = enums.CONSTANTS[\"FILE_METADATA\"];\n\t\tconst fileMetadata = getMessageFileMetadata(this.props.message, metadataKey);\n\t\t\n\t\tlet img = new Image();\n\t\tlet imageName;\n\t\tif (fileMetadata instanceof Blob) {\n\n\t\t\tconst reader = new FileReader();\n\t\t\treader.onload = function() {\n\t\t\t\timg.src = reader.result;\n\t\t\t};\n\t\t\timageName = fileMetadata[\"name\"];\n\t\t\treader.readAsDataURL(fileMetadata);\n\n\t\t} else if (this.props.message.data.attachments \n\t\t\t&& typeof this.props.message.data.attachments === \"object\" \n\t\t\t&& this.props.message.data.attachments.length) {\n\n\t\t\tconst fileUrl = this.props.message.data.attachments[0]?.url;\n\t\t\timageName = this.props.message.data.attachments[0]?.name;\n\t\t\timg.src = fileUrl;\n\t\t}\n\n\t\timg.onload = () => {\n\t\t\t//only if there is a change in the image path, update state\n\t\t\tif (this._isMounted && this.state.imageUrl !== img.src) {\n\t\t\t\tthis.setState({ imageUrl: img.src, imageName: imageName });\n\t\t\t}\n\t\t};\n\t};\n\n\tdownloadImage(imgUrl) {\n\t\tconst promise = new Promise((resolve, reject) => {\n\t\t\tconst xhr = new XMLHttpRequest();\n\t\t\txhr.open(\"GET\", imgUrl, true);\n\t\t\txhr.responseType = \"blob\";\n\n\t\t\txhr.onload = () => {\n\t\t\t\tif (xhr.readyState === 4) {\n\t\t\t\t\tif (xhr.status === 200) {\n\t\t\t\t\t\tthis.timer = null;\n\t\t\t\t\t\tresolve(imgUrl);\n\t\t\t\t\t} else if (xhr.status === 403) {\n\t\t\t\t\t\tthis.timer = setTimeout(() => {\n\t\t\t\t\t\t\tthis.downloadImage(imgUrl)\n\t\t\t\t\t\t\t\t.then(response => resolve(imgUrl))\n\t\t\t\t\t\t\t\t.catch(error => reject(error));\n\t\t\t\t\t\t}, 800);\n\t\t\t\t\t}\n\t\t\t\t} else {\n\t\t\t\t\treject(xhr.statusText);\n\t\t\t\t}\n\t\t\t};\n\n\t\t\txhr.onerror = event => reject(new Error(\"There was a network error.\", event));\n\t\t\txhr.ontimeout = event => reject(new Error(\"There was a timeout error.\", event));\n\t\t\txhr.send();\n\t\t});\n\n\t\treturn promise;\n\t}\n\n\topen = () => {\n\t\tthis.props.actionGenerated(enums.ACTIONS[\"VIEW_ORIGINAL_IMAGE\"], this.props.message);\n\t};\n\n\thandleMouseHover = () => {\n\t\tthis.setState(this.toggleHoverState);\n\t};\n\n\ttoggleHoverState = state => {\n\t\treturn {\n\t\t\tisHovering: !state.isHovering,\n\t\t};\n\t};\n\n\trender() {\n\t\tlet messageReactions = null;\n\t\tconst reactionsData = checkMessageForExtensionsData(this.props.message, \"reactions\");\n\t\tif (reactionsData) {\n\t\t\tif (Object.keys(reactionsData).length) {\n\t\t\t\tmessageReactions = (\n\t\t\t\t\t<div css={messageReactionsWrapperStyle()} className=\"message__reaction__wrapper\">\n\t\t\t\t\t\t<CometChatMessageReactions message={this.props.message} actionGenerated={this.props.actionGenerated} />\n\t\t\t\t\t</div>\n\t\t\t\t);\n\t\t\t}\n\t\t}\n\n\t\tlet toolTipView = null;\n\t\tif (this.state.isHovering) {\n\t\t\ttoolTipView = <CometChatMessageActions message={this.props.message} actionGenerated={this.props.actionGenerated} />;\n\t\t}\n\n\t\treturn (\n\t\t\t<div css={messageContainerStyle()} className=\"sender__message__container message__image\" onMouseEnter={this.handleMouseHover} onMouseLeave={this.handleMouseHover}>\n\t\t\t\t{toolTipView}\n\n\t\t\t\t<div css={messageWrapperStyle()} className=\"message__wrapper\">\n\t\t\t\t\t<div css={messageImgWrapper(this.context)} onClick={this.open} className=\"message__img__wrapper\">\n\t\t\t\t\t\t<img\n\t\t\t\t\t\t\tsrc={this.state.imageUrl}\n\t\t\t\t\t\t\talt={this.state.imageName}\n\t\t\t\t\t\t\tref={el => {\n\t\t\t\t\t\t\t\tthis.imgRef = el;\n\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t/>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\n\t\t\t\t{messageReactions}\n\n\t\t\t\t<div css={messageInfoWrapperStyle()} className=\"message__info__wrapper\">\n\t\t\t\t\t<CometChatThreadedMessageReplyCount message={this.props.message} actionGenerated={this.props.actionGenerated} />\n\t\t\t\t\t<CometChatReadReceipt message={this.props.message} />\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t);\n\t}\n}\n\n// Specifies the default values for props:\nCometChatSenderImageMessageBubble.defaultProps = {\n\ttheme: theme,\n\tactionGenerated: () => {},\n};\n\nCometChatSenderImageMessageBubble.propTypes = {\n\ttheme: PropTypes.object,\n\tactionGenerated: PropTypes.func.isRequired,\n\tmessage: PropTypes.object.isRequired,\n};\n\nexport { CometChatSenderImageMessageBubble };\n","export default \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABAQMAAAAl21bKAAAAA1BMVEXx7OqhaJO7AAAAAXRSTlPM0jRW/QAAAApJREFUeJxjYgAAAAYAAzY3fKgAAAAASUVORK5CYII=\"","export const messageContainerStyle = () => {\n\n    return {\n        alignSelf: \"flex-end\",\n        marginBottom: \"16px\",\n        paddingLeft: \"16px\",\n        paddingRight: \"16px\",\n        maxWidth: \"65%\",\n        clear: \"both\",\n        position: \"relative\",\n        display: \"flex\",\n        flexDirection: \"column\",\n        flexShrink: \"0\",\n    }\n}\n\nexport const messageWrapperStyle = () => {\n\n    return {\n        width: \"auto\",\n        alignSelf: \"flex-end\",\n        display: \"flex\",\n        flex: \"1 1\"\n    }\n}\n\nexport const messageTxtWrapperStyle = context => {\n\n\treturn {\n\t\tdisplay: \"inline-block\",\n\t\tborderRadius: \"12px\",\n\t\tbackgroundColor: `${context.theme.primaryColor}`,\n\t\tcolor: `${context.theme.color.white}`,\n\t\tpadding: \"8px 16px\",\n\t\twidth: \"auto\",\n\t};\n};\n\nexport const messageTxtStyle = (props, parsedMessage, emojiMessage, showVariation) => {\n\n    let emojiAlignmentProp = {\n        \" > img\": {\n            width: \"24px\",\n            height: \"24px\",\n            display: \"inline-block\",\n            verticalAlign: \"top\",\n            zoom: \"1\",\n            margin: \"0 2px\"\n        }\n    };\n\n    let emojiProp = {};\n    let heightProp = {};\n\n    if (parsedMessage.length === emojiMessage.length && emojiMessage.length === 1) {\n        emojiProp = {\n           \"> img\": {\n                width: \"48px\",\n                height: \"48px\",\n           }\n        };\n        heightProp = {\n            height: \"48px\",\n        };\n    } else if (parsedMessage.length === emojiMessage.length && emojiMessage.length === 2) {\n        emojiProp = {\n            \"> img\": {\n                width: \"36px\",\n                height: \"36px\",\n            }\n        };\n        heightProp = {\n            height: \"36px\",\n        };\n    } else if (parsedMessage.length === emojiMessage.length && emojiMessage.length > 2) {\n        emojiProp = {\n            \"> img\": {\n                width: \"24px\",\n                height: \"24px\",\n            }\n        };\n    }\n\n    if (showVariation === false) {\n        emojiProp = {\n            \"> img\": {\n                width: \"24px\",\n                height: \"24px\",\n            }\n        };\n    }\n\n    return {\n        margin: \"0\",\n        fontSize: \"14px\",\n        whiteSpace: \"pre-wrap\",\n        wordBreak: \"break-word\",\n        textAlign: \"left\",\n        width: \"auto\",\n        ...heightProp,\n        \" a\": {\n            color: \"#0432FF\",\n            \"&:hover\": {\n                color: \"#04009D\"\n            }\n        },\n        \" a[href^='mailto:']\": {\n            color: \"#F38C00\",\n            \"&:hover\": {\n                color: \"#F36800\"\n            }\n        },\n        \" a[href^='tel:']\": {\n            color: \"#3802DA\",\n            \"&:hover\": {\n                color: \"#2D038F\"\n            }\n        },\n        ...emojiAlignmentProp,\n        ...emojiProp\n    }\n}\n\nexport const messageInfoWrapperStyle = () => {\n\n    return {\n        alignSelf: \"flex-end\",\n        display: \"flex\",\n        justifyContent: \"flex-end\",\n        alignItems: \"center\",\n        height: \"25px\",\n        padding: \"4px 8px\",\n    }\n}\n\nexport const messageReactionsWrapperStyle = () => {\n\n    return {\n        display: \"flex\",\n        alignSelf: \"flex-end\",\n        width: \"100%\",\n        flexWrap: \"wrap\",\n        justifyContent: \"flex-end\",\n        minHeight: \"36px\"\n    }\n}\n","import React from \"react\";\nimport twemoji from \"twemoji\";\nimport ReactHtmlParser from \"react-html-parser\";\n/** @jsxRuntime classic */\n/** @jsx jsx */\nimport { jsx } from \"@emotion/core\";\nimport PropTypes from \"prop-types\";\nimport { CometChat } from \"@cometchat-pro/chat\";\n\nimport { CometChatMessageActions, CometChatThreadedMessageReplyCount, CometChatReadReceipt, CometChatLinkPreview } from \"../\";\nimport { CometChatMessageReactions } from \"../Extensions\";\n\nimport { CometChatContext } from \"../../../util/CometChatContext\";\nimport { linkify, checkMessageForExtensionsData } from \"../../../util/common\";\nimport * as enums from \"../../../util/enums.js\";\n\nimport Translator from \"../../../resources/localization/translator\";\nimport { theme } from \"../../../resources/theme\";\n\nimport {\n\tmessageContainerStyle,\n\tmessageWrapperStyle,\n\tmessageTxtWrapperStyle,\n\tmessageTxtStyle,\n\tmessageInfoWrapperStyle,\n\tmessageReactionsWrapperStyle,\n} from \"./style\";\n\nclass CometChatSenderTextMessageBubble extends React.Component {\n\tstatic contextType = CometChatContext;\n\n\tconstructor(props) {\n\t\tsuper(props);\n\n\t\tthis.messageTextRef = React.createRef();\n\n\t\tthis.state = {\n\t\t\ttranslatedMessage: \"\",\n\t\t\tisHovering: false,\n\t\t\tenableLargerSizeEmojis: false,\n\t\t};\n\t}\n\n\tshouldComponentUpdate(nextProps, nextState) {\n\t\t\n\t\tconst currentMessageStr = JSON.stringify(this.props.message);\n\t\tconst nextMessageStr = JSON.stringify(nextProps.message);\n\t\t\n\t\tif (currentMessageStr !== nextMessageStr \n\t\t|| this.state.isHovering !== nextState.isHovering\n\t\t|| this.state.translatedMessage !== nextState.translatedMessage\n\t\t|| this.state.enableLargerSizeEmojis !== nextState.enableLargerSizeEmojis) {\n\t\t\treturn true;\n\t\t}\n\n\t\treturn false;\n\t}\n\n\tcomponentDidMount() {\n\n\t\tthis.enableLargerSizeEmojis();\n\t}\n\n\tcomponentDidUpdate(prevProps, prevState) {\n\t\t\n\t\tif (prevProps.message !== this.props.message) {\n\n\t\t\tthis.setState({ translatedMessage: \"\" });\n\t\t}\n\n\t\tthis.enableLargerSizeEmojis();\n\t}\n\n\tgetMessageText = () => {\n\t\tlet messageText = this.props.message.text;\n\n\t\t//xss extensions data\n\t\tconst xssData = checkMessageForExtensionsData(this.props.message, \"xss-filter\");\n\t\tif (xssData && xssData.hasOwnProperty(\"sanitized_text\") && xssData.hasOwnProperty(\"hasXSS\") && xssData.hasXSS === \"yes\") {\n\t\t\tmessageText = xssData.sanitized_text;\n\t\t}\n\n\t\t//datamasking extensions data\n\t\tconst maskedData = checkMessageForExtensionsData(this.props.message, \"data-masking\");\n\t\tif (maskedData && maskedData.hasOwnProperty(\"data\") && maskedData.data.hasOwnProperty(\"sensitive_data\") && maskedData.data.hasOwnProperty(\"message_masked\") && maskedData.data.sensitive_data === \"yes\") {\n\t\t\tmessageText = maskedData.data.message_masked;\n\t\t}\n\n\t\t//profanity extensions data\n\t\tconst profaneData = checkMessageForExtensionsData(this.props.message, \"profanity-filter\");\n\t\tif (profaneData && profaneData.hasOwnProperty(\"profanity\") && profaneData.hasOwnProperty(\"message_clean\") && profaneData.profanity === \"yes\") {\n\t\t\tmessageText = profaneData.message_clean;\n\t\t}\n\n\t\tconst formattedText = linkify(messageText);\n\n\t\tconst emojiParsedMessage = twemoji.parse(formattedText, { folder: \"svg\", ext: \".svg\" });\n\t\tconst parsedMessage = ReactHtmlParser(emojiParsedMessage, { decodeEntities: false });\n\t\tconst emojiMessage = parsedMessage.filter(message => message instanceof Object && message.type === \"img\");\n\n\t\tlet showVariation = true;\n\t\t//if larger size emojis feature is disabled\n\t\tif (this.state.enableLargerSizeEmojis === false) {\n\t\t\tshowVariation = false;\n\t\t}\n\n\t\tmessageText = (\n\t\t\t<div css={messageTxtWrapperStyle(this.context)} className=\"message__txt__wrapper\">\n\t\t\t\t<p css={messageTxtStyle(this.props, parsedMessage, emojiMessage, showVariation)} className=\"message__txt\">\n\t\t\t\t\t{parsedMessage}\n\t\t\t\t\t{this.state.translatedMessage}\n\t\t\t\t</p>\n\t\t\t</div>\n\t\t);\n\n\t\treturn messageText;\n\t};\n\n\ttranslateMessage = message => {\n\t\tconst messageId = message.id;\n\t\tconst messageText = message.text;\n\n\t\tconst browserLanguageCode = Translator.getBrowserLanguage().toLowerCase();\n\t\tlet translateToLanguage = browserLanguageCode;\n\t\tif (browserLanguageCode.indexOf(\"-\") !== -1) {\n\t\t\tconst browserLanguageArray = browserLanguageCode.split(\"-\");\n\t\t\ttranslateToLanguage = browserLanguageArray[0];\n\t\t}\n\n\t\tlet translatedMessage = \"\";\n\t\tCometChat.callExtension(\"message-translation\", \"POST\", \"v2/translate\", {\n\t\t\tmsgId: messageId,\n\t\t\ttext: messageText,\n\t\t\tlanguages: [translateToLanguage],\n\t\t})\n\t\t\t.then(result => {\n\t\t\t\tif (result.hasOwnProperty(\"language_original\") && result[\"language_original\"] !== translateToLanguage) {\n\t\t\t\t\tif (result.hasOwnProperty(\"translations\") && result.translations.length) {\n\t\t\t\t\t\tconst messageTranslation = result.translations[0];\n\t\t\t\t\t\tif (messageTranslation.hasOwnProperty(\"message_translated\")) {\n\t\t\t\t\t\t\ttranslatedMessage = `\\n(${messageTranslation[\"message_translated\"]})`;\n\t\t\t\t\t\t}\n\t\t\t\t\t} else {\n\t\t\t\t\t\tthis.props.actionGenerated(enums.ACTIONS[\"ERROR\"], [], \"SOMETHING_WRONG\");\n\t\t\t\t\t}\n\t\t\t\t} else {\n\t\t\t\t\tthis.props.actionGenerated(enums.ACTIONS[\"INFO\"], [], \"SAME_LANGUAGE_MESSAGE\");\n\t\t\t\t}\n\n\t\t\t\tthis.setState({ translatedMessage: translatedMessage });\n\t\t\t})\n\t\t\t.catch(error => this.props.actionGenerated(enums.ACTIONS[\"ERROR\"], [], \"SOMETHING_WRONG\"));\n\t};\n\n\tenableLargerSizeEmojis = () => {\n\t\tthis.context.FeatureRestriction.isLargerSizeEmojisEnabled()\n\t\t\t.then(response => {\n\t\t\t\tif (response !== this.state.enableLargerSizeEmojis) {\n\t\t\t\t\tthis.setState({ enableLargerSizeEmojis: response });\n\t\t\t\t}\n\t\t\t})\n\t\t\t.catch(error => {\n\t\t\t\tif (this.state.enableLargerSizeEmojis !== false) {\n\t\t\t\t\tthis.setState({ enableLargerSizeEmojis: false });\n\t\t\t\t}\n\t\t\t});\n\t};\n\n\thandleMouseHover = () => {\n\t\tthis.setState(this.toggleHoverState);\n\t};\n\n\ttoggleHoverState = state => {\n\t\treturn {\n\t\t\tisHovering: !state.isHovering,\n\t\t};\n\t};\n\n\tactionHandler = (action, message) => {\n\t\tswitch (action) {\n\t\t\tcase enums.ACTIONS[\"REACT_TO_MESSAGE\"]:\n\t\t\t\tthis.props.actionGenerated(action, message);\n\t\t\t\tbreak;\n\t\t\tcase enums.ACTIONS[\"VIEW_THREADED_MESSAGE\"]:\n\t\t\t\tthis.props.actionGenerated(action, message);\n\t\t\t\tbreak;\n\t\t\tcase enums.ACTIONS[\"DELETE_MESSAGE\"]:\n\t\t\t\tthis.props.actionGenerated(action, message);\n\t\t\t\tbreak;\n\t\t\tcase enums.ACTIONS[\"EDIT_MESSAGE\"]:\n\t\t\t\tthis.props.actionGenerated(action, message);\n\t\t\t\tbreak;\n\t\t\tcase enums.ACTIONS[\"TRANSLATE_MESSAGE\"]:\n\t\t\t\tthis.translateMessage(message);\n\t\t\t\tbreak;\n\t\t\tdefault:\n\t\t\t\tbreak;\n\t\t}\n\t};\n\n\trender() {\n\n\t\tlet messageText = this.getMessageText();\n\n\t\t//linkpreview extensions data\n\t\tconst linkPreviewData = checkMessageForExtensionsData(this.props.message, \"link-preview\");\n\t\tif (linkPreviewData && linkPreviewData.hasOwnProperty(\"links\") && linkPreviewData[\"links\"].length) {\n\t\t\tmessageText = <CometChatLinkPreview message={this.props.message} messageText={messageText} />;\n\t\t}\n\n\t\t//messagereactions extensions data\n\t\tlet messageReactions = null;\n\t\tconst reactionsData = checkMessageForExtensionsData(this.props.message, \"reactions\");\n\t\tif (reactionsData) {\n\t\t\tif (Object.keys(reactionsData).length) {\n\t\t\t\tmessageReactions = (\n\t\t\t\t\t<div css={messageReactionsWrapperStyle()} className=\"message__reaction__wrapper\">\n\t\t\t\t\t\t<CometChatMessageReactions message={this.props.message} actionGenerated={this.props.actionGenerated} />\n\t\t\t\t\t</div>\n\t\t\t\t);\n\t\t\t}\n\t\t}\n\n\t\tlet toolTipView = null;\n\t\tif (this.state.isHovering) {\n\t\t\ttoolTipView = <CometChatMessageActions message={this.props.message} actionGenerated={this.actionHandler} />;\n\t\t}\n\n\t\treturn (\n\t\t\t<div css={messageContainerStyle()} className=\"sender__message__container message__text\" onMouseEnter={this.handleMouseHover} onMouseLeave={this.handleMouseHover}>\n\t\t\t\t{toolTipView}\n\t\t\t\t<div css={messageWrapperStyle()} className=\"message__wrapper\" ref={this.messageTextRef}>\n\t\t\t\t\t{messageText}\n\t\t\t\t</div>\n\n\t\t\t\t{messageReactions}\n\n\t\t\t\t<div css={messageInfoWrapperStyle()} className=\"message__info__wrapper\">\n\t\t\t\t\t<CometChatThreadedMessageReplyCount message={this.props.message} actionGenerated={this.props.actionGenerated} />\n\t\t\t\t\t<CometChatReadReceipt message={this.props.message} />\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t);\n\t}\n}\n\n// Specifies the default values for props:\nCometChatSenderTextMessageBubble.defaultProps = {\n\ttheme: theme,\n\tactionGenerated: () => {},\n};\n\nCometChatSenderTextMessageBubble.propTypes = {\n\ttheme: PropTypes.object,\n\tactionGenerated: PropTypes.func.isRequired,\n\tmessage: PropTypes.object.isRequired,\n};\n\nexport { CometChatSenderTextMessageBubble };","export const messageContainerStyle = () => {\n\n    return {\n        alignSelf: \"flex-end\",\n        marginBottom: \"16px\",\n        paddingLeft: \"16px\",\n        paddingRight: \"16px\",\n        maxWidth: \"65%\",\n        clear: \"both\",\n        position: \"relative\",\n        display: \"flex\",\n        flexDirection: \"column\",\n        flexShrink: \"0\",\n    }\n}\n\nexport const messageWrapperStyle = () => {\n\n    return {\n        width: \"auto\",\n        flex: \"1 1\",\n        alignSelf: \"flex-end\",\n        display: \"flex\",\n    }\n}\n\nexport const messageVideoWrapperStyle = () => {\n\n    return {\n        display: \"inline-block\",\n        alignSelf: 'flex-end',\n        ' > video': {\n            maxWidth: \"250px\",\n            borderRadius: \"12px\",\n            display: \"inherit\",\n        }\n    }\n}\n\nexport const messageInfoWrapperStyle = () => {\n\n    return {\n        alignSelf: \"flex-end\",\n        display: \"flex\",\n        justifyContent: \"flex-end\",\n        alignItems: \"center\",\n        height: \"25px\",\n        padding: \"4px 8px\",\n    }\n}\n\nexport const messageReactionsWrapperStyle = () => {\n\n    return {\n        display: \"flex\",\n        alignSelf: \"flex-end\",\n        width: \"100%\",\n        flexWrap: \"wrap\",\n        justifyContent: \"flex-end\",\n        minHeight: \"36px\",\n    }\n}\n","import React from \"react\";\n/** @jsxRuntime classic */\n/** @jsx jsx */\nimport { jsx } from \"@emotion/core\";\nimport PropTypes from \"prop-types\";\n\nimport { CometChatMessageActions, CometChatThreadedMessageReplyCount, CometChatReadReceipt } from \"../\";\nimport { CometChatMessageReactions } from \"../Extensions\";\n\nimport { checkMessageForExtensionsData, getMessageFileMetadata } from \"../../../util/common\";\nimport * as enums from \"../../../util/enums.js\";\n\nimport {\n\tmessageContainerStyle,\n\tmessageWrapperStyle,\n\tmessageVideoWrapperStyle,\n\tmessageInfoWrapperStyle,\n\tmessageReactionsWrapperStyle\n} from \"./style\";\n\nclass CometChatSenderVideoMessageBubble extends React.Component {\n\tconstructor(props) {\n\t\tsuper(props);\n\n\t\tthis.state = {\n\t\t\tisHovering: false,\n\t\t\tfileData: {},\n\t\t};\n\t}\n\n\tcomponentDidMount() {\n\n\t\tconst fileData = this.getFileData();\n\t\tthis.setState({ fileData: fileData });\n\t}\n\n\tshouldComponentUpdate(nextProps, nextState) {\n\t\tconst currentMessageStr = JSON.stringify(this.props.message);\n\t\tconst nextMessageStr = JSON.stringify(nextProps.message);\n\n\t\tif (currentMessageStr !== nextMessageStr \n\t\t|| this.state.isHovering !== nextState.isHovering \n\t\t|| this.state.fileData !== nextState.fileData) {\n\t\t\treturn true;\n\t\t}\n\t\treturn false;\n\t}\n\n\tcomponentDidUpdate(prevProps) {\n\n\t\tconst previousMessageStr = JSON.stringify(prevProps.message);\n\t\tconst currentMessageStr = JSON.stringify(this.props.message);\n\n\t\tif (previousMessageStr !== currentMessageStr) {\n\n\t\t\tconst fileData = this.getFileData();\n\n\t\t\tconst previousfileData = JSON.stringify(this.state.fileData);\n\t\t\tconst currentfileData = JSON.stringify(fileData);\n\t\t\t\n\t\t\tif (previousfileData !== currentfileData) {\n\t\t\t\tthis.setState({ fileData: fileData });\n\t\t\t}\n\t\t}\n\t}\n\n\tgetFileData = () => {\n\n\t\tconst metadataKey = enums.CONSTANTS[\"FILE_METADATA\"];\n\t\tconst fileMetadata = getMessageFileMetadata(this.props.message, metadataKey);\n\t\t\n\t\tif (fileMetadata instanceof Blob) {\n\n\t\t\treturn { fileName: fileMetadata[\"name\"] };\n\n\t\t} else if (this.props.message.data.attachments \n\t\t\t&& typeof this.props.message.data.attachments === \"object\" \n\t\t\t&& this.props.message.data.attachments.length) {\n\n\t\t\tconst fileName = this.props.message.data.attachments[0]?.name;\n\t\t\tconst fileUrl = this.props.message.data.attachments[0]?.url;\n\n\t\t\treturn { fileName, fileUrl: fileUrl };\n\t\t}\n\t};\n\n\thandleMouseHover = () => {\n\t\tthis.setState(this.toggleHoverState);\n\t};\n\n\ttoggleHoverState = state => {\n\t\treturn {\n\t\t\tisHovering: !state.isHovering,\n\t\t};\n\t};\n\n\trender() {\n\t\tif (!Object.keys(this.state.fileData).length) {\n\t\t\treturn null;\n\t\t}\n\n\t\tlet messageReactions = null;\n\t\tconst reactionsData = checkMessageForExtensionsData(this.props.message, \"reactions\");\n\t\tif (reactionsData) {\n\t\t\tif (Object.keys(reactionsData).length) {\n\t\t\t\tmessageReactions = (\n\t\t\t\t\t<div css={messageReactionsWrapperStyle()} className=\"message__reaction__wrapper\">\n\t\t\t\t\t\t<CometChatMessageReactions message={this.props.message} actionGenerated={this.props.actionGenerated} />\n\t\t\t\t\t</div>\n\t\t\t\t);\n\t\t\t}\n\t\t}\n\n\t\tlet toolTipView = null;\n\t\tif (this.state.isHovering) {\n\t\t\ttoolTipView = <CometChatMessageActions message={this.props.message} actionGenerated={this.props.actionGenerated} />;\n\t\t}\n\n\t\treturn (\n\t\t\t<div css={messageContainerStyle()} className=\"sender__message__container message__video\" onMouseEnter={this.handleMouseHover} onMouseLeave={this.handleMouseHover}>\n\t\t\t\t{toolTipView}\n\n\t\t\t\t<div css={messageWrapperStyle()} className=\"message__wrapper\">\n\t\t\t\t\t<div css={messageVideoWrapperStyle()} className=\"message__video__wrapper\">\n\t\t\t\t\t\t<video controls src={this.state.fileData?.fileUrl}></video>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\n\t\t\t\t{messageReactions}\n\n\t\t\t\t<div css={messageInfoWrapperStyle()} className=\"message__info__wrapper\">\n\t\t\t\t\t<CometChatThreadedMessageReplyCount message={this.props.message} actionGenerated={this.props.actionGenerated} />\n\t\t\t\t\t<CometChatReadReceipt message={this.props.message} />\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t);\n\t}\n}\n\n// Specifies the default values for props:\nCometChatSenderVideoMessageBubble.defaultProps = {\n\tactionGenerated: () => {},\n};\n\nCometChatSenderVideoMessageBubble.propTypes = {\n\tactionGenerated: PropTypes.func.isRequired,\n\tmessage: PropTypes.object.isRequired,\n};\n\n\nexport { CometChatSenderVideoMessageBubble };","export const replyCountStyle = context => {\n\n\treturn {\n\t\tdisplay: \"inline-block\",\n\t\tfontSize: \"11px\",\n\t\tfontWeight: \"500\",\n\t\tlineHeight: \"12px\",\n\t\ttextTransform: \"lowercase\",\n\t\tpadding: \"0 10px\",\n\t\tcursor: \"pointer\",\n\t\tcolor: context.theme.color.blue,\n\t\t\"&:hover\": {\n\t\t\ttextDecoration: \"underline\",\n\t\t},\n\t};\n};","import React from \"react\";\n/** @jsxRuntime classic */\n/** @jsx jsx */\nimport {jsx} from \"@emotion/core\";\nimport PropTypes from \"prop-types\";\n\nimport {CometChatContext} from \"../../../util/CometChatContext\";\nimport * as enums from \"../../../util/enums.js\";\n\nimport {theme} from \"../../../resources/theme\";\nimport Translator from \"../../../resources/localization/translator\";\n\nimport {replyCountStyle} from \"./style\";\n\nconst CometChatThreadedMessageReplyCount = props => {\n\n\tconst context = React.useContext(CometChatContext);\n\tconst [reply, setReply] = React.useState(false);\n\n\tconst toggleReply = () => {\n\t\tcontext.FeatureRestriction.isThreadedMessagesEnabled()\n\t\t\t.then(response => {\n\t\t\t\tif (response !== reply) {\n\t\t\t\t\tsetReply(response);\n\t\t\t\t}\n\t\t\t})\n\t\t\t.catch(error => {\n\t\t\t\tif (reply !== false) {\n\t\t\t\t\tsetReply(false);\n\t\t\t\t}\n\t\t\t});\n\t};\n\n\tReact.useEffect(toggleReply);\n\n\tconst viewThread = () => {\n\t\tprops.actionGenerated(enums.ACTIONS[\"VIEW_THREADED_MESSAGE\"], props.message);\n\t}\n\n\tconst replyCount = props.message.replyCount;\n\tconst replyText = replyCount === 1 ? `${replyCount} ${Translator.translate(\"REPLY\", context.language)}` : `${replyCount} ${Translator.translate(\"REPLIES\", context.language)}`;\n\n\tlet replies = (\n\t\t<span css={replyCountStyle(context)} className=\"replycount\" onClick={viewThread}>\n\t\t\t{replyText}\n\t\t</span>\n\t);\n\n\tif (props.message.hasOwnProperty(\"replyCount\") === false) {\n\t\treplies = null;\n\t}\n\n\t//if threadedchats feature is disabled\n\tif (reply === false) {\n\t\treplies = null;\n\t}\n\n\treturn replies;\n};\n\n// Specifies the default values for props:\nCometChatThreadedMessageReplyCount.defaultProps = {\n\ttheme: theme,\n\tactionGenerated: () => {},\n};\n\nCometChatThreadedMessageReplyCount.propTypes = {\n\ttheme: PropTypes.object,\n\tactionGenerated: PropTypes.func.isRequired,\n\tmessage: PropTypes.object.isRequired,\n};\n\nexport {CometChatThreadedMessageReplyCount};\n","export const blockedMessageWrapperStyle = () => {\n    return {\n        padding: \"16px\",\n        display: \"flex\",\n        flexDirection: \"column\",\n        alignItems: \"center\",\n        justifyContent: \"center\",\n        backgroundColor: \"#fff\",\n        zIndex: \"1\",\n        order: \"3\",\n        position: \"relative\",\n        flex: \"none\",\n        minHeight: \"105px\",\n        width: \"100%\",\n        margin: \"auto\"\n    }\n}\n\nexport const blockedMessageContainerStyle = () => {\n    return {\n        display: \"flex\",\n        flexDirection: \"column\",\n        alignItems: \"center\",\n        justifyContent: \"center\"\n    }\n}\n\nexport const blockedTitleStyle = () => {\n    return {\n        fontSize: \"20px\",\n        fontWeight: \"700\",\n        textAlign: \"center\"\n    }\n}\n\nexport const bockedSubTitleStyle = context => {\n\treturn {\n\t\tmargin: \"16px 0\",\n\t\ttextAlign: \"center\",\n\t\tcolor: context.theme.color.helpText,\n\t};\n};\n\nexport const unblockButtonStyle = context => {\n\n    const mq = [...context.theme.breakPoints];\n\n    const widthProp = {\n        width: \"15%\",\n        [`@media ${mq[1]}`]: {\n            width: \"70%\",\n        },\n        [`@media ${mq[2]}`]: {\n            width: \"50%\",\n        },\n        [`@media ${mq[3]}`]: {\n            width: \"30%\",\n        },\n        [`@media ${mq[4]}`]: {\n            width: \"20%\",\n        }\n    };\n\n\treturn {\n\t\t...widthProp,\n\t\tpadding: \"8px 16px\",\n\t\tmargin: \"0\",\n\t\tborderRadius: \"12px\",\n\t\tbackgroundColor: `${context.theme.primaryColor}!important`,\n\t\tcolor: `${context.theme.color.white}`,\n\t};\n};","import React from \"react\";\n/** @jsxRuntime classic */\n/** @jsx jsx */\nimport { jsx } from \"@emotion/core\";\nimport PropTypes from \"prop-types\";\nimport { CometChat } from \"@cometchat-pro/chat\";\n\nimport { CometChatContext } from \"../../../util/CometChatContext\";\nimport { CometChatEvent } from \"../../../util/CometChatEvent\";\nimport * as enums from \"../../../util/enums.js\";\n\nimport Translator from \"../../../resources/localization/translator\";\n\nimport { \n    blockedMessageWrapperStyle, \n    blockedMessageContainerStyle,\n    unblockButtonStyle,\n    blockedTitleStyle,\n    bockedSubTitleStyle\n} from \"./style\";\n\nconst CometChatBlockedUser = props => {\n    \n\tconst context = React.useContext(CometChatContext);\n\tconst chatWith = { ...context.item };\n\n\tconst unblockUser = () => {\n\n\t\tlet uid = chatWith.uid;\n\t\tCometChat.unblockUsers([uid])\n\t\t\t.then(response => {\n\t\t\t\tif (response && response.hasOwnProperty(uid) && response[uid].hasOwnProperty(\"success\") && response[uid][\"success\"] === true) {\n\n\t\t\t\t\tconst newType = CometChat.ACTION_TYPE.TYPE_USER;\n\t\t\t\t\tconst newItem = Object.assign({}, chatWith, { blockedByMe: false });\n\t\t\t\t\tcontext.setTypeAndItem(newType, newItem);\n\t\t\t\t} else {\n\t\t\t\t\tCometChatEvent.triggerHandler(enums.ACTIONS[\"ERROR\"], \"SOMETHING_WRONG\");\n\t\t\t\t}\n\t\t\t})\n\t\t\t.catch(error => CometChatEvent.triggerHandler(enums.ACTIONS[\"ERROR\"], \"SOMETHING_WRONG\"));\n\t}\n\n\treturn (\n\t\t<div css={blockedMessageWrapperStyle()} className=\"\">\n\t\t\t<div css={blockedMessageContainerStyle()}>\n\t\t\t\t<div css={blockedTitleStyle()}>{Translator.translate(\"YOU_HAVE_BLOCKED\", props.lang) + \" \" + chatWith.name}</div>\n\t\t\t\t<div css={bockedSubTitleStyle(context)}>{Translator.translate(\"NOT_POSSIBLE_TO_SEND_MESSAGES\", props.lang)}</div>\n\t\t\t</div>\n\t\t\t<button type=\"button\" css={unblockButtonStyle(context)} onClick={unblockUser}>\n\t\t\t\t{Translator.translate(\"UNBLOCK\", props.lang)}\n\t\t\t</button>\n\t\t</div>\n\t);\n};\n\n// Specifies the default values for props:\nCometChatBlockedUser.defaultProps = {\n\tlang: Translator.getDefaultLanguage(),\n};\n\nCometChatBlockedUser.propTypes = {\n\tlang: PropTypes.string,\n};\n\nexport { CometChatBlockedUser };","export const chatScreenStyle = (props) => {\n\n    return {\n        display: \"flex\",\n        height: \"100%\",\n        width: \"100%\",\n        boxSizing: \"border-box\",\n        position: \"relative\",\n        fontFamily: `${props.theme.fontFamily}`,\n        border: `1px solid ${props.theme.borderColor.primary}`,\n        \"*\": {\n            boxSizing: \"border-box\",\n            fontFamily: `${props.theme.fontFamily}`,\n            \"::-webkit-scrollbar\": {\n                width: \"8px\",\n                height: \"4px\",\n            },\n            \"::-webkit-scrollbar-track\": {\n                background: \"#ffffff00\"\n            },\n            \"::-webkit-scrollbar-thumb\": {\n                background: \"#ccc\",\n                \"&:hover\": {\n                    background: \"#aaa\"\n                }\n            }\n        }\n    }\n}\n\nexport const chatScreenSidebarStyle = (state, props) => {\n\n    const sidebarView = (state.sidebarview) ? {\n        left: \"0\",\n        boxShadow: \"rgba(0, 0, 0, .4) -30px 0 30px 30px\"\n    } : {};\n\n    const mq = [...props.theme.breakPoints];\n\n    return {\n        width: \"280px\",\n        borderRight: `1px solid ${props.theme.borderColor.primary}`,\n        height: \"100%\",\n        position: \"relative\",\n        display: \"flex\",\n        flexDirection: \"column\",\n        \"> .chats\": {\n            height: \"calc(100% - 5px)\",\n        },\n        [`@media ${mq[0]}`]: {\n            position: \"absolute!important\",\n            left: \"-100%\",\n            top: \"0\",\n            bottom: \"0\",\n            width: \"100%!important\",\n            zIndex: \"2\",\n            backgroundColor: `${props.theme.backgroundColor.white}`,\n            transition: \"all .3s ease-out\",\n            ...sidebarView\n        }\n    }\n}\n\nexport const chatScreenMainStyle = (state, props) => {\n\n    const mq = [...props.theme.breakPoints];\n\n    return {\n        width: \"calc(100% - 280px)\",\n        height: \"100%\",\n        order: \"2\",\n        display: \"flex\",\n        flexDirection: \"row\",\n        [`@media ${mq[1]}, ${mq[2]}`]: {\n            width: \"100%\",\n        }\n    }\n}","import React from \"react\";\n/** @jsxRuntime classic */\n/** @jsx jsx */\nimport { jsx } from \"@emotion/core\";\nimport PropTypes from \"prop-types\";\nimport { CometChat } from \"@cometchat-pro/chat\";\n\nimport { CometChatConversationList } from \"../\";\nimport { CometChatMessages } from \"../../Messages\";\nimport { CometChatIncomingCall, CometChatIncomingDirectCall } from \"../../Calls\";\n\nimport { CometChatContextProvider } from \"../../../util/CometChatContext\";\nimport * as enums from \"../../../util/enums.js\";\n\nimport Translator from \"../../../resources/localization/translator\";\nimport { theme } from \"../../../resources/theme\";\n\nimport {\n\tchatScreenStyle,\n\tchatScreenSidebarStyle,\n\tchatScreenMainStyle,\n} from \"./style\";\n\nclass CometChatConversationListWithMessages extends React.Component {\n\n\tloggedInUser = null;\n\t\n\tconstructor(props) {\n\t\tsuper(props);\n\n\t\tthis.state = {\n\t\t\ttab: \"conversations\",\n\t\t\tsidebarview: false,\n\t\t}\n\n\t\tthis.contextProviderRef = React.createRef();\n\t\tthis.chatListRef = React.createRef();\n\t}\n\t\n\tcomponentDidMount() {\n\n\t\tif (this.props.chatWithUser.length === 0 && this.props.chatWithGroup.length === 0) {\n\t\t\tthis.toggleSideBar();\n\t\t}\n\t}\n\n\titemClicked = (item, type) => {\n\n\t\tthis.contextProviderRef.setTypeAndItem(type, item);\n\t\tthis.toggleSideBar()\n\t}\n\n\tactionHandler = (action, item, count, ...otherProps) => {\n\t\t\n\t\tswitch(action) {\n\n\t\t\tcase enums.ACTIONS[\"TOGGLE_SIDEBAR\"]:\n\t\t\t\tthis.toggleSideBar();\n\t\t\tbreak;\n\t\t\tcase enums.GROUP_MEMBER_SCOPE_CHANGED:\n\t\t\tcase enums.GROUP_MEMBER_KICKED:\n\t\t\tcase enums.GROUP_MEMBER_BANNED:\n\t\t\t\tthis.groupUpdated(action, item, count, ...otherProps);\n\t\t\tbreak;\n\t\t\tdefault:\n\t\t\tbreak;\n\t\t}\n\t}\n\n\ttoggleSideBar = () => {\n\n\t\tconst sidebarview = this.state.sidebarview;\n\t\tthis.setState({ sidebarview: !sidebarview });\n\t}\n\n/**\n If the logged in user is banned, kicked or scope changed, update the chat window accordingly\n */\n\tgroupUpdated = (key, message, group, options) => {\n\n\t\tswitch (key) {\n\t\t\tcase enums.GROUP_MEMBER_BANNED:\n\t\t\tcase enums.GROUP_MEMBER_KICKED: {\n\n\t\t\t\tif (this.contextProviderRef.type === CometChat.ACTION_TYPE.TYPE_GROUP\n\t\t\t\t&& this.contextProviderRef.item.guid === group.guid\n\t\t\t\t&& options.user.uid === this.loggedInUser.uid) {\n\n\t\t\t\t\tthis.contextProviderRef.setItem({});\n\t\t\t\t\tthis.contextProviderRef.setType(\"\");\n\t\t\t\t}\n\t\t\t\tbreak;\n\t\t\t}\n\t\t\tcase enums.GROUP_MEMBER_SCOPE_CHANGED: {\n\n\t\t\t\tif (this.contextProviderRef.type === CometChat.ACTION_TYPE.TYPE_GROUP\n\t\t\t\t&& this.contextProviderRef.item.guid === group.guid\n\t\t\t\t&& options.user.uid === this.loggedInUser.uid) {\n\n\t\t\t\t\tconst newObject = Object.assign({}, this.contextProviderRef.item, { \"scope\": options[\"scope\"] })\n\t\t\t\t\tthis.contextProviderRef.setItem(newObject);\n\t\t\t\t\tthis.contextProviderRef.setType(CometChat.ACTION_TYPE.TYPE_GROUP);\n\n\t\t\t\t}\n\t\t\t\tbreak;\n\t\t\t}\n\t\t\tdefault:\n\t\t\t\tbreak;\n\t\t}\n\t}\n\n\trender() {\n\n\t\tlet messageScreen = (\n\t\t\t<CometChatMessages\n\t\t\ttheme={this.props.theme}\n\t\t\tlang={this.props.lang}\n\t\t\t_parent=\"conversations\"\n\t\t\tactionGenerated={this.actionHandler} />\n\t\t);\n\n\t\treturn (\n\t\t\t<CometChatContextProvider ref={el => this.contextProviderRef = el} user={this.props.chatWithUser} group={this.props.chatWithGroup} language={this.props.lang}>\n\t\t\t\t<div css={chatScreenStyle(this.props)} className=\"cometchat cometchat--chats\" dir={Translator.getDirection(this.props.lang)}>\n\t\t\t\t\t<div css={chatScreenSidebarStyle(this.state, this.props)} className=\"chats__sidebar\">\n\t\t\t\t\t\t<CometChatConversationList\n\t\t\t\t\t\tref={el => this.chatListRef = el}\n\t\t\t\t\t\t_parent=\"clwm\"\n\t\t\t\t\t\ttheme={this.props.theme}\n\t\t\t\t\t\tlang={this.props.lang}\n\t\t\t\t\t\tonItemClick={this.itemClicked}\n\t\t\t\t\t\tactionGenerated={this.actionHandler} />\n\t\t\t\t\t</div>\n\t\t\t\t\t<div css={chatScreenMainStyle(this.state, this.props)} className=\"chats__main\">{messageScreen}</div>\n\t\t\t\t\t<CometChatIncomingCall theme={this.props.theme} lang={this.props.lang} actionGenerated={this.actionHandler} />\n\t\t\t\t\t<CometChatIncomingDirectCall theme={this.props.theme} lang={this.props.lang} actionGenerated={this.actionHandler} />\n\t\t\t\t</div>\n\t\t\t</CometChatContextProvider>\n\t\t);\n\t}\n}\n\n// Specifies the default values for props:\nCometChatConversationListWithMessages.defaultProps = {\n\tlang: Translator.getDefaultLanguage(),\n\ttheme: theme,\n\tchatWithUser: \"\",\n\tchatWithGroup: \"\",\n};\n\nCometChatConversationListWithMessages.propTypes = {\n\tlang: PropTypes.string,\n\ttheme: PropTypes.object,\n\tchatWithUser: PropTypes.string,\n\tchatWithGroup: PropTypes.string,\n}\n\nexport { CometChatConversationListWithMessages };\n","export const userInfoScreenStyle = (props) =>{\n\n    return {\n        display: \"flex\",\n        flexDirection: \"column!important\",\n        height: \"calc(100% - 50px)\",\n        fontFamily: `${props.theme.fontFamily}`,\n        \"*\": {\n            boxSizing: \"border-box\",\n            fontFamily: `${props.theme.fontFamily}`,\n        }\n    }\n}\n\nexport const headerStyle = (props) => {\n\n    return {\n        padding: \"16px\",\n        position: \"relative\",\n        borderBottom: `1px solid ${props.theme.borderColor.primary}`,\n        height: \"70px\",\n        display: \"flex\",\n        alignItems: \"center\",\n    }\n}\n\nexport const headerTitleStyle = () => {\n\n    return {\n        margin: \"0\",\n        fontSize: \"22px\",\n        fontWeight: \"700\",\n        lineHeight: \"26px\",\n    }\n}\n\nexport const detailStyle = () => {\n\n    return {\n        padding: \"16px\",\n        display: \"flex\",\n        flexDirection: \"row\",\n        justifyContent: \"left\",\n        alignItems: \"center\",\n    }\n}\n\nexport const thumbnailStyle = () => {\n\n    return {\n        display: \"inline-block\",\n        width: \"36px\",\n        height: \"36px\",\n        flexShrink: \"0\",\n    }\n}\n\nexport const userDetailStyle = () => {\n    \n    return {\n        width: \"calc(100% - 45px)\",\n        flexGrow: \"1\",\n        paddingLeft: \"16px\",\n        \"&[dir=rtl]\": {\n            paddingRight: \"16px\",\n            paddingLeft: \"0\",\n        }\n    }\n}\n\nexport const userNameStyle = () => {\n\n    return {\n        margin: \"0\",\n        fontSize: \"15px\",\n        fontWeight: \"600\",\n        display: \"block\",\n        maxWidth: \"100%\",\n        overflow: \"hidden\",\n        textOverflow: \"ellipsis\",\n        whiteSpace: \"nowrap\",\n    }\n}\n\nexport const userStatusStyle = (props) => {\n\n    return {\n        fontSize: \"13px\",\n        margin: \"0\",\n        color: `${props.theme.color.blue}`,\n    }\n}\n\nexport const optionsStyle = () => {\n\n    return {\n        height: \"calc(100% - 145px)\",\n        overflowY: \"auto\",\n        padding: \"0 16px\",\n        display: \"flex\",\n        flexDirection: \"column\",\n        justifyContent: \"left\",\n        alignItems: \"flex-start\",\n    }\n}\n\nexport const optionTitleStyle = (props) => {\n\n    return {\n        margin: \"5px 0\",\n        width: \"100%\",\n        fontSize: \"12px\",\n        color: `${props.theme.color.helpText}`,\n        textTransform: \"uppercase\",\n    }\n}\n\nexport const optionListStyle = () => {\n\n    return {\n        padding: \"10px 0\",\n        width: \"100%\",\n        fontSize: \"15px\"\n    }\n}\n\nexport const optionStyle = (img) => {\n\n    return {\n        width: \"100%\",\n        padding: \"16px 16px 16px 36px\",\n        fontWeight: 600,\n        background: `url(${img}) left center no-repeat`,\n    }\n}\n\nexport const optionNameStyle = () => {\n\n    return {\n        width: \"100%\",\n    }\n}\n","export default __webpack_public_path__ + \"static/media/notify.009f4c07.svg\";","export default __webpack_public_path__ + \"static/media/privacy.35a868f9.svg\";","export default __webpack_public_path__ + \"static/media/chats.a324dd1d.svg\";","export default __webpack_public_path__ + \"static/media/help.c1640c5b.svg\";","export default __webpack_public_path__ + \"static/media/warning.d0632c5b.svg\";","import React from \"react\";\n/** @jsxRuntime classic */\n/** @jsx jsx */\nimport { jsx } from \"@emotion/core\";\nimport PropTypes from \"prop-types\";\nimport { CometChat } from \"@cometchat-pro/chat\";\n\nimport { CometChatAvatar, CometChatToastNotification } from \"../../Shared\";\n\nimport { theme } from \"../../../resources/theme\";\nimport Translator from \"../../../resources/localization/translator\";\n\nimport {\n\tuserInfoScreenStyle,\n\theaderStyle,\n\theaderTitleStyle,\n\tdetailStyle,\n\tthumbnailStyle,\n\tuserDetailStyle,\n\tuserNameStyle,\n\tuserStatusStyle,\n\toptionsStyle,\n\toptionTitleStyle,\n\toptionListStyle,\n\toptionStyle,\n\toptionNameStyle\n} from \"./style\";\n\nimport notificationIcon from \"./resources/notify.svg\";\nimport privacyIcon from \"./resources/privacy.svg\";\nimport chatIcon from \"./resources/chats.svg\";\nimport helpIcon from \"./resources/help.svg\";\nimport reportIcon from \"./resources/warning.svg\";\n\nclass CometChatUserProfile extends React.Component {\n\n\tconstructor(props) {\n\n\t\tsuper(props);\n\n\t\tthis.state = {\n\t\t\tloggedInUser: null\n\t\t}\n\n\t\tthis.toastRef = React.createRef();\n\t}\n\n\tcomponentDidMount() {\n\t\t\n\t\tCometChat.getLoggedinUser().then(user => {\n\t\t\tthis.setState({ loggedInUser: user });\n\t\t}).catch(error => this.toastRef.setError(\"SOMETHING_WRONG\"));\n\t}\n\n\trender() {\n\n\t\tlet userProfile = null;\n\t\tif(this.state.loggedInUser) {\n\n\t\t\tlet avatar = <CometChatAvatar user={this.state.loggedInUser} />;\n\t\t\tuserProfile = (\n\t\t\t\t<React.Fragment>\n\t\t\t\t\t<div css={headerStyle(this.props)} className=\"userinfo__header\">\n\t\t\t\t\t\t<h4 css={headerTitleStyle()} className=\"header__title\">\n\t\t\t\t\t\t\t{Translator.translate(\"MORE\", this.props.lang)}\n\t\t\t\t\t\t</h4>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div css={detailStyle()} className=\"userinfo__detail\">\n\t\t\t\t\t\t<div css={thumbnailStyle()} className=\"detail__thumbnail\">\n\t\t\t\t\t\t\t{avatar}\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div css={userDetailStyle()} className=\"detail__user\" dir={Translator.getDirection(this.props.lang)}>\n\t\t\t\t\t\t\t<div css={userNameStyle()} className=\"user__name\">\n\t\t\t\t\t\t\t\t{this.state.loggedInUser.name}\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<p css={userStatusStyle(this.props)} className=\"user__status\">\n\t\t\t\t\t\t\t\t{Translator.translate(\"ONLINE\", this.props.lang)}\n\t\t\t\t\t\t\t</p>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div css={optionsStyle()} className=\"userinfo__options\">\n\t\t\t\t\t\t<div css={optionTitleStyle(this.props)} className=\"options__title\">\n\t\t\t\t\t\t\t{Translator.translate(\"PREFERENCES\", this.props.lang)}\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div css={optionListStyle()} className=\"options_list\">\n\t\t\t\t\t\t\t<div css={optionStyle(notificationIcon)} className=\"option option-notification\">\n\t\t\t\t\t\t\t\t<div css={optionNameStyle()} className=\"option_name\">\n\t\t\t\t\t\t\t\t\t{Translator.translate(\"NOTIFICATIONS\", this.props.lang)}\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<div css={optionStyle(privacyIcon)} className=\"option option-privacy\">\n\t\t\t\t\t\t\t\t<div css={optionNameStyle()} className=\"option_name\">\n\t\t\t\t\t\t\t\t\t{Translator.translate(\"PRIVACY_AND_SECURITY\", this.props.lang)}\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<div css={optionStyle(chatIcon)} className=\"option option-chats\">\n\t\t\t\t\t\t\t\t<div css={optionNameStyle()} className=\"option_name\">\n\t\t\t\t\t\t\t\t\t{Translator.translate(\"CHATS\", this.props.lang)}\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div css={optionTitleStyle(this.props)} className=\"options__title\">\n\t\t\t\t\t\t\t{Translator.translate(\"OTHER\", this.props.lang)}\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div css={optionListStyle()} className=\"options_list\">\n\t\t\t\t\t\t\t<div css={optionStyle(helpIcon)} className=\"option option-help\">\n\t\t\t\t\t\t\t\t<div css={optionNameStyle()} className=\"option_name\">\n\t\t\t\t\t\t\t\t\t{Translator.translate(\"HELP\", this.props.lang)}\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<div css={optionStyle(reportIcon)} className=\"option option-report\">\n\t\t\t\t\t\t\t\t<div css={optionNameStyle()} className=\"option_name\">\n\t\t\t\t\t\t\t\t\t{Translator.translate(\"REPORT_PROBLEM\", this.props.lang)}\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t</React.Fragment>\n\t\t\t);\n\t\t}\n\n\t\treturn (\n\t\t\t<div css={userInfoScreenStyle(this.props)} className=\"userinfo\">\n\t\t\t\t{userProfile}\n\t\t\t\t<CometChatToastNotification ref={el => (this.toastRef = el)} lang={this.props.lang} />\n\t\t\t</div>\n\t\t);\n\t}\n}\n\n// Specifies the default values for props:\nCometChatUserProfile.defaultProps = {\n\tlang: Translator.getDefaultLanguage(),\n\ttheme: theme\n};\n\nCometChatUserProfile.propTypes = {\n\tlang: PropTypes.string,\n\ttheme: PropTypes.object\n}\n\nexport { CometChatUserProfile };\n","export const footerStyle = () => {\n\n    return {\n        width: \"100%\",\n        zIndex: \"1\",\n        height: \"64px\"\n    }\n}\n\nexport const navbarStyle = () => {\n\n    return {\n\t\t\tdisplay: \"flex\",\n\t\t\tflexDirection: \"row\",\n\t\t\talignItems: \"center\",\n\t\t\tjustifyContent: \"space-around\",\n\t\t\twidth: \"100%\",\n\t\t\theight: \"100%\",\n\t\t};\n}\n\nexport const itemStyle = props => {\n\treturn {\n\t\tpadding: \"8px\",\n\t\tcursor: \"pointer\",\n\t\tdisplay: \"flex\",\n\t\tflexDirection: \"column\",\n\t\tjustifyContent: \"center\",\n\t\talignItems: \"center\",\n\t\tfontSize: \"12px\",\n\t\tcolor: `${props.theme.color.helpText}`,\n\t};\n};\n\nexport const itemLinkStyle = (icon, isActive, context) => {\n\n    let activeStateBg = (isActive) ? { \n        backgroundColor: `${context.theme.primaryColor}`,\n    } : {\n        backgroundColor: `${context.theme.secondaryTextColor}`,\n    };\n\n    return {\n        height: \"24px\",\n        width: \"24px\",\n        display: \"inline-block\",\n        mask: `url(${icon}) no-repeat center center`,\n        ...activeStateBg\n    }\n}\n\nexport const itemLinkTextStyle = (isActive, context) => {\n\n    const colorProp = (isActive) ? {\n        color: `${context.theme.primaryColor}`\n    } : {\n        color: `${context.theme.secondaryTextColor}`,\n    };\n\n    return {\n        ...colorProp,\n        paddingTop: \"2px\"\n    }\n};","export default __webpack_public_path__ + \"static/media/chats.a324dd1d.svg\";","export default __webpack_public_path__ + \"static/media/users.ec43e952.svg\";","export default __webpack_public_path__ + \"static/media/groups.1e57cc7e.svg\";","export default __webpack_public_path__ + \"static/media/more.35ec626e.svg\";","import React from \"react\";\n/** @jsxRuntime classic */\n/** @jsx jsx */\nimport { jsx } from \"@emotion/core\";\nimport PropTypes from \"prop-types\";\n\nimport { CometChatUserList } from \"../../Users\";\nimport { CometChatGroupList } from \"../../Groups\";\nimport { CometChatConversationList } from \"../../Chats\";\nimport { CometChatUserProfile } from \"../../UserProfile\";\n\nimport * as enums from \"../../../util/enums.js\";\nimport {CometChatContext} from \"../../../util/CometChatContext\";\n\nimport Translator from \"../../../resources/localization/translator\";\nimport { theme } from \"../../../resources/theme\";\nimport tabs from \"../../../resources/tabs.json\";\n\nimport {\n  footerStyle,\n  navbarStyle,\n  itemStyle,\n  itemLinkStyle,\n  itemLinkTextStyle\n} from \"./style\";\n\nimport chatGreyIcon from \"./resources/chats.svg\";\nimport contactGreyIcon from \"./resources/users.svg\";\nimport groupGreyIcon from \"./resources/groups.svg\";\nimport moreGreyIcon from \"./resources/more.svg\";\n\nexport class CometChatNavBar extends React.Component {\n\tstatic contextType = CometChatContext;\n\n\ttabListKeys = []; \n\tconstructor(props) {\n\t\tsuper(props);\n\n\t\tthis.state = {\n\t\t\tactiveTab: null,\n\t\t\ttabList: [],\n\t\t};\n\t}\n\n\tcomponentDidMount() {\n\n\t\tlet tabList = this.context.UIKitSettings.tabs;\n\n\t\ttabList.forEach(tabName => {\n\t\t\tfor (const t in tabs) {\n\t\t\t\tif (tabName === tabs[t]) {\n\t\t\t\t\tthis.tabListKeys.push(t);\n\t\t\t\t}\n\t\t\t}\n\t\t});\n\n    \tthis.getFilteredTabs().then(filteredTabs => {\n\t\t\tthis.setState({tabList: filteredTabs, activeTab: filteredTabs[0]});\n\t\t});\n\n\t}\n\n\n\tgetFilteredTabs = () => {\n\n\t\treturn new Promise(resolve => {\n\n\t\t\tconst filteredTabs = [];\n\t\t\tconst promises = [this.enableChats(), this.enableUsers(), this.enableGroups(), this.enableSettings()];\n\t\t\tPromise.allSettled(promises).then(results => {\n\t\t\t\t\n\t\t\t\tthis.tabListKeys.forEach(eachTabKey => {\n\t\t\t\t\tresults.forEach(result => {\n\t\t\t\t\t\tconst tabKey = result.value[0];\n\t\t\t\t\t\tconst tabEnabled = result.value[1];\n\n\t\t\t\t\t\tif (eachTabKey === tabKey && tabEnabled === true) {\n\t\t\t\t\t\tfilteredTabs.push(eachTabKey);\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\t\t\t\t});\n\t\t\t\tresolve(filteredTabs);\n\t\t\t});\n\t\t});\n\t}\n\n\tenableChats = () => {\n\t\treturn new Promise(resolve => {\n\t\t\tthis.context.FeatureRestriction.isRecentChatListEnabled()\n\t\t\t\t.then(response => resolve([\"SIDEBAR_CHATS\", response]))\n\t\t\t\t.catch(error => resolve([\"SIDEBAR_CHATS\", false]));\n\t\t});\n\t};\n\n\tenableUsers = () => {\n\t\treturn new Promise(resolve => {\n\t\t\tthis.context.FeatureRestriction.isUserListEnabled()\n\t\t\t\t.then(response => resolve([\"SIDEBAR_USERS\", response]))\n\t\t\t\t.catch(error => resolve([\"SIDEBAR_USERS\", false]));\n\t\t});\n\t};\n\n\tenableGroups = () => {\n\t\treturn new Promise(resolve => {\n\t\t\tthis.context.FeatureRestriction.isGroupListEnabled()\n\t\t\t\t.then(response => resolve([\"SIDEBAR_GROUPS\", response]))\n\t\t\t\t.catch(error => resolve([\"SIDEBAR_GROUPS\", false]));\n\t\t});\n\t};\n\n\tenableSettings = () => {\n\t\treturn new Promise(resolve => {\n\t\t\tthis.context.FeatureRestriction.isUserSettingsEnabled()\n\t\t\t\t.then(response => resolve([\"SIDEBAR_MOREINFO\", response]))\n\t\t\t\t.catch(error => resolve([\"SIDEBAR_MOREINFO\", false]));\n\t\t});\n\t};\n\n\ttabChanged = tab => {\n\n\t\tthis.setState({activeTab: tab});\n\t};\n\n\tgetActiveTab = () => {\n\t\tswitch (this.state.activeTab) {\n\t\t\tcase \"SIDEBAR_USERS\":\n\t\t\t\treturn <CometChatUserList theme={this.props.theme} lang={this.context.language} _parent=\"unified\" actionGenerated={this.props.actionGenerated} onItemClick={(item, type) => this.props.actionGenerated(enums.ACTIONS[\"ITEM_CLICKED\"], type, item)} />;\n\t\t\tcase \"SIDEBAR_CALLS\":\n\t\t\t\treturn null;\n\t\t\tcase \"SIDEBAR_CHATS\":\n\t\t\t\treturn <CometChatConversationList theme={this.props.theme} lang={this.context.language} _parent=\"unified\" actionGenerated={this.props.actionGenerated} onItemClick={(item, type) => this.props.actionGenerated(enums.ACTIONS[\"ITEM_CLICKED\"], type, item)} />;\n\t\t\tcase \"SIDEBAR_GROUPS\":\n\t\t\t\treturn <CometChatGroupList theme={this.props.theme} lang={this.context.language} _parent=\"unified\" actionGenerated={this.props.actionGenerated} onItemClick={(item, type) => this.props.actionGenerated(enums.ACTIONS[\"ITEM_CLICKED\"], type, item)} />;\n\t\t\tcase \"SIDEBAR_MOREINFO\":\n\t\t\t\treturn <CometChatUserProfile theme={this.props.theme} lang={this.context.language} onItemClick={(item, type) => this.props.actionGenerated(enums.ACTIONS[\"ITEM_CLICKED\"], type, item)} />;\n\t\t\tdefault:\n\t\t\t\treturn null;\n\t\t}\n\t};\n\n\tgetTabList = () => {\n\n\t\tconst chatsTabActive = this.state.activeTab === \"SIDEBAR_CHATS\" ? true : false;\n\t\tconst userTabActive = this.state.activeTab === \"SIDEBAR_USERS\" ? true : false;\n\t\tconst groupsTabActive = this.state.activeTab === \"SIDEBAR_GROUPS\" ? true : false;\n\t\tconst moreTabActive = this.state.activeTab === \"SIDEBAR_MOREINFO\" ? true : false;\n\n\t\tconst tabList = [...this.state.tabList];\n\n\t\treturn tabList.map(tab => {\n\t\t\tswitch (tab) {\n\t\t\t\tcase \"SIDEBAR_CHATS\":\n\t\t\t\t\treturn (\n\t\t\t\t\t\t<div key={tab} css={itemStyle(this.props)} className=\"navbar__item\" onClick={() => this.tabChanged(\"SIDEBAR_CHATS\")}>\n\t\t\t\t\t\t\t<div css={itemLinkStyle(chatGreyIcon, chatsTabActive, this.context)} className=\"item__link item__link__chats\" title={Translator.translate(\"CHATS\", this.context.language)}></div>\n\t\t\t\t\t\t\t<div css={itemLinkTextStyle(chatsTabActive, this.context)} className=\"item__label\">{Translator.translate(\"CHATS\", this.context.language)}</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t);\n\t\t\t\tcase \"SIDEBAR_USERS\":\n\t\t\t\t\treturn (\n\t\t\t\t\t\t<div key={tab} css={itemStyle(this.props)} className=\"navbar__item\" onClick={() => this.tabChanged(\"SIDEBAR_USERS\")}>\n\t\t\t\t\t\t\t<div css={itemLinkStyle(contactGreyIcon, userTabActive, this.context)} className=\"item__link item__link__contacts\" title={Translator.translate(\"USERS\", this.context.language)}></div>\n\t\t\t\t\t\t\t<div css={itemLinkTextStyle(userTabActive, this.context)} className=\"item__label\">{Translator.translate(\"USERS\", this.context.language)}</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t);\n\t\t\t\tcase \"SIDEBAR_GROUPS\":\n\t\t\t\t\treturn (\n\t\t\t\t\t\t<div key={tab} css={itemStyle(this.props)} className=\"navbar__item\" onClick={() => this.tabChanged(\"SIDEBAR_GROUPS\")}>\n\t\t\t\t\t\t\t<div css={itemLinkStyle(groupGreyIcon, groupsTabActive, this.context)} className=\"item__link item__link__groups\" title={Translator.translate(\"GROUPS\", this.context.language)}></div>\n\t\t\t\t\t\t\t<div css={itemLinkTextStyle(groupsTabActive, this.context)} className=\"item__label\">{Translator.translate(\"GROUPS\", this.context.language)}</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t);\n\t\t\t\tcase \"SIDEBAR_MOREINFO\":\n\t\t\t\t\treturn (\n\t\t\t\t\t\t<div key={tab} css={itemStyle(this.props)} className=\"navbar__item\" onClick={() => this.tabChanged(\"SIDEBAR_MOREINFO\")}>\n\t\t\t\t\t\t\t<div css={itemLinkStyle(moreGreyIcon, moreTabActive, this.context)} className=\"item__link item__link__info\" title={Translator.translate(\"MORE\", this.context.language)}></div>\n\t\t\t\t\t\t\t<div css={itemLinkTextStyle(moreTabActive, this.context)} className=\"item__label\">{Translator.translate(\"MORE\", this.context.language)}</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t);\n\t\t\t\tdefault:\n\t\t\t\t\treturn null;\n\t\t\t}\n\t\t});\n\t};\n\n\trender() {\n\t\treturn (\n\t\t\t<React.Fragment>\n\t\t\t\t{this.getActiveTab()}\n\t\t\t\t<div css={footerStyle()} className=\"sidebar__footer\">\n\t\t\t\t\t<div css={navbarStyle()} className=\"footer__navbar\">\n\t\t\t\t\t\t{this.getTabList()}\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</React.Fragment>\n\t\t);\n\t}\n}\n\n// Specifies the default values for props:\nCometChatNavBar.defaultProps = {\n\ttheme: theme\n};\n\nCometChatNavBar.propTypes = {\n\ttheme: PropTypes.object\n}","export const unifiedStyle = (props) => {\n\n    return {\n        display: \"flex\",\n        height: \"100%\",\n        width: \"100%\",\n        boxSizing: \"border-box\",\n        fontFamily: `${props.theme.fontFamily}`,\n        border: `1px solid ${props.theme.borderColor.primary}`,\n        position: \"relative\",\n        \"*\": {\n            boxSizing: \"border-box\",\n            fontFamily: `${props.theme.fontFamily}`,\n            \"::-webkit-scrollbar\": {\n                width: \"8px\",\n                height: \"4px\",\n            },\n            \"::-webkit-scrollbar-track\": {\n                background: \"#ffffff00\"\n            },\n            \"::-webkit-scrollbar-thumb\": {\n                background: \"#ccc\",\n                \"&:hover\": {\n                    background: \"#aaa\"\n                }\n            }\n        }\n    }\n}\n\nexport const unifiedSidebarStyle = (state, props) => {\n\n    const sidebarView = (state.sidebarview) ? {\n        left: \"0\",\n        boxShadow : \"rgba(0, 0, 0, .4) -30px 0 30px 30px\"\n    } : {};\n\n    const mq = [...props.theme.breakPoints];\n\n    return {\n\n        width: \"280px\",\n        borderRight: `1px solid ${props.theme.borderColor.primary}`,\n        height: \"100%\",\n        position: \"relative\",\n        display: \"flex\",\n        flexDirection: \"column\",\n        \"> .contacts, .chats, .groups, .userinfo\": {\n            height: \"calc(100% - 64px)\",\n        },\n        [`@media ${mq[0]}`]: {\n            position: \"absolute!important\",\n            left: \"-100%\",\n            top: \"0\",\n            bottom: \"0\",\n            width: \"100%!important\",\n            zIndex: \"2\",\n            backgroundColor: `${props.theme.backgroundColor.white}`,\n            transition: \"all .3s ease-out\",\n            ...sidebarView\n        }\n    }\n}\n\nexport const unifiedMainStyle = (state, props) => {\n\n    const mq = [...props.theme.breakPoints];\n\n    return {\n        width: \"calc(100% - 280px)\",\n        height: \"100%\",\n        order: \"2\",\n        display: \"flex\",\n        flexDirection: \"row\",\n        [`@media ${mq[1]}, ${mq[2]}`]: {\n            width: \"100%\",\n        }\n    }\n}\n","import React from \"react\";\n/** @jsxRuntime classic */\n/** @jsx jsx */\nimport { jsx } from \"@emotion/core\";\nimport PropTypes from \"prop-types\";\nimport { CometChat } from \"@cometchat-pro/chat\";\n\nimport { CometChatNavBar } from \"./CometChatNavBar\";\nimport { CometChatMessages } from \"../Messages\";\nimport { CometChatIncomingCall, CometChatIncomingDirectCall } from \"../Calls\";\n\nimport { CometChatContextProvider } from \"../../util/CometChatContext\";\nimport * as enums from \"../../util/enums.js\";\nimport { theme } from \"../../resources/theme\";\nimport Translator from \"../../resources/localization/translator\";\n\nimport {\n\tunifiedStyle,\n\tunifiedSidebarStyle,\n\tunifiedMainStyle,\n} from \"./style\";\n\nclass CometChatUI extends React.Component {\n\n\tloggedInUser = null;\n\n\tconstructor(props) {\n\t\t\n\t\tsuper(props);\n\t\tthis.state = {\n\t\t\tsidebarview: false,\n\t\t}\n\n\t\tthis.navBarRef = React.createRef();\n\t\tthis.contextProviderRef = React.createRef();\n\t}\n\t\n\tcomponentDidMount() {\n\n\t\tif (this.props.chatWithUser.length === 0 && this.props.chatWithGroup.length === 0) {\n\t\t\tthis.toggleSideBar();\n\t\t}\n\t}\n\n\tnavBarAction = (action, type, item) => {\n\t\t\n\t\tswitch(action) {\n\t\t\tcase enums.ACTIONS[\"ITEM_CLICKED\"]:\n\t\t\t\tthis.itemClicked(item, type);\n\t\t\tbreak;\n\t\t\tcase enums.ACTIONS[\"TOGGLE_SIDEBAR\"]:\n\t\t\t\tthis.toggleSideBar();\n\t\t\tbreak;\n\t\t\tdefault:\n\t\t\tbreak;\n\t\t}\n\t}\n\t\n\titemClicked = (item, type) => {\n\t\t\n\t\tthis.contextProviderRef.setTypeAndItem(type, item);    \n\t\tthis.toggleSideBar()\n\t}\n\n\tactionHandler = (action, item, count, ...otherProps) => {\n\t\t\n\t\tswitch(action) {\n\t\t\tcase enums.ACTIONS[\"TOGGLE_SIDEBAR\"]:\n\t\t\t\tthis.toggleSideBar();\n\t\t\tbreak;\n\t\t\tcase enums.GROUP_MEMBER_SCOPE_CHANGED:\n\t\t\tcase enums.GROUP_MEMBER_KICKED:\n\t\t\tcase enums.GROUP_MEMBER_BANNED:\n\t\t\t\tthis.groupUpdated(action, item, count, ...otherProps);\n\t\t\tbreak;\n\t\t\tdefault:\n\t\t\tbreak;\n\t\t}\n\t}\n\n\ttoggleSideBar = () => {\n\n\t\tconst sidebarview = this.state.sidebarview;\n\t\tthis.setState({ sidebarview: !sidebarview });\n\t}\n\n\t/**\n\t If the logged in user is banned, kicked or scope changed, update the chat window accordingly\n\t */\n\tgroupUpdated = (key, message, group, options) => {\n\t\t\n\t\tswitch(key) {\n\t\t\tcase enums.GROUP_MEMBER_BANNED:\n\t\t\tcase enums.GROUP_MEMBER_KICKED: {\n\t\t\t\t\n\t\t\t\tif (this.contextProviderRef.state.type === CometChat.ACTION_TYPE.TYPE_GROUP \n\t\t\t\t&& this.contextProviderRef.state.item.guid === group.guid\n\t\t\t\t&& options.user.uid === this.loggedInUser.uid) {\n\n\t\t\t\t\tthis.contextProviderRef.setItem({});\n\t\t\t\t\tthis.contextProviderRef.setType(\"\");\n\t\t\t\t}\n\t\t\t\tbreak;\n\t\t\t}\n\t\t\tcase enums.GROUP_MEMBER_SCOPE_CHANGED: {\n\t\t\t\t\n\t\t\t\tif (this.contextProviderRef.state.type === CometChat.ACTION_TYPE.TYPE_GROUP\n\t\t\t\t&& this.contextProviderRef.state.item.guid === group.guid\n\t\t\t\t&& options.user.uid === this.loggedInUser.uid) {\n\n\t\t\t\t\tconst newObject = Object.assign({}, this.contextProviderRef.state.item, { \"scope\": options[\"scope\"] })\n\t\t\t\t\tthis.contextProviderRef.setItem(newObject);\n\t\t\t\t\tthis.contextProviderRef.setType(CometChat.ACTION_TYPE.TYPE_GROUP);\n\t\t\t\t}\n\t\t\t\tbreak;\n\t\t\t}\n\t\t\tdefault:\n\t\t\tbreak;\n\t\t}\n\t}\n\n\trender() {\n\t\t\n\t\tlet messageScreen = (\n\t\t\t\t<CometChatMessages \n\t\t\t\ttheme={this.props.theme}\n\t\t\t\tlang={this.props.lang}\n\t\t\t\t_parent=\"unified\"\n\t\t\t\tactionGenerated={this.actionHandler} />\n\t\t\t);\n\n\t\treturn (\n\t\t\t<CometChatContextProvider ref={el => this.contextProviderRef = el} user={this.props.chatWithUser} group={this.props.chatWithGroup} language={this.props.lang}>\n\t\t\t\t<div css={unifiedStyle(this.props)} className=\"cometchat cometchat--unified\" dir={Translator.getDirection(this.props.lang)}>\n\t\t\t\t\t<div css={unifiedSidebarStyle(this.state, this.props)} className=\"unified__sidebar\">\n\t\t\t\t\t\t<CometChatNavBar\n\t\t\t\t\t\t\tref={el => this.navBarRef = el}\n\t\t\t\t\t\t\ttheme={this.props.theme}\n\t\t\t\t\t\t\tactionGenerated={this.navBarAction} />\n\t\t\t\t\t</div>\n\t\t\t\t\t<div css={unifiedMainStyle(this.state, this.props)} className=\"unified__main\">\n\t\t\t\t\t\t{messageScreen}\n\t\t\t\t\t</div>\n\t\t\t\t\t<CometChatIncomingCall theme={this.props.theme} lang={this.props.lang} actionGenerated={this.actionHandler} />\n\t\t\t\t\t<CometChatIncomingDirectCall theme={this.props.theme} lang={this.props.lang} actionGenerated={this.actionHandler} />\n\t\t\t\t</div>\n\t\t\t</CometChatContextProvider>\n\t\t);\n\t}\n}\n\n// Specifies the default values for props:\nCometChatUI.defaultProps = {\n\tlang: Translator.getDefaultLanguage(),\n\ttheme: theme,\n\tchatWithUser: \"\",\n\tchatWithGroup: \"\",\n};\n\nCometChatUI.propTypes = {\n\tlang: PropTypes.string,\n\ttheme: PropTypes.object,\n\tchatWithUser: PropTypes.string,\n\tchatWithGroup: PropTypes.string,\n}\n\nexport { CometChatUI };\n","export const COMETCHAT_CONSTANTS = {\r\n\tAPP_ID: \"19781119a1d5edd7\",\r\n\tREGION: \"eu\",\r\n\tAUTH_KEY: \"b09b893736fdc0b1ae5739f28d802a7493d1b78f\",\r\n};\r\n","export const AUTH_START = 'AUTH_START';\r\nexport const AUTH_SUCCESS = 'AUTH_SUCCESS';\r\nexport const AUTH_FAIL = 'AUTH_FAIL';\r\nexport const AUTH_LOGOUT = 'AUTH_LOGOUT';\r\n\r\nexport const SET_AUTH_REDIRECT_PATH = 'SET_AUTH_REDIRECT_PATH';","import * as actionTypes from './actionTypes';\r\n\r\nimport { CometChat } from '@cometchat-pro/chat';\r\n\r\nexport const authStart = () => {\r\n    return {\r\n        type: actionTypes.AUTH_START\r\n    };\r\n};\r\n\r\nexport const authSuccess = (user) => {\r\n    return {\r\n        type: actionTypes.AUTH_SUCCESS,\r\n        user: user,\r\n        isLoggedIn: true\r\n    };\r\n};\r\n\r\nexport const authFail = (error) => {\r\n    return {\r\n        type: actionTypes.AUTH_FAIL,\r\n        error: error\r\n    };\r\n};\r\n\r\nexport const logoutSuccess = () => {\r\n    return {\r\n        type: actionTypes.AUTH_LOGOUT,\r\n        authRedirectPath: \"/login\"\r\n    };\r\n}\r\n\r\nexport const logout = () => {\r\n    return dispatch => {\r\n        CometChat.logout().then(dispatch(logoutSuccess()));\r\n    }\r\n    \r\n};\r\n\r\nexport const auth = (uid, authKey) => {\r\n\r\n    return dispatch => {\r\n\r\n        dispatch(authStart());\r\n\r\n        CometChat.login(uid, authKey).then((user) => {\r\n\r\n            if(user) {\r\n                console.log(user.name);\r\n                dispatch(authSuccess(user));\r\n            } else {\r\n                dispatch(authFail(user));\r\n            }\r\n            \r\n        }).catch(error => {\r\n            console.log('CometChatLogin Failed', error);\r\n            dispatch(authFail(error));\r\n        });\r\n    };\r\n};\r\n\r\nexport const authCheckState = () => {\r\n    return dispatch => {\r\n        CometChat.getLoggedinUser().then(user => {\r\n            \r\n            if(user) {\r\n                dispatch(authSuccess(user));\r\n            } else {\r\n                dispatch(authFail(user));\r\n            }\r\n      \r\n        }).catch(error => {\r\n            dispatch(authFail(error));\r\n        });\r\n    };\r\n};\r\n\r\nexport const setAuthRedirectPath = (path) => {\r\n    return {\r\n        type: actionTypes.SET_AUTH_REDIRECT_PATH,\r\n        path: path\r\n    };\r\n};","import React from 'react';\r\n/** @jsxRuntime classic */\r\n/** @jsx jsx */\r\nimport { jsx } from '@emotion/core';\r\nimport { Global } from \"@emotion/core\";\r\n\r\nimport { Redirect } from 'react-router-dom';\r\nimport { connect } from 'react-redux';\r\n\r\nimport { CometChatAvatar } from '../../cometchat-pro-react-ui-kit/CometChatWorkspace/src';\r\nimport { COMETCHAT_CONSTANTS } from '../../consts';\r\n\r\nimport {\r\n  wrapperStyle,\r\n  errorStyle,\r\n  titleStyle,\r\n  subtitleStyle,\r\n  userContainerStyle,\r\n  userWrapperStyle,\r\n  thumbnailWrapperStyle,\r\n  uidWrapperStyle,\r\n  inputWrapperStyle,\r\n  loginBtn,\r\n} from \"./style\";\r\n\r\nimport { loaderStyle } from \"./loader\";\r\n\r\nimport * as actions from '../../store/action';\r\n\r\nclass KitchenSinkApp extends React.PureComponent {\r\n\r\n  constructor(props) {\r\n    super(props);\r\n\r\n    this.myRef = React.createRef();\r\n  }\r\n\r\n  login = (uid) => {\r\n    if(!uid) {\r\n      uid = this.myRef.current.value;\r\n    }\r\n\r\n    this.uid = uid;\r\n    this.props.onLogin(this.uid, COMETCHAT_CONSTANTS.AUTH_KEY);\r\n  }\r\n  \r\n  render() {\r\n\r\n    let loader = null;\r\n    if (this.props.loading) {\r\n      loader = (<div className=\"loading\">Loading...</div>);\r\n    }\r\n\r\n    let errorMessage = null;\r\n    if (this.props.error) {\r\n      console.log(this.name);\r\n      errorMessage = (<p css={errorStyle()}>{\"UID không hợp lệ\"||this.props.error.message}</p>);\r\n    }\r\n\r\n    let authRedirect = null;\r\n    if (this.props.isLoggedIn) {\r\n      authRedirect = <Redirect to=\"/users\" />\r\n    }\r\n\r\n    return (\r\n      <React.Fragment>\r\n      <Global styles={loaderStyle} />\r\n      <div css={wrapperStyle()}>\r\n          {authRedirect}\r\n          {loader}\r\n          {errorMessage}\r\n          <p css={titleStyle()}>Medical Advice</p>\r\n          <p css={subtitleStyle()}>Đăng nhập tài khoản người dùng (thử lựa chọn tài khoản khác nếu không đăng nhập thành công)</p>\r\n          <div css={userContainerStyle()}>\r\n            <div css={userWrapperStyle()} onClick={()=>this.login('benhnhan1')}>\r\n              <div css={thumbnailWrapperStyle()}>\r\n                <CometChatAvatar image='https://data-us.cometchat.io/assets/images/avatars/ironman.png' />\r\n              </div>\r\n              <p>Người dùng 1</p>\r\n            </div>\r\n            <div css={userWrapperStyle()} onClick={()=>this.login('benhnhan2')}>\r\n              <div css={thumbnailWrapperStyle()}>\r\n                <CometChatAvatar image='https://data-us.cometchat.io/assets/images/avatars/captainamerica.png' />\r\n              </div>\r\n              <p>Người dùng 2</p>\r\n            </div>\r\n            <div css={userWrapperStyle()} onClick={()=>this.login('benhnhan3')}>\r\n              <div css={thumbnailWrapperStyle()}>\r\n                <CometChatAvatar image='https://data-us.cometchat.io/assets/images/avatars/spiderman.png' />\r\n              </div>\r\n              <p>Người dùng 3</p>\r\n            </div>\r\n            <div css={userWrapperStyle()} onClick={()=>this.login('benhnhan4')}>\r\n              <div css={thumbnailWrapperStyle()}>\r\n                <CometChatAvatar image='https://data-us.cometchat.io/assets/images/avatars/wolverine.png' />\r\n              </div>\r\n              <p>Người dùng 4</p>\r\n            </div>\r\n          </div><br/>\r\n          <div css={uidWrapperStyle()}>\r\n            <div>\r\n              <p css={subtitleStyle()}>Đăng nhập dành cho bác sĩ</p>\r\n            </div>\r\n            <div css={inputWrapperStyle()}>\r\n              <input ref={this.myRef} type=\"text\" placeholder=\"Nhập UID\" />\r\n            </div>\r\n            <div css={loginBtn()}><button type=\"button\" onClick={() => this.login()}>Đăng nhập</button></div>\r\n          </div>\r\n        </div>\r\n      </React.Fragment>\r\n    );\r\n  }\r\n}\r\n\r\nconst mapStateToProps = state => {\r\n  return {\r\n    loading: state.loading,\r\n    error: state.error,\r\n    isLoggedIn: state.isLoggedIn\r\n  };\r\n};\r\n\r\nconst mapDispatchToProps = dispatch => {\r\n  return {\r\n    onLogin: ( uid, authKey ) => dispatch( actions.auth( uid, authKey ) )\r\n  };\r\n};\r\n\r\nexport default connect( mapStateToProps, mapDispatchToProps )( KitchenSinkApp );\r\n","export const wrapperStyle = () => {\r\n\r\n    return {\r\n        display: \"flex\",\r\n        flexDirection: \"column\",\r\n        alignItems: \"center\",\r\n        justifyContent: \"center\",\r\n    }\r\n}\r\n\r\nexport const errorStyle = () => {\r\n\r\n    return {\r\n        fontSize: \"12px\",\r\n        color: \"red\",\r\n        width: \"100%\",\r\n        textAlign: \"center\",\r\n    }\r\n}\r\n\r\nexport const titleStyle = () => {\r\n\r\n    return {\r\n        fontSize: \"42px\",\r\n        color: \"#2da7ff\",\r\n        width: \"100%\",\r\n        textAlign: \"center\",\r\n    }\r\n}\r\n\r\nexport const subtitleStyle = () => {\r\n\r\n    return {\r\n        width: \"100%\",\r\n        fontSize: \"14px\",\r\n        textAlign: \"center\",\r\n        margin: \"0px\",\r\n    }\r\n}\r\n\r\nexport const userContainerStyle = () => {\r\n\r\n    const mq = [`@media (min-width : 320px) and (max-width: 767px)`];\r\n\r\n    return {\r\n        display: \"flex\",\r\n        width: \"100%\",\r\n        alignItems: \"center\",\r\n        justifyContent: \"center\",\r\n        [mq[0]]: {\r\n            flexDirection: \"column\",\r\n            alignItems: \"center\",\r\n        }\r\n    }\r\n}\r\n\r\nexport const userWrapperStyle = () => {\r\n\r\n    return {\r\n        display: \"flex\",\r\n        width: \"150px\",\r\n        margin: \"10px\",\r\n        justifyContent: \"space-around\",\r\n        alignItems: \"center\",\r\n        background: \"#333\",\r\n        borderRadius: \"10px\",\r\n        color: \"white\",\r\n        padding: \"6px 10px\",\r\n        cursor: \"pointer\",\r\n        \"p\": {\r\n            margin: \"0\"\r\n        }\r\n    }\r\n}\r\n\r\nexport const thumbnailWrapperStyle = () => {\r\n\r\n    return {\r\n        width: \"36px\",\r\n        height: \"36px\",\r\n    }\r\n}\r\n\r\nexport const uidWrapperStyle = () => {\r\n\r\n    return {\r\n        display: \"flex\",\r\n        flexDirection: \"column\",\r\n        alignItems: \"center\",\r\n        justifyContent: \"center\",\r\n        \"div\": {\r\n            width: \"100%\"\r\n        }\r\n    }\r\n}\r\n\r\nexport const inputWrapperStyle = () => {\r\n\r\n    return {\r\n        padding: \"10px 20px\",\r\n        display: \"flex\",\r\n        alignItems: \"center\",\r\n        justifyContent: \"center\",\r\n        \"input\": {\r\n            outline: \"none\",\r\n            margin: \"10px 30px\",\r\n            padding: \"8px 10px\",\r\n            borderRadius: \"5px\",\r\n            border: \"1px solid #bbb\"\r\n        }\r\n    }\r\n}\r\n\r\nexport const loginBtn = () => {\r\n\r\n    return {\r\n        display: \"flex\",\r\n        alignItems: \"center\",\r\n        justifyContent: \"center\",\r\n        \"button\": {\r\n            outline: \"none\",\r\n            backgroundColor: \"#333\",\r\n            borderRadius: \"10px\",\r\n            color: \"white\",\r\n            padding: \"10px 25px\",\r\n            \"&:hover\": {\r\n                cursor: \"pointer\",\r\n            }\r\n        },\r\n\r\n    }\r\n}","export const loaderStyle = `\r\n.loading {\r\n  position: fixed;\r\n  z-index: 999;\r\n  height: 2em;\r\n  width: 2em;\r\n  overflow: show;\r\n  margin: auto;\r\n  top: 0;\r\n  left: 0;\r\n  bottom: 0;\r\n  right: 0;\r\n}\r\n\r\n/* Transparent Overlay */\r\n.loading:before {\r\n  content: '';\r\n  display: block;\r\n  position: fixed;\r\n  top: 0;\r\n  left: 0;\r\n  width: 100%;\r\n  height: 100%;\r\n  background: radial-gradient(rgba(20, 20, 20,.8), rgba(0, 0, 0, .8));\r\n  background: -webkit-radial-gradient(rgba(20, 20, 20,.8), rgba(0, 0, 0,.8));\r\n}\r\n\r\n/* :not(:required) hides these rules from IE9 and below */\r\n.loading:not(:required) {\r\n  /* hide \"loading...\" text */\r\n  font: 0/0 a;\r\n  color: transparent;\r\n  text-shadow: none;\r\n  background-color: transparent;\r\n  border: 0;\r\n}\r\n\r\n.loading:not(:required):after {\r\n  content: '';\r\n  display: block;\r\n  font-size: 10px;\r\n  width: 1em;\r\n  height: 1em;\r\n  margin-top: -0.5em;\r\n  -webkit-animation: spinner 150ms infinite linear;\r\n  -moz-animation: spinner 150ms infinite linear;\r\n  -ms-animation: spinner 150ms infinite linear;\r\n  -o-animation: spinner 150ms infinite linear;\r\n  animation: spinner 150ms infinite linear;\r\n  border-radius: 0.5em;\r\n  -webkit-box-shadow: rgba(255,255,255, 0.75) 1.5em 0 0 0, rgba(255,255,255, 0.75) 1.1em 1.1em 0 0, rgba(255,255,255, 0.75) 0 1.5em 0 0, rgba(255,255,255, 0.75) -1.1em 1.1em 0 0, rgba(255,255,255, 0.75) -1.5em 0 0 0, rgba(255,255,255, 0.75) -1.1em -1.1em 0 0, rgba(255,255,255, 0.75) 0 -1.5em 0 0, rgba(255,255,255, 0.75) 1.1em -1.1em 0 0;\r\n  box-shadow: rgba(255,255,255, 0.75) 1.5em 0 0 0, rgba(255,255,255, 0.75) 1.1em 1.1em 0 0, rgba(255,255,255, 0.75) 0 1.5em 0 0, rgba(255,255,255, 0.75) -1.1em 1.1em 0 0, rgba(255,255,255, 0.75) -1.5em 0 0 0, rgba(255,255,255, 0.75) -1.1em -1.1em 0 0, rgba(255,255,255, 0.75) 0 -1.5em 0 0, rgba(255,255,255, 0.75) 1.1em -1.1em 0 0;\r\n}\r\n\r\n@-webkit-keyframes spinner {\r\n  0% {\r\n    -webkit-transform: rotate(0deg);\r\n    transform: rotate(0deg);\r\n  }\r\n  100% {\r\n    -webkit-transform: rotate(360deg);\r\n    transform: rotate(360deg);\r\n  }\r\n}\r\n@keyframes spinner {\r\n  0% {\r\n    -webkit-transform: rotate(0deg);\r\n    transform: rotate(0deg);\r\n  }\r\n  100% {\r\n    -webkit-transform: rotate(360deg);\r\n    transform: rotate(360deg);\r\n  }\r\n}\r\n`;","export const wrapperStyle = () => {\r\n\r\n    return {\r\n        display: \"flex\",\r\n        flexDirection: \"column\",\r\n        alignItems: \"center\",\r\n        justifyContent: \"center\",\r\n        width: \"100%\",\r\n    }\r\n}\r\n\r\nexport const titleStyle = () => {\r\n\r\n    const mq = [`@media (min-width : 320px) and (max-width: 767px)`];\r\n\r\n    return {\r\n        textAlign: \"center\",\r\n        color: \"rgb(67, 171, 255)\",\r\n        fontSize: \"24px\",\r\n        width: \"100%\",\r\n        padding: \"0 1em\",\r\n        margin: \"1em 0 0 0\",\r\n        [mq[0]]: {\r\n            fontSize: \"20px\",\r\n        }\r\n    }\r\n}\r\n\r\nexport const subTitleStyle = () => {\r\n\r\n    const mq = [`@media (min-width : 320px) and (max-width: 767px)`];\r\n\r\n    return {\r\n        textAlign: \"center\",\r\n        color: \"#AAA\",\r\n        fontSize: \"14px\",\r\n        width: \"100%\",\r\n        padding: \"0 1em\",\r\n        margin: \"1em 0 2em 0\",\r\n        [mq[0]]: {\r\n            fontSize: \"16px\",\r\n        }\r\n    }\r\n}\r\n\r\nexport const helpTextStyle = () => {\r\n\r\n    return {\r\n        fontSize: \"14px\",\r\n        textAlign: \"center\",\r\n        width: \"100%\",\r\n        color: \"#333\",\r\n        padding: \"0 1em\",\r\n    }\r\n}\r\n\r\nexport const componentStyle = () => {\r\n\r\n    const mq = [`@media (min-width : 320px) and (max-width: 767px)`, `@media (min-width : 768px) and (max-width: 1024px)`];\r\n\r\n    return {\r\n        display: \"flex\",\r\n        alignItems: \"center\",\r\n        justifyContent: \"center\",\r\n        padding: \"16px 120px\",\r\n        width: \"100%\",\r\n        [mq[0]]: {\r\n            flexDirection: \"column\",\r\n            padding: \"50px 100px\",\r\n        },\r\n        [mq[1]]: {\r\n            flexDirection: \"column\",\r\n            padding: \"50px 50px\",\r\n        }\r\n    }\r\n}\r\n\r\nexport const UIComponentStyle = () => {\r\n\r\n    const mq = [`@media (min-width : 320px) and (max-width: 767px)`, `@media (min-width : 768px) and (max-width: 1024px)`];\r\n\r\n    return {\r\n        display: \"flex\",\r\n        alignItems: \"center\",\r\n        justifyContent: \"center\",\r\n        padding: \"16px 35.5%\",\r\n        width: \"100%\",\r\n        [mq[0]]: {\r\n            flexDirection: \"column\",\r\n            padding: \"50px 150px\",\r\n        },\r\n        [mq[1]]: {\r\n            flexDirection: \"column\",\r\n            padding: \"50px 50px\",\r\n        }\r\n    }\r\n}\r\n\r\nexport const boxStyle = () => {\r\n\r\n    const mq = [`@media (min-width : 768px) and (max-width: 1024px)`];\r\n\r\n    return {\r\n        margin: \"10px 20px\",\r\n        padding: \"20px\",\r\n        boxShadow: \"0 0 10px #bbb\",\r\n        borderRadius: \"10px\",\r\n        display: \"flex\",\r\n        flexDirection: \"column\",\r\n        alignItems: \"center\",\r\n        justifyContent: \"center\",\r\n        flex: \"1\",\r\n        minWidth: \"300px\",\r\n        [mq[0]]: {\r\n            width: \"400px\",\r\n        }\r\n    }\r\n}\r\n\r\nexport const titleWrapperStyle = () => {\r\n\r\n    return {\r\n        display: \"flex\",\r\n        width: \"100%\",\r\n        alignItems: \"center\",\r\n        justifyContent: \"center\",\r\n    }\r\n}\r\n\r\nexport const thumbnailWrapperStyle = () => {\r\n\r\n    return {\r\n        width: \"36px\",\r\n        height: \"36px\",\r\n    }\r\n}\r\n\r\nexport const componentTitleStyle = () => {\r\n\r\n    return {\r\n        width: \"calc(100% - 40px)\",\r\n        padding: \"10px\",\r\n        margin: \"0\",\r\n    }\r\n}\r\n\r\nexport const descWrapperStyle = () => {\r\n\r\n    return {\r\n        display: \"flex\",\r\n        width: \"100%\",\r\n        alignItems: \"center\",\r\n        justifyContent: \"center\",\r\n        \"p\": {\r\n            textOverflow: \"ellipsis\",\r\n            whiteSpace: \"pre-wrap\",\r\n            wordBreak: \"break-word\"\r\n        },\r\n        \"code\": {\r\n            padding: \"2px\",\r\n            color: \"crimson\",\r\n            borderRadius: \"4px\",\r\n            backgroundColor: \"#f1f1f1\",\r\n        }\r\n    }\r\n}\r\n\r\nexport const linkWrapperStyle = () => {\r\n\r\n    const mq = [`@media (min-width : 320px) and (max-width: 767px)`];\r\n\r\n    return {\r\n        borderTop: \"0.3px solid #e8e8e8\",\r\n        padding: \"10px\",\r\n        display: \"flex\",\r\n        margin: 0,\r\n        alignItems: \"center\",\r\n        justifyContent: \"space-around\",\r\n        width: \"100%\",\r\n        \"li\": {\r\n            listStyleType: \"none\",\r\n        },\r\n        [mq[0]]: {\r\n            flexDirection: \"column\",\r\n            \"li\": {\r\n                padding: \"10px\",\r\n            },\r\n        }\r\n    }\r\n}\r\n\r\nexport const linkStyle = () => {\r\n\r\n    return {\r\n        color: \"rgb(67, 171, 255)!important\",\r\n        fontWeight: 600,\r\n        fontSize: \"14px\",\r\n        \"&:hover\": {\r\n            color: \"darken(rgb(67, 171, 255), 20%)\",\r\n            fontWeight: \"600\",\r\n            fontSize: \"14px\",\r\n        }\r\n    }\r\n}\r\n\r\nexport const logoutBtn = () => {\r\n\r\n    return {\r\n        margin: \"16px ​auto 24px auto\",\r\n        \"button\": {\r\n            outline: \"none\",\r\n            backgroundColor: \"#333\",\r\n            borderRadius: \"10px\",\r\n            color: \"white\",\r\n            padding: \"8px 24px\",\r\n            \"&:hover\": {\r\n                cursor: \"pointer\",\r\n            }\r\n        },\r\n        \r\n    }\r\n}","export default __webpack_public_path__ + \"static/media/CometChatUI.84b12b0b.png\";","export default __webpack_public_path__ + \"static/media/components.198de238.png\";","export default __webpack_public_path__ + \"static/media/wall.0570c102.png\";","import React from \"react\";\r\n/** @jsxRuntime classic */\r\n/** @jsx jsx */\r\nimport { jsx } from \"@emotion/core\";\r\n\r\nimport { Link, Redirect } from \"react-router-dom\";\r\nimport { connect } from \"react-redux\";\r\n\r\nimport { wrapperStyle, titleStyle, subTitleStyle, componentStyle, boxStyle, titleWrapperStyle, thumbnailWrapperStyle, componentTitleStyle, UIComponentStyle, descWrapperStyle, linkWrapperStyle, linkStyle, logoutBtn } from \"./style\";\r\n\r\nimport * as actions from \"../../store/action\";\r\n\r\nimport CometChatUI from \"./resources/CometChatUI.png\";\r\nimport Component from \"./resources/components.png\";\r\nimport listComponent from \"./resources/wall.png\";\r\n\r\nclass HomePage extends React.Component {\r\n\trender() {\r\n\t\tlet authRedirect = null;\r\n\t\tif (!this.props.isLoggedIn) {\r\n\t\t\tauthRedirect = <Redirect to=\"/login\" />;\r\n\t\t}\r\n\r\n\t\treturn (\r\n\t\t\t<div css={wrapperStyle()}>\r\n\t\t\t\t{authRedirect}\r\n\t\t\t\t<p css={titleStyle()}>The UI Kit has different ways to make fully customizable UI required to build a chat application.</p>\r\n\t\t\t\t<p css={subTitleStyle()}>The UI Kit has been developed to help developers of different levels of experience to build a chat application in a few minutes to a couple of hours.</p>\r\n\r\n\t\t\t\t<div css={UIComponentStyle()}>\r\n\t\t\t\t\t<div css={boxStyle()}>\r\n\t\t\t\t\t\t<div css={titleWrapperStyle()}>\r\n\t\t\t\t\t\t\t<div css={thumbnailWrapperStyle}>\r\n\t\t\t\t\t\t\t\t<img src={CometChatUI} alt=\"CometChatUI\" />\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t<h2 css={componentTitleStyle()}>CometChatUI</h2>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<div css={descWrapperStyle()}>\r\n\t\t\t\t\t\t\t<p>\r\n\t\t\t\t\t\t\t\tThe <code>CometChatUI</code> component launches a fully working chat application.\r\n\t\t\t\t\t\t\t</p>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<ul css={linkWrapperStyle()}>\r\n\t\t\t\t\t\t\t<li>\r\n\t\t\t\t\t\t\t\t<Link css={linkStyle()} to=\"/embedded-app\">\r\n\t\t\t\t\t\t\t\t\tLaunch\r\n\t\t\t\t\t\t\t\t</Link>\r\n\t\t\t\t\t\t\t</li>\r\n\t\t\t\t\t\t</ul>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\r\n\t\t\t\t<div css={componentStyle()}>\r\n\t\t\t\t\t<div css={boxStyle()}>\r\n\t\t\t\t\t\t<div css={titleWrapperStyle()}>\r\n\t\t\t\t\t\t\t<div css={thumbnailWrapperStyle}>\r\n\t\t\t\t\t\t\t\t<img src={Component} alt=\"Conversations\" />\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t<h2 css={componentTitleStyle()}>Conversations</h2>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<div css={descWrapperStyle()}>\r\n\t\t\t\t\t\t\t<p>\r\n\t\t\t\t\t\t\t\tThe <code>CometChatConversationListWithMessages</code> component launches Conversation list with messaging.\r\n\t\t\t\t\t\t\t</p>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<ul css={linkWrapperStyle()}>\r\n\t\t\t\t\t\t\t<li>\r\n\t\t\t\t\t\t\t\t<Link css={linkStyle()} to=\"/conversations\">\r\n\t\t\t\t\t\t\t\t\tLaunch\r\n\t\t\t\t\t\t\t\t</Link>\r\n\t\t\t\t\t\t\t</li>\r\n\t\t\t\t\t\t</ul>\r\n\t\t\t\t\t</div>\r\n\r\n\t\t\t\t\t<div css={boxStyle()}>\r\n\t\t\t\t\t\t<div css={titleWrapperStyle()}>\r\n\t\t\t\t\t\t\t<div css={thumbnailWrapperStyle}>\r\n\t\t\t\t\t\t\t\t<img src={Component} alt=\"Groups\" />\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t<h2 css={componentTitleStyle()}>Groups</h2>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<div css={descWrapperStyle()}>\r\n\t\t\t\t\t\t\t<p>\r\n\t\t\t\t\t\t\t\tThe <code>CometChatGroupListWithMessages</code> component launches Group list with messaging.\r\n\t\t\t\t\t\t\t</p>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<ul css={linkWrapperStyle()}>\r\n\t\t\t\t\t\t\t<li>\r\n\t\t\t\t\t\t\t\t<Link css={linkStyle()} to=\"/groups\">\r\n\t\t\t\t\t\t\t\t\tLaunch\r\n\t\t\t\t\t\t\t\t</Link>\r\n\t\t\t\t\t\t\t</li>\r\n\t\t\t\t\t\t</ul>\r\n\t\t\t\t\t</div>\r\n\r\n\t\t\t\t\t<div css={boxStyle()}>\r\n\t\t\t\t\t\t<div css={titleWrapperStyle()}>\r\n\t\t\t\t\t\t\t<div css={thumbnailWrapperStyle}>\r\n\t\t\t\t\t\t\t\t<img src={Component} alt=\"Users\" />\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t<h2 css={componentTitleStyle()}>Users</h2>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<div css={descWrapperStyle()}>\r\n\t\t\t\t\t\t\t<p>\r\n\t\t\t\t\t\t\t\tThe <code>CometChatUserListWithMessages</code> component launches User list with messaging.\r\n\t\t\t\t\t\t\t</p>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<ul css={linkWrapperStyle()}>\r\n\t\t\t\t\t\t\t<li>\r\n\t\t\t\t\t\t\t\t<Link css={linkStyle()} to=\"/users\">\r\n\t\t\t\t\t\t\t\t\tLaunch\r\n\t\t\t\t\t\t\t\t</Link>\r\n\t\t\t\t\t\t\t</li>\r\n\t\t\t\t\t\t</ul>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\r\n\t\t\t\t<div css={componentStyle()}>\r\n\t\t\t\t\t<div css={boxStyle()}>\r\n\t\t\t\t\t\t<div css={titleWrapperStyle()}>\r\n\t\t\t\t\t\t\t<div css={thumbnailWrapperStyle}>\r\n\t\t\t\t\t\t\t\t<img src={listComponent} alt=\"Conversation List\" />\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t<h2 css={componentTitleStyle()}>Conversation List</h2>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<div css={descWrapperStyle()}>\r\n\t\t\t\t\t\t\t<p>\r\n\t\t\t\t\t\t\t\tThe <code>CometChatConversationList</code> component launches Conversation list.\r\n\t\t\t\t\t\t\t</p>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<ul css={linkWrapperStyle()}>\r\n\t\t\t\t\t\t\t<li>\r\n\t\t\t\t\t\t\t\t<Link css={linkStyle()} to=\"/conversation-list\">\r\n\t\t\t\t\t\t\t\t\tLaunch\r\n\t\t\t\t\t\t\t\t</Link>\r\n\t\t\t\t\t\t\t</li>\r\n\t\t\t\t\t\t</ul>\r\n\t\t\t\t\t</div>\r\n\r\n\t\t\t\t\t<div css={boxStyle()}>\r\n\t\t\t\t\t\t<div css={titleWrapperStyle()}>\r\n\t\t\t\t\t\t\t<div css={thumbnailWrapperStyle}>\r\n\t\t\t\t\t\t\t\t<img src={listComponent} alt=\"Group List\" />\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t<h2 css={componentTitleStyle()}>Group List</h2>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<div css={descWrapperStyle()}>\r\n\t\t\t\t\t\t\t<p>\r\n\t\t\t\t\t\t\t\tThe <code>CometChatGroupList</code> component launches Group list.\r\n\t\t\t\t\t\t\t</p>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<ul css={linkWrapperStyle()}>\r\n\t\t\t\t\t\t\t<li>\r\n\t\t\t\t\t\t\t\t<Link css={linkStyle()} to=\"/group-list\">\r\n\t\t\t\t\t\t\t\t\tLaunch\r\n\t\t\t\t\t\t\t\t</Link>\r\n\t\t\t\t\t\t\t</li>\r\n\t\t\t\t\t\t</ul>\r\n\t\t\t\t\t</div>\r\n\r\n\t\t\t\t\t<div css={boxStyle()}>\r\n\t\t\t\t\t\t<div css={titleWrapperStyle()}>\r\n\t\t\t\t\t\t\t<div css={thumbnailWrapperStyle}>\r\n\t\t\t\t\t\t\t\t<img src={listComponent} alt=\"User List\" />\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t<h2 css={componentTitleStyle()}>User List</h2>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<div css={descWrapperStyle()}>\r\n\t\t\t\t\t\t\t<p>\r\n\t\t\t\t\t\t\t\tThe <code>CometChatUserList</code> component launches User list.\r\n\t\t\t\t\t\t\t</p>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<ul css={linkWrapperStyle()}>\r\n\t\t\t\t\t\t\t<li>\r\n\t\t\t\t\t\t\t\t<Link css={linkStyle()} to=\"/user-list\">\r\n\t\t\t\t\t\t\t\t\tLaunch\r\n\t\t\t\t\t\t\t\t</Link>\r\n\t\t\t\t\t\t\t</li>\r\n\t\t\t\t\t\t</ul>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\r\n\t\t\t\t<div css={componentStyle()}>\r\n\t\t\t\t\t<div css={boxStyle()} style={{ maxWidth: \"33%\" }}>\r\n\t\t\t\t\t\t<div css={titleWrapperStyle()}>\r\n\t\t\t\t\t\t\t<div css={thumbnailWrapperStyle}>\r\n\t\t\t\t\t\t\t\t<img src={listComponent} alt=\"CometChatMessages\" />\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t<h2 css={componentTitleStyle()}>CometChatMessages</h2>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<div css={descWrapperStyle()}>\r\n\t\t\t\t\t\t\t<p>\r\n\t\t\t\t\t\t\t\tThe <code>CometChatMessages</code> component launches User list.\r\n\t\t\t\t\t\t\t</p>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<ul css={linkWrapperStyle()}>\r\n\t\t\t\t\t\t\t<li>\r\n\t\t\t\t\t\t\t\t<Link css={linkStyle()} to=\"/messages\">\r\n\t\t\t\t\t\t\t\t\tLaunch\r\n\t\t\t\t\t\t\t\t</Link>\r\n\t\t\t\t\t\t\t</li>\r\n\t\t\t\t\t\t</ul>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t\t\r\n\t\t\t\t<div css={logoutBtn()}>\r\n\t\t\t\t\t<button type=\"button\" onClick={this.props.onLogout}>\r\n\t\t\t\t\t\tLogout\r\n\t\t\t\t\t</button>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t);\r\n\t}\r\n}\r\n\r\nconst mapStateToProps = state => {\r\n\treturn {\r\n\t\tloading: state.loading,\r\n\t\terror: state.error,\r\n\t\tisLoggedIn: state.isLoggedIn,\r\n\t};\r\n};\r\n\r\nconst mapDispatchToProps = dispatch => {\r\n\treturn {\r\n\t\tonLogout: () => dispatch(actions.logout()),\r\n\t};\r\n};\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(HomePage);\r\n","import React from 'react';\r\nimport { Router, Route, Switch } from 'react-router-dom';\r\nimport { connect } from 'react-redux';\r\nimport { createBrowserHistory } from 'history';\r\n/** @jsxRuntime classic */\r\n/** @jsx jsx */\r\nimport { jsx } from '@emotion/core';\r\n\r\nimport PrivateRoute from '../../PrivateRoute';\r\n\r\nimport KitchenSinkApp from '../../defaultPages/KitchenSinkApp';\r\nimport HomePage from '../../defaultPages/HomePage';\r\n\r\nimport * as actions from '../../store/action';\r\n\r\nimport {\r\n    // CometChatUI,\r\n    // CometChatConversationList,\r\n    // CometChatConversationListWithMessages,\r\n    // CometChatUserList,\r\n    CometChatUserListWithMessages,\r\n    // CometChatGroupList,\r\n    // CometChatGroupListWithMessages,\r\n    // CometChatMessages\r\n} from '../../cometchat-pro-react-ui-kit/CometChatWorkspace/src';\r\n\r\nimport {\r\n    wrapperStyle\r\n} from \"./style\";\r\n\r\nconst history = createBrowserHistory();\r\n\r\nclass App extends React.Component {\r\n    state = {\r\n        isLoggedin: false\r\n    }\r\n\r\n    componentDidMount() {\r\n        this.props.getLoggedinUser();\r\n    }\r\n\r\n    render() {\r\n\r\n        return (\r\n            <div css={wrapperStyle()}>\r\n                <Router history={history}>\r\n                    <Switch>\r\n                        {/* <PrivateRoute path=\"/embedded-app\" component={CometChatUI} /> */}\r\n                        {/* <PrivateRoute path=\"/conversations\" component={CometChatConversationListWithMessages} /> */}\r\n                        {/* <PrivateRoute path=\"/groups\" component={CometChatGroupListWithMessages} /> */}\r\n                        <PrivateRoute path=\"/users\" component={CometChatUserListWithMessages} />\r\n                        {/* <PrivateRoute path=\"/conversation-list\" component={CometChatConversationList} />\r\n                        <PrivateRoute path=\"/group-list\" component={CometChatGroupList} />\r\n                        <PrivateRoute path=\"/user-list\" component={CometChatUserList} />\r\n                        <PrivateRoute path=\"/messages\" component={CometChatMessages} chatWithGroup=\"supergroup\" /> */}\r\n                        <PrivateRoute exact path=\"/\" component={HomePage} />\r\n                        <Route path=\"/login\" component={KitchenSinkApp} />\r\n                    </Switch>\r\n                </Router>\r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\nconst mapStateToProps = state => {\r\n    return {\r\n        isLoggedIn: state.isLoggedIn\r\n    };\r\n};\r\n\r\nconst mapDispatchToProps = dispatch => {\r\n    return {\r\n        getLoggedinUser: () => dispatch(actions.authCheckState())\r\n    };\r\n};\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(App);\r\n","export const wrapperStyle = () => {\r\n\r\n    return {\r\n        width: \"100vw\",\r\n        height: \"100vh\",\r\n    }\r\n}","// This optional code is used to register a service worker.\r\n// register() is not called by default.\r\n\r\n// This lets the app load faster on subsequent visits in production, and gives\r\n// it offline capabilities. However, it also means that developers (and users)\r\n// will only see deployed updates on subsequent visits to a page, after all the\r\n// existing tabs open on the page have been closed, since previously cached\r\n// resources are updated in the background.\r\n\r\n// To learn more about the benefits of this model and instructions on how to\r\n// opt-in, read https://bit.ly/CRA-PWA\r\n\r\nconst isLocalhost = Boolean(\r\n  window.location.hostname === 'localhost' ||\r\n    // [::1] is the IPv6 localhost address.\r\n    window.location.hostname === '[::1]' ||\r\n    // 127.0.0.1/8 is considered localhost for IPv4.\r\n    window.location.hostname.match(\r\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\r\n    )\r\n);\r\n\r\nexport function register(config) {\r\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\r\n    // The URL constructor is available in all browsers that support SW.\r\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\r\n    if (publicUrl.origin !== window.location.origin) {\r\n      // Our service worker won't work if PUBLIC_URL is on a different origin\r\n      // from what our page is served on. This might happen if a CDN is used to\r\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\r\n      return;\r\n    }\r\n\r\n    window.addEventListener('load', () => {\r\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\r\n\r\n      if (isLocalhost) {\r\n        // This is running on localhost. Let's check if a service worker still exists or not.\r\n        checkValidServiceWorker(swUrl, config);\r\n\r\n        // Add some additional logging to localhost, pointing developers to the\r\n        // service worker/PWA documentation.\r\n        navigator.serviceWorker.ready.then(() => {\r\n          console.log(\r\n            'This web app is being served cache-first by a service ' +\r\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\r\n          );\r\n        });\r\n      } else {\r\n        // Is not localhost. Just register service worker\r\n        registerValidSW(swUrl, config);\r\n      }\r\n    });\r\n  }\r\n}\r\n\r\nfunction registerValidSW(swUrl, config) {\r\n  navigator.serviceWorker\r\n    .register(swUrl)\r\n    .then(registration => {\r\n      registration.onupdatefound = () => {\r\n        const installingWorker = registration.installing;\r\n        if (installingWorker == null) {\r\n          return;\r\n        }\r\n        installingWorker.onstatechange = () => {\r\n          if (installingWorker.state === 'installed') {\r\n            if (navigator.serviceWorker.controller) {\r\n              // At this point, the updated precached content has been fetched,\r\n              // but the previous service worker will still serve the older\r\n              // content until all client tabs are closed.\r\n              console.log(\r\n                'New content is available and will be used when all ' +\r\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\r\n              );\r\n\r\n              // Execute callback\r\n              if (config && config.onUpdate) {\r\n                config.onUpdate(registration);\r\n              }\r\n            } else {\r\n              // At this point, everything has been precached.\r\n              // It's the perfect time to display a\r\n              // \"Content is cached for offline use.\" message.\r\n              console.log('Content is cached for offline use.');\r\n\r\n              // Execute callback\r\n              if (config && config.onSuccess) {\r\n                config.onSuccess(registration);\r\n              }\r\n            }\r\n          }\r\n        };\r\n      };\r\n    })\r\n    .catch(error => {\r\n      console.error('Error during service worker registration:', error);\r\n    });\r\n}\r\n\r\nfunction checkValidServiceWorker(swUrl, config) {\r\n  // Check if the service worker can be found. If it can't reload the page.\r\n  fetch(swUrl)\r\n    .then(response => {\r\n      // Ensure service worker exists, and that we really are getting a JS file.\r\n      const contentType = response.headers.get('content-type');\r\n      if (\r\n        response.status === 404 ||\r\n        (contentType != null && contentType.indexOf('javascript') === -1)\r\n      ) {\r\n        // No service worker found. Probably a different app. Reload the page.\r\n        navigator.serviceWorker.ready.then(registration => {\r\n          registration.unregister().then(() => {\r\n            window.location.reload();\r\n          });\r\n        });\r\n      } else {\r\n        // Service worker found. Proceed as normal.\r\n        registerValidSW(swUrl, config);\r\n      }\r\n    })\r\n    .catch(() => {\r\n      console.log(\r\n        'No internet connection found. App is running in offline mode.'\r\n      );\r\n    });\r\n}\r\n\r\nexport function unregister() {\r\n  if ('serviceWorker' in navigator) {\r\n    navigator.serviceWorker.ready.then(registration => {\r\n      registration.unregister();\r\n    });\r\n  }\r\n}\r\n","import * as actionTypes from './actionTypes';\r\n\r\nconst initialState = {\r\n    user: {},\r\n    isLoggedIn: false,\r\n    error: null,\r\n    loading: false,\r\n    authRedirectPath: \"/\"\r\n};\r\n\r\nconst authStart = ( state, action ) => {\r\n    return {\r\n        ...state,\r\n        error: null, \r\n        loading: true \r\n    };\r\n};\r\n\r\nconst authSuccess = (state, action) => {\r\n    return {\r\n        ...state,\r\n        user: action.user,\r\n        error: null,\r\n        isLoggedIn: action.isLoggedIn,\r\n        loading: false \r\n    };\r\n};\r\n\r\nconst authFail = (state, action) => {\r\n    return {\r\n        ...state,\r\n        error: action.error,\r\n        loading: false\r\n    };\r\n};\r\n\r\nconst authLogout = (state, action) => {\r\n    return {\r\n        ...state,\r\n        isLoggedIn: false,\r\n        user: null\r\n    };\r\n};\r\n\r\nconst setAuthRedirectPath = (state, action) => {\r\n    return {\r\n        ...state,\r\n        authRedirectPath: action.path\r\n    };\r\n}\r\n\r\nconst reducer = ( state = initialState, action ) => {\r\n   \r\n    switch ( action.type ) {\r\n        case actionTypes.AUTH_START: return authStart(state, action);\r\n        case actionTypes.AUTH_SUCCESS: return authSuccess(state, action);\r\n        case actionTypes.AUTH_FAIL: return authFail(state, action);\r\n        case actionTypes.AUTH_LOGOUT: return authLogout(state, action);\r\n        case actionTypes.SET_AUTH_REDIRECT_PATH: return setAuthRedirectPath(state,action);\r\n        default:\r\n            return state;\r\n    }\r\n};\r\n\r\nexport default reducer;","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport { BrowserRouter } from 'react-router-dom';\r\n\r\nimport { Provider } from 'react-redux';\r\nimport { createStore, applyMiddleware, compose } from 'redux';\r\nimport thunk from 'redux-thunk';\r\n\r\nimport App from './defaultPages/App';\r\n\r\nimport * as serviceWorker from './serviceWorker';\r\nimport { CometChat } from \"@cometchat-pro/chat\"\r\nimport { COMETCHAT_CONSTANTS } from './consts';\r\n\r\nimport reducer from './store/reducer';\r\n\r\nimport './index.scss';\r\n\r\nconst store = createStore(reducer, compose(\r\n  applyMiddleware(thunk)\r\n));\r\n\r\nvar appID = COMETCHAT_CONSTANTS.APP_ID;\r\nvar region = COMETCHAT_CONSTANTS.REGION;\r\n\r\nvar appSetting = new CometChat.AppSettingsBuilder().subscribePresenceForAllUsers().setRegion(region).build();\r\nCometChat.init(appID, appSetting).then(() => {\r\n\r\n    if(CometChat.setSource) {\r\n      CometChat.setSource(\"ui-kit\", \"web\", \"reactjs\");\r\n    }\r\n    console.log(\"Initialization completed successfully\");\r\n    ReactDOM.render(\r\n      <Provider store={store}>\r\n        <BrowserRouter>\r\n          <App />\r\n        </BrowserRouter>\r\n      </Provider>\r\n    , document.getElementById('root'));\r\n  },\r\n  error => {\r\n    console.log(\"Initialization failed with error:\", error);\r\n    // Check the reason for error and take appropriate action.\r\n  }\r\n);\r\n\r\n// If you want your app to work offline and load faster, you can change\r\n// unregister() to register() below. Note this comes with some pitfalls.\r\n// Learn more about service workers: https://bit.ly/CRA-PWA\r\nserviceWorker.unregister();\r\n"],"sourceRoot":""}